{"id":"36520459505","type":"IssueCommentEvent","actor":{"id":19591868,"login":"skosukhin","display_login":"skosukhin","gravatar_id":"","url":"https://api.github.com/users/skosukhin","avatar_url":"https://avatars.githubusercontent.com/u/19591868?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/tukaani-project/xz/issues/91","repository_url":"https://api.github.com/repos/tukaani-project/xz","labels_url":"https://api.github.com/repos/tukaani-project/xz/issues/91/labels{/name}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/91/comments","events_url":"https://api.github.com/repos/tukaani-project/xz/issues/91/events","html_url":"https://github.com/tukaani-project/xz/pull/91","id":2183979010,"node_id":"PR_kwDOIQBEvs5pgS85","number":91,"title":"liblzma: Fix building with NVHPC (NVIDIA HPC SDK).","user":{"login":"skosukhin","id":19591868,"node_id":"MDQ6VXNlcjE5NTkxODY4","avatar_url":"https://avatars.githubusercontent.com/u/19591868?v=4","gravatar_id":"","url":"https://api.github.com/users/skosukhin","html_url":"https://github.com/skosukhin","followers_url":"https://api.github.com/users/skosukhin/followers","following_url":"https://api.github.com/users/skosukhin/following{/other_user}","gists_url":"https://api.github.com/users/skosukhin/gists{/gist_id}","starred_url":"https://api.github.com/users/skosukhin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/skosukhin/subscriptions","organizations_url":"https://api.github.com/users/skosukhin/orgs","repos_url":"https://api.github.com/users/skosukhin/repos","events_url":"https://api.github.com/users/skosukhin/events{/privacy}","received_events_url":"https://api.github.com/users/skosukhin/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2024-03-13T13:06:26Z","updated_at":"2024-03-13T17:13:31Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/91","html_url":"https://github.com/tukaani-project/xz/pull/91","diff_url":"https://github.com/tukaani-project/xz/pull/91.diff","patch_url":"https://github.com/tukaani-project/xz/pull/91.patch","merged_at":null},"body":"NVHPC compiler has several issues that make it impossible to build liblzma:\r\n  - the compiler cannot handle unions that contain pointers that are not the first members (in some cases);\r\n  - the compiler cannot handle the assembler code in range_decoder.h (LZMA_RANGE_DECODER_CONFIG has to be set to zero);\r\n  - the compiler fails to produce valid code for delta_decode if the vectorization is enabled, which results in failed tests.\r\n\r\nThis introduces NVHPC-specific workarounds that address the issues.\r\n\r\n## Pull request checklist\r\n\r\nPlease check if your PR fulfills the following requirements:\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been reviewed and added / updated if needed (for bug fixes / features)\r\n- [ ] Build was run locally and without warnings or errors\r\n- [x] All previous and new tests pass\r\n\r\n\r\n## Pull request type\r\n\r\nPlease check the type of change your PR introduces:\r\n- [ ] Bugfix\r\n- [ ] Feature\r\n- [ ] Code style update (formatting, renaming, typo fix)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] Documentation content changes\r\n- [x] Other (please describe): workarounds for the compiler\r\n\r\n\r\n## What is the current behavior?\r\nIt's not possible to build and get the tests pass with any existing release of the NVHPC compiler even when configuring as follows:\r\n```console\r\n$ ./configure --disable-symbol-versions CPPFLAGS='-DLZMA_RANGE_DECODER_CONFIG=0' CFLAGS='-O'\r\n```\r\n(`-O` is the same as the default `-O2` but without SIMD)\r\n\r\n\r\n## What is the new behavior?\r\nIt is possible to build and get the tests pass with any existing release of the NVHPC compiler when configuring as follows:\r\n```console\r\n$ ./configure --disable-symbol-versions\r\n```\r\n\r\n## Does this introduce a breaking change?\r\n\r\n- [ ] Yes\r\n- [x] No\r\n\r\n\r\n## Other information\r\n\r\nI don't know if there is any interest in supporting NVHPC and I'd understand if there's none.","reactions":{"url":"https://api.github.com/repos/tukaani-project/xz/issues/91/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tukaani-project/xz/issues/91/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/tukaani-project/xz/issues/comments/1995041079","html_url":"https://github.com/tukaani-project/xz/pull/91#issuecomment-1995041079","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/91","id":1995041079,"node_id":"IC_kwDOIQBEvs526ek3","user":{"login":"skosukhin","id":19591868,"node_id":"MDQ6VXNlcjE5NTkxODY4","avatar_url":"https://avatars.githubusercontent.com/u/19591868?v=4","gravatar_id":"","url":"https://api.github.com/users/skosukhin","html_url":"https://github.com/skosukhin","followers_url":"https://api.github.com/users/skosukhin/followers","following_url":"https://api.github.com/users/skosukhin/following{/other_user}","gists_url":"https://api.github.com/users/skosukhin/gists{/gist_id}","starred_url":"https://api.github.com/users/skosukhin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/skosukhin/subscriptions","organizations_url":"https://api.github.com/users/skosukhin/orgs","repos_url":"https://api.github.com/users/skosukhin/repos","events_url":"https://api.github.com/users/skosukhin/events{/privacy}","received_events_url":"https://api.github.com/users/skosukhin/received_events","type":"User","site_admin":false},"created_at":"2024-03-13T17:13:29Z","updated_at":"2024-03-13T17:13:29Z","author_association":"NONE","body":"> Does NVHPC support any kind of inline assembly, or is there something we are using that specifically is a problem?\r\n\r\nI don't know much about the assembly. A random example from the Internet\r\n```c\r\n#include <stdio.h>\r\n\r\nint main() {\r\n\r\n    int arg1, arg2, add, sub, mul, quo, rem ;\r\n\r\n    printf( \"Enter two integer numbers : \" );\r\n    scanf( \"%d%d\", &arg1, &arg2 );\r\n\r\n    /* Perform Addition, Subtraction, Multiplication & Division */\r\n    __asm__ ( \"addl %%ebx, %%eax;\" : \"=a\" (add) : \"a\" (arg1) , \"b\" (arg2) );\r\n    __asm__ ( \"subl %%ebx, %%eax;\" : \"=a\" (sub) : \"a\" (arg1) , \"b\" (arg2) );\r\n    __asm__ ( \"imull %%ebx, %%eax;\" : \"=a\" (mul) : \"a\" (arg1) , \"b\" (arg2) );\r\n\r\n    __asm__ ( \"movl $0x0, %%edx;\"\r\n              \"movl %2, %%eax;\"\r\n              \"movl %3, %%ebx;\"\r\n               \"idivl %%ebx;\" : \"=a\" (quo), \"=d\" (rem) : \"g\" (arg1), \"g\" (arg2) );\r\n\r\n    printf( \"%d + %d = %d\\n\", arg1, arg2, add );\r\n    printf( \"%d - %d = %d\\n\", arg1, arg2, sub );\r\n    printf( \"%d * %d = %d\\n\", arg1, arg2, mul );\r\n    printf( \"%d / %d = %d\\n\", arg1, arg2, quo );\r\n    printf( \"%d %% %d = %d\\n\", arg1, arg2, rem );\r\n\r\n    return 0 ;\r\n}\r\n```\r\ncompiles and works as expected.\r\n\r\nAlso, `#define LZMA_RANGE_DECODER_CONFIG 0x100` works fine but anything else, e.g. `0x180`, fails with an ugly message:\r\n```console\r\n$ nvc -DHAVE_CONFIG_H -I. -I../.. -I../../src/liblzma/api -I../../src/liblzma/common -I../../src/liblzma/check -I../../src/liblzma/lz -I../../src/liblzma/rangecoder -I../../src/liblzma/lzma -I../../src/liblzma/delta -I../../src/liblzma/simple -I../../src/common -DTUKLIB_SYMBOL_PREFIX=lzma_ -DLZMA_RANGE_DECODER_CONFIG=0x180 -pthread -fvisibility=hidden -Wall -Wextra -Wvla -Wformat=2 -Winit-self -Wfloat-equal -Wundef -Wshadow -Wpointer-arith -Wwrite-strings -Waggregate-return -Wstrict-prototypes -Wmissing-prototypes -Wredundant-decls -g -O2 -c lzma/lzma_decoder.c -MD -MF .deps/liblzma_la-lzma_decoder.TPlo  -fPIC -DPIC -o .libs/liblzma_la-lzma_decoder.o\r\n\"lzma/lzma_decoder.c\", line 376: warning: variable \"t0\" was set but never used [set_but_not_used]\r\n  \t\t\t\trc_matched_literal(probs,\r\n  \t\t\t\t^\r\n\r\nRemark: individual warnings can be suppressed with \"--diag_suppress <warning-name>\"\r\n\r\n\"lzma/lzma_decoder.c\", line 376: warning: variable \"t1\" was set but never used [set_but_not_used]\r\n  \t\t\t\trc_matched_literal(probs,\r\n  \t\t\t\t^\r\n\r\n\"lzma/lzma_decoder.c\", line 376: warning: variable \"t_prob\" was set but never used [set_but_not_used]\r\n  \t\t\t\trc_matched_literal(probs,\r\n  \t\t\t\t^\r\n\r\n\"lzma/lzma_decoder.c\", line 501: warning: variable \"t0\" was set but never used [set_but_not_used]\r\n  \t\t\t\t\trc_direct(rep0, limit);\r\n  \t\t\t\t\t^\r\n\r\n\"lzma/lzma_decoder.c\", line 501: warning: variable \"t1\" was set but never used [set_but_not_used]\r\n  \t\t\t\t\trc_direct(rep0, limit);\r\n  \t\t\t\t\t^\r\n\r\n\"lzma/lzma_decoder.c\", line 986: warning: enumerated type mixed with another type [mixed_enum_type]\r\n  \tcoder->state = state;\r\n  \t             ^\r\n\r\nLLVM ERROR: Bad $ operand number in inline asm string: 'add\t$8, $6\r\n\tand\t$8, $5\r\n\tadd\t$5, $6\r\n\tmovzw\t($10, ${6:q}, 2), $4\r\n\tadd\t$6, $6\r\n\txor\t$5, $8\r\n\tadd\t$7, $7\r\n\tcmp\t$11, $0\r\n\tjae\t1f\r\n\tshl\t$12, $1\r\n\tmov\t($9), ${1:b}\r\n\tshl\t$12, $0\r\n\tinc\t$9\r\n1:\r\nmov\t$0, $2\r\n\tshr\t$13, $0\r\n\timul\t$4, $0\r\n\tsub\t$0, $2\r\n\tmov\t$1, $3\r\n\tsub\t$0, $1\r\n\tcmovae\t$2, $0\r\n\tlea\t${>:c}(${4:q}), $2\r\n\tcmovb\t$3, $1\r\n\tmov\t$6, $3\r\n\tcmovae\t$4, $2\r\n\tcmovae\t$5, $8\r\n\tmov\t$7, $5\r\n\tsbb\t$$-1, $6\r\n\tshr\t$15, $2\r\n\tand\t$$0x1FF, $6\r\n\tsub\t$2, $4\r\n\tmov\t${4:w}, ($10, ${3:q}, 1)\r\n\tadd\t$8, $6\r\n\tand\t$8, $5\r\n\tadd\t$5, $6\r\n\tmovzw\t($10, ${6:q}, 2), $4\r\n\tadd\t$6, $6\r\n\txor\t$5, $8\r\n\tadd\t$7, $7\r\n\tcmp\t$11, $0\r\n\tjae\t1f\r\n\tshl\t$12, $1\r\n\tmov\t($9), ${1:b}\r\n\tshl\t$12, $0\r\n\tinc\t$9\r\n1:\r\nmov\t$0, $2\r\n\tshr\t$13, $0\r\n\timul\t$4, $0\r\n\tsub\t$0, $2\r\n\tmov\t$1, $3\r\n\tsub\t$0, $1\r\n\tcmovae\t$2, $0\r\n\tlea\t${>:c}(${4:q}), $2\r\n\tcmovb\t$3, $1\r\n\tmov\t$6, $3\r\n\tcmovae\t$4, $2\r\n\tcmovae\t$5, $8\r\n\tmov\t$7, $5\r\n\tsbb\t$$-1, $6\r\n\tshr\t$15, $2\r\n\tand\t$$0x1FF, $6\r\n\tsub\t$2, $4\r\n\tmov\t${4:w}, ($10, ${3:q}, 1)\r\n\tadd\t$8, $6\r\n\tand\t$8, $5\r\n\tadd\t$5, $6\r\n\tmovzw\t($10, ${6:q}, 2), $4\r\n\tadd\t$6, $6\r\n\txor\t$5, $8\r\n\tadd\t$7, $7\r\n\tcmp\t$11, $0\r\n\tjae\t1f\r\n\tshl\t$12, $1\r\n\tmov\t($9), ${1:b}\r\n\tshl\t$12, $0\r\n\tinc\t$9\r\n1:\r\nmov\t$0, $2\r\n\tshr\t$13, $0\r\n\timul\t$4, $0\r\n\tsub\t$0, $2\r\n\tmov\t$1, $3\r\n\tsub\t$0, $1\r\n\tcmovae\t$2, $0\r\n\tlea\t${>:c}(${4:q}), $2\r\n\tcmovb\t$3, $1\r\n\tmov\t$6, $3\r\n\tcmovae\t$4, $2\r\n\tcmovae\t$5, $8\r\n\tmov\t$7, $5\r\n\tsbb\t$$-1, $6\r\n\tshr\t$15, $2\r\n\tand\t$$0x1FF, $6\r\n\tsub\t$2, $4\r\n\tmov\t${4:w}, ($10, ${3:q}, 1)\r\n\tadd\t$8, $6\r\n\tand\t$8, $5\r\n\tadd\t$5, $6\r\n\tmovzw\t($10, ${6:q}, 2), $4\r\n\tadd\t$6, $6\r\n\txor\t$5, $8\r\n\tadd\t$7, $7\r\n\tcmp\t$11, $0\r\n\tjae\t1f\r\n\tshl\t$12, $1\r\n\tmov\t($9), ${1:b}\r\n\tshl\t$12, $0\r\n\tinc\t$9\r\n1:\r\nmov\t$0, $2\r\n\tshr\t$13, $0\r\n\timul\t$4, $0\r\n\tsub\t$0, $2\r\n\tmov\t$1, $3\r\n\tsub\t$0, $1\r\n\tcmovae\t$2, $0\r\n\tlea\t${>:c}(${4:q}), $2\r\n\tcmovb\t$3, $1\r\n\tmov\t$6, $3\r\n\tcmovae\t$4, $2\r\n\tcmovae\t$5, $8\r\n\tmov\t$7, $5\r\n\tsbb\t$$-1, $6\r\n\tshr\t$15, $2\r\n\tand\t$$0x1FF, $6\r\n\tsub\t$2, $4\r\n\tmov\t${4:w}, ($10, ${3:q}, 1)\r\n\tadd\t$8, $6\r\n\tand\t$8, $5\r\n\tadd\t$5, $6\r\n\tmovzw\t($10, ${6:q}, 2), $4\r\n\tadd\t$6, $6\r\n\txor\t$5, $8\r\n\tadd\t$7, $7\r\n\tcmp\t$11, $0\r\n\tjae\t1f\r\n\tshl\t$12, $1\r\n\tmov\t($9), ${1:b}\r\n\tshl\t$12, $0\r\n\tinc\t$9\r\n1:\r\nmov\t$0, $2\r\n\tshr\t$13, $0\r\n\timul\t$4, $0\r\n\tsub\t$0, $2\r\n\tmov\t$1, $3\r\n\tsub\t$0, $1\r\n\tcmovae\t$2, $0\r\n\tlea\t${>:c}(${4:q}), $2\r\n\tcmovb\t$3, $1\r\n\tmov\t$6, $3\r\n\tcmovae\t$4, $2\r\n\tcmovae\t$5, $8\r\n\tmov\t$7, $5\r\n\tsbb\t$$-1, $6\r\n\tshr\t$15, $2\r\n\tand\t$$0x1FF, $6\r\n\tsub\t$2, $4\r\n\tmov\t${4:w}, ($10, ${3:q}, 1)\r\n\tadd\t$8, $6\r\n\tand\t$8, $5\r\n\tadd\t$5, $6\r\n\tmovzw\t($10, ${6:q}, 2), $4\r\n\tadd\t$6, $6\r\n\txor\t$5, $8\r\n\tadd\t$7, $7\r\n\tcmp\t$11, $0\r\n\tjae\t1f\r\n\tshl\t$12, $1\r\n\tmov\t($9), ${1:b}\r\n\tshl\t$12, $0\r\n\tinc\t$9\r\n1:\r\nmov\t$0, $2\r\n\tshr\t$13, $0\r\n\timul\t$4, $0\r\n\tsub\t$0, $2\r\n\tmov\t$1, $3\r\n\tsub\t$0, $1\r\n\tcmovae\t$2, $0\r\n\tlea\t${>:c}(${4:q}), $2\r\n\tcmovb\t$3, $1\r\n\tmov\t$6, $3\r\n\tcmovae\t$4, $2\r\n\tcmovae\t$5, $8\r\n\tmov\t$7, $5\r\n\tsbb\t$$-1, $6\r\n\tshr\t$15, $2\r\n\tand\t$$0x1FF, $6\r\n\tsub\t$2, $4\r\n\tmov\t${4:w}, ($10, ${3:q}, 1)\r\n\tadd\t$8, $6\r\n\tand\t$8, $5\r\n\tadd\t$5, $6\r\n\tmovzw\t($10, ${6:q}, 2), $4\r\n\tadd\t$6, $6\r\n\txor\t$5, $8\r\n\tadd\t$7, $7\r\n\tcmp\t$11, $0\r\n\tjae\t1f\r\n\tshl\t$12, $1\r\n\tmov\t($9), ${1:b}\r\n\tshl\t$12, $0\r\n\tinc\t$9\r\n1:\r\nmov\t$0, $2\r\n\tshr\t$13, $0\r\n\timul\t$4, $0\r\n\tsub\t$0, $2\r\n\tmov\t$1, $3\r\n\tsub\t$0, $1\r\n\tcmovae\t$2, $0\r\n\tlea\t${>:c}(${4:q}), $2\r\n\tcmovb\t$3, $1\r\n\tmov\t$6, $3\r\n\tcmovae\t$4, $2\r\n\tcmovae\t$5, $8\r\n\tmov\t$7, $5\r\n\tsbb\t$$-1, $6\r\n\tshr\t$15, $2\r\n\tand\t$$0x1FF, $6\r\n\tsub\t$2, $4\r\n\tmov\t${4:w}, ($10, ${3:q}, 1)\r\n\tadd\t$8, $6\r\n\tand\t$8, $5\r\n\tadd\t$5, $6\r\n\tmovzw\t($10, ${6:q}, 2), $4\r\n\tadd\t$6, $6\r\n\tcmp\t$11, $0\r\n\tjae\t1f\r\n\tshl\t$12, $1\r\n\tmov\t($9), ${1:b}\r\n\tshl\t$12, $0\r\n\tinc\t$9\r\n1:\r\nmov\t$0, $2\r\n\tshr\t$13, $0\r\n\timul\t$4, $0\r\n\tsub\t$0, $2\r\n\tmov\t$1, $3\r\n\tsub\t$0, $1\r\n\tcmovae\t$2, $0\r\n\tlea\t${>:c}(${4:q}), $2\r\n\tcmovb\t$3, $1\r\n\tmov\t$6, $3\r\n\tcmovae\t$4, $2\r\n\tsbb\t$$-1, $6\r\n\tshr\t$15, $2\r\n\tand\t$$0x1FF, $6\r\n\tsub\t$2, $4\r\n\tmov\t${4:w}, ($10, ${3:q}, 1)\r\n\t'\r\nPLEASE submit a bug report to https://github.com/llvm/llvm-project/issues/ and include the crash backtrace.\r\nStack dump:\r\n0.\tProgram arguments: /opt/zmaw/sw/bullseye-x64/compilers/nvhpc-23.7/Linux_x86_64/23.7/compilers/share/llvm/bin/llc /tmp/nvcSV_Pme1jzEY9E.llvm -march=x86-64 -mcpu=native -mattr=+mmx -mattr=+sse -mattr=+sse2 -mattr=+sse3 -mattr=+ssse3 -mattr=+sse4.1 -mattr=+sse4.2 -mattr=+avx -mattr=+avx2 -mattr=+f16c -mattr=+fma -mattr=+xsave -mattr=+xsaveopt -mattr=+xsavec -mattr=+xsaves -mattr=+popcnt -mattr=+sha -mattr=+aes -mattr=+pclmul -mattr=+clflushopt -mattr=+fsgsbase -mattr=+rdrnd -mattr=+bmi -mattr=+bmi2 -mattr=+lzcnt -mattr=+fxsr -mattr=+pku -mattr=+gfni -mattr=+vaes -mattr=+vpclmulqdq -mattr=+movdiri -mattr=+movdir64b -O2 -opaque-pointers -non-global-value-max-name-size=4294967295 -x86-cmov-converter=0 -dwarf-directory=false --align-all-functions=6 -override-aa-for-tbaa=true -relocation-model=pic -filetype=obj --frame-pointer=none -o .libs/liblzma_la-lzma_decoder.o\r\n1.\tRunning pass 'Function Pass Manager' on module '/tmp/nvcSV_Pme1jzEY9E.llvm'.\r\n2.\tRunning pass 'X86 Assembly Printer' on function '@lzma_decode'\r\nStack dump without symbol names (ensure you have llvm-symbolizer in your PATH or set the environment var `LLVM_SYMBOLIZER_PATH` to point to it):\r\n0  llc             0x0000563d2eb9b608 llvm::sys::PrintStackTrace(llvm::raw_ostream&, int) + 40\r\n1  llc             0x0000563d2eb9957e llvm::sys::RunSignalHandlers() + 238\r\n2  llc             0x0000563d2eb9bd9d\r\n3  libpthread.so.0 0x00007fdc14be5140\r\n4  libc.so.6       0x00007fdc148c5ce1 gsignal + 321\r\n5  libc.so.6       0x00007fdc148af537 abort + 291\r\n6  llc             0x0000563d2eb2d15c llvm::report_fatal_error(llvm::Twine const&, bool) + 460\r\n7  llc             0x0000563d2dfaba56\r\n8  llc             0x0000563d2df95a0e llvm::AsmPrinter::emitFunctionBody() + 2942\r\n9  llc             0x0000563d2dae5636\r\n10 llc             0x0000563d2e166d9f llvm::MachineFunctionPass::runOnFunction(llvm::Function&) + 607\r\n11 llc             0x0000563d2e55b00e llvm::FPPassManager::runOnFunction(llvm::Function&) + 622\r\n12 llc             0x0000563d2e5622a3 llvm::FPPassManager::runOnModule(llvm::Module&) + 51\r\n13 llc             0x0000563d2e55bc2d llvm::legacy::PassManagerImpl::run(llvm::Module&) + 2381\r\n14 llc             0x0000563d2d78146a main + 8986\r\n15 libc.so.6       0x00007fdc148b0d0a __libc_start_main + 234\r\n16 llc             0x0000563d2d77c48e\r\nnvc-Fatal-/opt/zmaw/sw/bullseye-x64/compilers/nvhpc-23.7/Linux_x86_64/23.7/compilers/share/llvm/bin/llc TERMINATED by signal 6\r\nArguments to /opt/zmaw/sw/bullseye-x64/compilers/nvhpc-23.7/Linux_x86_64/23.7/compilers/share/llvm/bin/llc\r\n/opt/zmaw/sw/bullseye-x64/compilers/nvhpc-23.7/Linux_x86_64/23.7/compilers/share/llvm/bin/llc /tmp/nvcSV_Pme1jzEY9E.llvm -march=x86-64 -mcpu=native -mattr=+mmx -mattr=+sse -mattr=+sse2 -mattr=+sse3 -mattr=+ssse3 -mattr=+sse4.1 -mattr=+sse4.2 -mattr=+avx -mattr=+avx2 -mattr=+f16c -mattr=+fma -mattr=+xsave -mattr=+xsaveopt -mattr=+xsavec -mattr=+xsaves -mattr=+popcnt -mattr=+sha -mattr=+aes -mattr=+pclmul -mattr=+clflushopt -mattr=+fsgsbase -mattr=+rdrnd -mattr=+bmi -mattr=+bmi2 -mattr=+lzcnt -mattr=+fxsr -mattr=+pku -mattr=+gfni -mattr=+vaes -mattr=+vpclmulqdq -mattr=+movdiri -mattr=+movdir64b -O2 -opaque-pointers -non-global-value-max-name-size=4294967295 -x86-cmov-converter=0 -dwarf-directory=false --align-all-functions=6 -override-aa-for-tbaa=true -relocation-model=pic -filetype=obj --frame-pointer=none -o .libs/liblzma_la-lzma_decoder.o\r\n```\r\n\r\nI hope this answers your question.","reactions":{"url":"https://api.github.com/repos/tukaani-project/xz/issues/comments/1995041079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2024-03-13T17:13:31Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"36520611449","type":"IssueCommentEvent","actor":{"id":19591868,"login":"skosukhin","display_login":"skosukhin","gravatar_id":"","url":"https://api.github.com/users/skosukhin","avatar_url":"https://avatars.githubusercontent.com/u/19591868?"},"repo":{"id":15730865,"name":"spack/spack","url":"https://api.github.com/repos/spack/spack"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/spack/spack/issues/43094","repository_url":"https://api.github.com/repos/spack/spack","labels_url":"https://api.github.com/repos/spack/spack/issues/43094/labels{/name}","comments_url":"https://api.github.com/repos/spack/spack/issues/43094/comments","events_url":"https://api.github.com/repos/spack/spack/issues/43094/events","html_url":"https://github.com/spack/spack/pull/43094","id":2175898829,"node_id":"PR_kwDOAPAIsc5pEySp","number":43094,"title":"xz: fix building with NVHPC","user":{"login":"skosukhin","id":19591868,"node_id":"MDQ6VXNlcjE5NTkxODY4","avatar_url":"https://avatars.githubusercontent.com/u/19591868?v=4","gravatar_id":"","url":"https://api.github.com/users/skosukhin","html_url":"https://github.com/skosukhin","followers_url":"https://api.github.com/users/skosukhin/followers","following_url":"https://api.github.com/users/skosukhin/following{/other_user}","gists_url":"https://api.github.com/users/skosukhin/gists{/gist_id}","starred_url":"https://api.github.com/users/skosukhin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/skosukhin/subscriptions","organizations_url":"https://api.github.com/users/skosukhin/orgs","repos_url":"https://api.github.com/users/skosukhin/repos","events_url":"https://api.github.com/users/skosukhin/events{/privacy}","received_events_url":"https://api.github.com/users/skosukhin/received_events","type":"User","site_admin":false},"labels":[{"id":620268714,"node_id":"MDU6TGFiZWw2MjAyNjg3MTQ=","url":"https://api.github.com/repos/spack/spack/labels/patch","name":"patch","color":"5319e7","default":false,"description":null},{"id":729584669,"node_id":"MDU6TGFiZWw3Mjk1ODQ2Njk=","url":"https://api.github.com/repos/spack/spack/labels/update-package","name":"update-package","color":"c68137","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-03-08T11:58:49Z","updated_at":"2024-03-13T17:18:05Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"draft":true,"pull_request":{"url":"https://api.github.com/repos/spack/spack/pulls/43094","html_url":"https://github.com/spack/spack/pull/43094","diff_url":"https://github.com/spack/spack/pull/43094.diff","patch_url":"https://github.com/spack/spack/pull/43094.patch","merged_at":null},"body":"This makes it possible to build `xz@5.2.7:%nvhpc` (and also `xz@5.2.7%intel`), which is currently not the case.","reactions":{"url":"https://api.github.com/repos/spack/spack/issues/43094/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/spack/spack/issues/43094/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/spack/spack/issues/comments/1995056442","html_url":"https://github.com/spack/spack/pull/43094#issuecomment-1995056442","issue_url":"https://api.github.com/repos/spack/spack/issues/43094","id":1995056442,"node_id":"IC_kwDOAPAIsc526iU6","user":{"login":"skosukhin","id":19591868,"node_id":"MDQ6VXNlcjE5NTkxODY4","avatar_url":"https://avatars.githubusercontent.com/u/19591868?v=4","gravatar_id":"","url":"https://api.github.com/users/skosukhin","html_url":"https://github.com/skosukhin","followers_url":"https://api.github.com/users/skosukhin/followers","following_url":"https://api.github.com/users/skosukhin/following{/other_user}","gists_url":"https://api.github.com/users/skosukhin/gists{/gist_id}","starred_url":"https://api.github.com/users/skosukhin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/skosukhin/subscriptions","organizations_url":"https://api.github.com/users/skosukhin/orgs","repos_url":"https://api.github.com/users/skosukhin/repos","events_url":"https://api.github.com/users/skosukhin/events{/privacy}","received_events_url":"https://api.github.com/users/skosukhin/received_events","type":"User","site_admin":false},"created_at":"2024-03-13T17:18:03Z","updated_at":"2024-03-13T17:18:03Z","author_association":"MEMBER","body":"I would like to update this a bit later based on the discussions in https://github.com/tukaani-project/xz/pull/90 and https://github.com/tukaani-project/xz/pull/91.","reactions":{"url":"https://api.github.com/repos/spack/spack/issues/comments/1995056442/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2024-03-13T17:18:05Z","org":{"id":25539161,"login":"spack","gravatar_id":"","url":"https://api.github.com/orgs/spack","avatar_url":"https://avatars.githubusercontent.com/u/25539161?"}}
