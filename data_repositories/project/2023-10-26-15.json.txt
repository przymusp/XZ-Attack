{"id":"32874048325","type":"PushEvent","actor":{"id":120408189,"login":"Larhzu","display_login":"Larhzu","gravatar_id":"","url":"https://api.github.com/users/Larhzu","avatar_url":"https://avatars.githubusercontent.com/u/120408189?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"repository_id":553665726,"push_id":15579334484,"size":53,"distinct_size":14,"ref":"refs/heads/w32_update","head":"850afdc0850c89798720a91c33f06faf7abac748","before":"3727e91e923d90cf5a8b85e27908fd3268327755","commits":[{"sha":"f74f1740067b75042497edbfa6ea457ff75484b9","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"Build: Update visibility.m4 from Gnulib.\n\nUpdating from version 6 -> 8 from upstream. Declarations for variables\nand function bodies were added to avoid unnecessary failures with\n-Werror.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/f74f1740067b75042497edbfa6ea457ff75484b9"},{"sha":"f28cc9bd481ce493da11f98c18526d324211599a","author":{"email":"gabigutierrez@google.com","name":"Gabriela Gutierrez"},"message":"CI: Bump and ref actions by commit SHA in ci.yml\n\nReferencing actions by commit SHA in GitHub workflows guarantees you are using an immutable version. Actions referenced by tags and branches are more vulnerable to attacks, such as the tag being moved to a malicious commit or a malicious commit being pushed to the branch.\n\nIt's important to make sure the SHA's are from the original repositories and not forks.\n\nFor reference:\n\nhttps://github.com/actions/checkout/releases/tag/v4.1.0\nhttps://github.com/actions/checkout/commit/8ade135a41bc03ea155e62e844d188df1ea18608\n\nhttps://github.com/actions/upload-artifact/releases/tag/v3.1.3\nhttps://github.com/actions/upload-artifact/commit/a8a3f3ad30e3422c9c7b888a15615d19a852ae32\n\nSigned-off-by: Gabriela Gutierrez <gabigutierrez@google.com>","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/f28cc9bd481ce493da11f98c18526d324211599a"},{"sha":"37947d4a7565b87e4cec8b89229d35b0a3f8d2cd","author":{"email":"gabigutierrez@google.com","name":"Gabriela Gutierrez"},"message":"CI: Bump and ref actions by commit SHA in windows-ci.yml\n\nReferencing actions by commit SHA in GitHub workflows guarantees you are using an immutable version. Actions referenced by tags and branches are more vulnerable to attacks, such as the tag being moved to a malicious commit or a malicious commit being pushed to the branch.\n\nIt's important to make sure the SHA's are from the original repositories and not forks.\n\nFor reference:\n\nhttps://github.com/msys2/setup-msys2/releases/tag/v2.20.1\nhttps://github.com/msys2/setup-msys2/commit/27b3aa77f672cb6b3054121cfd80c3d22ceebb1d\n\nhttps://github.com/actions/checkout/releases/tag/v4.1.0\nhttps://github.com/actions/checkout/commit/8ade135a41bc03ea155e62e844d188df1ea18608\n\nhttps://github.com/actions/upload-artifact/releases/tag/v3.1.3\nhttps://github.com/actions/upload-artifact/commit/a8a3f3ad30e3422c9c7b888a15615d19a852ae32\n\nSigned-off-by: Gabriela Gutierrez <gabigutierrez@google.com>","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/37947d4a7565b87e4cec8b89229d35b0a3f8d2cd"},{"sha":"233885a437f8b55a5c8442984ebc0aaa579e92de","author":{"email":"hansjansen162@outlook.com","name":"Hans Jansen"},"message":"liblzma: Rename crc_macros.h to crc_common.h.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/233885a437f8b55a5c8442984ebc0aaa579e92de"},{"sha":"93e6fb08b22c7c13be2dd1e7274fe78413436254","author":{"email":"hansjansen162@outlook.com","name":"Hans Jansen"},"message":"liblzma: Moved CLMUL CRC logic to crc_common.h.\n\ncrc64_fast.c was updated to use the code from crc_common.h instead.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/93e6fb08b22c7c13be2dd1e7274fe78413436254"},{"sha":"f1cd9d7194f005cd66ec03c6635ceae75f90ef17","author":{"email":"hansjansen162@outlook.com","name":"Hans Jansen"},"message":"liblzma: Added crc32_clmul to crc32_fast.c.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/f1cd9d7194f005cd66ec03c6635ceae75f90ef17"},{"sha":"a3ebc2c516b09616638060806c841bd4bcf7bce3","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"liblzma: Define CRC_USE_IFUNC in crc_common.h.\n\nWhen ifunc is supported, we can define a simpler macro instead of\nrepeating the more complex check in both crc32_fast.c and crc64_fast.c.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/a3ebc2c516b09616638060806c841bd4bcf7bce3"},{"sha":"8c0f9376f58c0696d5d6719705164d35542dd891","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"liblzma: Create crc_clmul.c.\n\nBoth crc32_clmul() and crc64_clmul() are now exported from\ncrc32_clmul.c as lzma_crc32_clmul() and lzma_crc64_clmul(). This\nensures that is_clmul_supported() (now lzma_is_clmul_supported()) is\nnot duplicated between crc32_fast.c and crc64_fast.c.\n\nAlso, it encapsulates the complexity of the CLMUL implementations into a\nsingle file and reduces the complexity of crc32_fast.c and crc64_fast.c.\nBefore, CLMUL code was present in crc32_fast.c, crc64_fast.c, and\ncrc_common.h.\n\nDuring the conversion, various cleanups were applied to code (thanks to\nLasse Collin) including:\n\n- Require using semicolons with MASK_/L/H/LH macros.\n- Variable typing and const handling improvements.\n- Improvements to comments.\n- Fixes to the pragmas used.\n- Removed unneeded variables.\n- Whitespace improvements.\n- Fixed CRC_USE_GENERIC_FOR_SMALL_INPUTS handling.\n- Silenced warnings and removed the need for some #pragmas","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/8c0f9376f58c0696d5d6719705164d35542dd891"},{"sha":"96b663f67c0e738a99ba8f35d9f4ced9add74544","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"liblzma: Refactor CRC comments.\n\nA detailed description of the three dispatch methods was added. Also,\nduplicated comments now only appear in crc32_fast.c or were removed from\nboth crc32_fast.c and crc64_fast.c if they appeared in crc_clmul.c.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/96b663f67c0e738a99ba8f35d9f4ced9add74544"},{"sha":"a5966c276bd6fa975f0389f8a8dc61393de750b0","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"liblzma: Create crc_always_inline macro.\n\nThis macro must be used instead of the inline keyword. On MSVC, it is\na replacement for __forceinline which is an MSVC specific keyword that\nshould not be used with inline (it will issue a warning if it is).\n\nIt does not use a build system check to determine if\n__attribute__((__always_inline__)) since all compilers that can use\nCLMUL extensions (except the special case for MSVC) should support this\nattribute. If this assumption is incorrect then it will result in a bug\nreport instead of silently producing slow code.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/a5966c276bd6fa975f0389f8a8dc61393de750b0"},{"sha":"40abd88afcc61a8157fcd12d78d491caeb8e12be","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"liblzma: Add the crc_always_inline macro to crc_simd_body().\n\nForcing this to be inline has a significant speed improvement at the\ncost of a few repeated instructions. The compilers tested on did not\ninline this function since it is large and is used twice in the same\ntranslation unit.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/40abd88afcc61a8157fcd12d78d491caeb8e12be"},{"sha":"e13b7947b92355c334edd594295d3a2c99c4bca1","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"liblzma: Add include guards to crc_common.h.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/e13b7947b92355c334edd594295d3a2c99c4bca1"},{"sha":"27735380491bb5ce0d0f41d5244d89c1d0825f6b","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"liblzma: Include common.h in crc_common.h.\n\ncrc_common.h depends on common.h. The headers include common.h except\nwhen there is a reason to not do so.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/27735380491bb5ce0d0f41d5244d89c1d0825f6b"},{"sha":"5ce0f7a48bdf5c3b45430850a4487307afac6143","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"liblzma: CRC_USE_GENERIC_FOR_SMALL_INPUTS cannot be used with ifunc.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/5ce0f7a48bdf5c3b45430850a4487307afac6143"},{"sha":"1c8884f0af28b3a4690bb573cdf3240a8ec73416","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"liblzma: Set the MSVC optimization fix to only cover lzma_crc64_clmul().\n\nAfter testing a 32-bit Release build on MSVC, only lzma_crc64_clmul()\nhas the bug. crc_simd_body() and lzma_crc32_clmul() do not need the\noptimizations disabled.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/1c8884f0af28b3a4690bb573cdf3240a8ec73416"},{"sha":"6828242735cbf61b93d140383336e1e51a006f2d","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"tuklib_integer: Add missing write64be and write64le fallback functions.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/6828242735cbf61b93d140383336e1e51a006f2d"},{"sha":"c8f715f1bca4c30db814fcf1fd2fe88b8992ede2","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"tuklib_integer: Revise unaligned reads and writes on strict-align archs.\n\nIn XZ Utils context this doesn't matter much because\nunaligned reads and writes aren't used in hot code\nwhen TUKLIB_FAST_UNALIGNED_ACCESS isn't #defined.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/c8f715f1bca4c30db814fcf1fd2fe88b8992ede2"},{"sha":"2f81ac852bc5aafc91c8e2adc66b5114761703c4","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"Build: Enabled unaligned access by default on PowerPC64LE and some RISC-V.\n\nPowerPC64LE wasn't tested but it seems like a safe change.\nPOWER8 supports unaligned access in little endian mode. Testing\non godbolt.org shows that GCC uses unaligned access by default.\n\nThe RISC-V macro __riscv_misaligned_fast is very new and not\nin any stable compiler release yet.\n\nDocumentation in INSTALL was updated to match.\n\nDocumentation about an autodetection bug when using ARM64 GCC\nwith -mstrict-align was added to INSTALL.\n\nCMake files weren't updated yet.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/2f81ac852bc5aafc91c8e2adc66b5114761703c4"},{"sha":"9a78971261bc67622cbd7dae02f6966968ac1393","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"tuklib_integer: Update the CMake test for fast unaligned access.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/9a78971261bc67622cbd7dae02f6966968ac1393"},{"sha":"c60b25569d414bb73b705977a4dd342f8f9f1965","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"liblzma: Fix -fsanitize=address failure with crc_clmul functions.\n\nAfter forcing crc_simd_body() to always be inlined it caused\n-fsanitize=address to fail for lzma_crc32_clmul() and\nlzma_crc64_clmul(). The __no_sanitize_address__ attribute was added\nto lzma_crc32_clmul() and lzma_crc64_clmul(), but not removed from\ncrc_simd_body(). ASAN and inline functions behavior has changed over\nthe years for GCC specifically, so while strictly required we will\nkeep __attribute__((__no_sanitize_address__)) on crc_simd_body() in\ncase this becomes a requirement in the future.\n\nOlder GCC versions refuse to inline a function with ASAN if the\ncaller and callee do not agree on sanitization flags\n(https://gcc.gnu.org/bugzilla/show_bug.cgi?id=89124#c3). If the\nfunction was forced to be inlined, it will not compile if the callee\nfunction has __no_sanitize_address__ but the caller doesn't.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/c60b25569d414bb73b705977a4dd342f8f9f1965"}]},"public":true,"created_at":"2023-10-26T15:42:21Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"32874555542","type":"PushEvent","actor":{"id":120408189,"login":"Larhzu","display_login":"Larhzu","gravatar_id":"","url":"https://api.github.com/users/Larhzu","avatar_url":"https://avatars.githubusercontent.com/u/120408189?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"repository_id":553665726,"push_id":15579578566,"size":14,"distinct_size":14,"ref":"refs/heads/w32_update","head":"636ff40510615ac1959638e9c772c3aa94901b00","before":"850afdc0850c89798720a91c33f06faf7abac748","commits":[{"sha":"e67aaf698de75c73443a5ec786781cbf2034461d","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"CMake/Windows: Fix the import library filename.\n\nBoth PREFIX and IMPORT_PERFIX have to be set to \"\" to get\nliblzma.dll and liblzma.dll.a.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/e67aaf698de75c73443a5ec786781cbf2034461d"},{"sha":"ffbe1e5bb13ea9e4f9da21811136525f2ff4c15f","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"CMake: Create liblzma.def when building liblzma.dll with MinGW-w64.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/ffbe1e5bb13ea9e4f9da21811136525f2ff4c15f"},{"sha":"ba9573ee663eb1720d475beeb7d14f33ec103da7","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"liblzma: Add Cflags.private to liblzma.pc.in for MSYS2.\n\nIt properly adds -DLZMA_API_STATIC when compiling code that\nwill be linked against static liblzma. Having it there on\nsystems other than Windows does no harm.\n\nSee: https://www.msys2.org/docs/pkgconfig/","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/ba9573ee663eb1720d475beeb7d14f33ec103da7"},{"sha":"299c68fd268ca294f3518d77932b3117832f80b2","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"CMake: Rearrange the PACKAGE_ variables.\n\nThe windres workaround now replaces spaces with \\x20 so\nthe package name isn't repeated.\n\nThese changes will help with creation of liblzma.pc.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/299c68fd268ca294f3518d77932b3117832f80b2"},{"sha":"839ebe4bfdbf6eb0d11ed864807894547626ed9c","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"CMake: Generate and install liblzma.pc if not using MSVC.\n\nAutotools based build uses -pthread and thus adds it to Libs.private\nin liblzma.pc. CMake doesn't use -pthread at all if pthread functions\nare available in libc so Libs.private doesn't get -pthread either.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/839ebe4bfdbf6eb0d11ed864807894547626ed9c"},{"sha":"e2cf50c4ccbdc334cf0ee75e73cbf4da1dd97220","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"CMake: Use -D_FILE_OFFSET_BITS=64 if (and only if) needed.\n\nA CMake option LARGE_FILE_SUPPORT is created if and only if\n-D_FILE_OFFSET_BITS=64 affects sizeof(off_t).\n\nThis is needed on many 32-bit platforms and even with 64-bit builds\nwith MinGW-w64 to get support for files larger than 2 GiB.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/e2cf50c4ccbdc334cf0ee75e73cbf4da1dd97220"},{"sha":"9845561fb31bcb83f8514d380c4bf9aa6e84001d","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"liblzma: Refer to MinGW-w64 instead of MinGW in the API headers.\n\nMinGW (formely a MinGW.org Project, later the MinGW.OSDN Project\nat <https://osdn.net/projects/mingw/>) has GCC 9.2.0 as the\nmost recent GCC package (released 2021-02-02). The project might\nstill be alive but majority of people have switched to MinGW-w64.\nThus it seems clearer to refer to MinGW-w64 in our API headers too.\nBuilding with MinGW is likely to still work but I haven't tested it\nin the recent years.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/9845561fb31bcb83f8514d380c4bf9aa6e84001d"},{"sha":"37ec916859bd1a468b869835e719445a003f53f8","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"CMake: Add support for building and installing xz with translations.\n\nThis uses Autotools-created files po/*.po.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/37ec916859bd1a468b869835e719445a003f53f8"},{"sha":"a4b7b0b65886c11a3ef9219d6895e8a026e44ae8","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"CMake: Simplify symlink creation and install translated man pages.\n\nIt helps that cmake_install.cmake doesn't parallelize installation\nso symlinks can be created so that the target is always known to\nexist (a requirement on Windows in some cases).","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/a4b7b0b65886c11a3ef9219d6895e8a026e44ae8"},{"sha":"4f9ae43f36cd1a3b711ef633b4a67883816c3c6d","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"Scripts: Use @PACKAGE_VERSION@ instead of @VERSION@.\n\nPACKAGE_VERSION was already used in liblzma.pc.in.\nThis way only one version @foo@ is used.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/4f9ae43f36cd1a3b711ef633b4a67883816c3c6d"},{"sha":"d65a275beeaa4b77e59842b59d5ed9c6510f3d08","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"CMake: Install scripts.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/d65a275beeaa4b77e59842b59d5ed9c6510f3d08"},{"sha":"0ca52ef0ed7686f975afb8e6564af2ed3e2d66b8","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"CMake: Add test_scripts.sh to the tests.\n\nIn contrast to Automake, skipping of this test when decoders\nare disabled is handled at CMake side instead of test_scripts.sh\nbecause CMake-build doesn't create config.h.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/0ca52ef0ed7686f975afb8e6564af2ed3e2d66b8"},{"sha":"d50b3c2fa2e042c57a56897c3e012026650f1079","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"Windows: Update windows/build.bash.\n\nSupport for the old MinGW was dropped. Only MinGW-w64 with GCC\nis supported now.\n\nThe script now supports also cross-compilation from GNU/Linux\n(tests are not run). MSYS2 and also the old MSYS 1.0.11 work\nfor building on Windows. The i686 and x86_64 toolchains must\nbe in PATH to build both 32-bit and 64-bit versions.\n\nParallel builds are done if \"nproc\" from GNU coreutils is available.\n\nMinGW-w64 runtime copyright information file was renamed from\nCOPYING-Windows.txt to COPYING.MinGW-w64-runtime.txt which\nis the filename used by MinGW-w64 itself. Its existence\nis now mandatory, it's checked at the beginning of the script.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/d50b3c2fa2e042c57a56897c3e012026650f1079"},{"sha":"636ff40510615ac1959638e9c772c3aa94901b00","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"Windows: Update windows/README-Windows.txt.\n\nIt's for binary packages built with windows/build.bash.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/636ff40510615ac1959638e9c772c3aa94901b00"}]},"public":true,"created_at":"2023-10-26T15:59:46Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
