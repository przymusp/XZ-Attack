{"id":"36760734454","type":"IssueCommentEvent","actor":{"id":64056336,"login":"hihxy","display_login":"hihxy","gravatar_id":"","url":"https://api.github.com/users/hihxy","avatar_url":"https://avatars.githubusercontent.com/u/64056336?"},"repo":{"id":68312233,"name":"microsoft/vcpkg","url":"https://api.github.com/repos/microsoft/vcpkg"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/microsoft/vcpkg/issues/37591","repository_url":"https://api.github.com/repos/microsoft/vcpkg","labels_url":"https://api.github.com/repos/microsoft/vcpkg/issues/37591/labels{/name}","comments_url":"https://api.github.com/repos/microsoft/vcpkg/issues/37591/comments","events_url":"https://api.github.com/repos/microsoft/vcpkg/issues/37591/events","html_url":"https://github.com/microsoft/vcpkg/issues/37591","id":2199386809,"node_id":"I_kwDOBBJcqc6DF_q5","number":37591,"title":"[liblzma] build failure","user":{"login":"elcombs","id":61883787,"node_id":"MDQ6VXNlcjYxODgzNzg3","avatar_url":"https://avatars.githubusercontent.com/u/61883787?v=4","gravatar_id":"","url":"https://api.github.com/users/elcombs","html_url":"https://github.com/elcombs","followers_url":"https://api.github.com/users/elcombs/followers","following_url":"https://api.github.com/users/elcombs/following{/other_user}","gists_url":"https://api.github.com/users/elcombs/gists{/gist_id}","starred_url":"https://api.github.com/users/elcombs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elcombs/subscriptions","organizations_url":"https://api.github.com/users/elcombs/orgs","repos_url":"https://api.github.com/users/elcombs/repos","events_url":"https://api.github.com/users/elcombs/events{/privacy}","received_events_url":"https://api.github.com/users/elcombs/received_events","type":"User","site_admin":false},"labels":[{"id":455857191,"node_id":"MDU6TGFiZWw0NTU4NTcxOTE=","url":"https://api.github.com/repos/microsoft/vcpkg/labels/requires:repro","name":"requires:repro","color":"f0eebb","default":false,"description":"The issue is not currently repro-able"}],"state":"open","locked":false,"assignee":{"login":"LilyWangLL","id":94091114,"node_id":"U_kgDOBZu3ag","avatar_url":"https://avatars.githubusercontent.com/u/94091114?v=4","gravatar_id":"","url":"https://api.github.com/users/LilyWangLL","html_url":"https://github.com/LilyWangLL","followers_url":"https://api.github.com/users/LilyWangLL/followers","following_url":"https://api.github.com/users/LilyWangLL/following{/other_user}","gists_url":"https://api.github.com/users/LilyWangLL/gists{/gist_id}","starred_url":"https://api.github.com/users/LilyWangLL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LilyWangLL/subscriptions","organizations_url":"https://api.github.com/users/LilyWangLL/orgs","repos_url":"https://api.github.com/users/LilyWangLL/repos","events_url":"https://api.github.com/users/LilyWangLL/events{/privacy}","received_events_url":"https://api.github.com/users/LilyWangLL/received_events","type":"User","site_admin":false},"assignees":[{"login":"LilyWangLL","id":94091114,"node_id":"U_kgDOBZu3ag","avatar_url":"https://avatars.githubusercontent.com/u/94091114?v=4","gravatar_id":"","url":"https://api.github.com/users/LilyWangLL","html_url":"https://github.com/LilyWangLL","followers_url":"https://api.github.com/users/LilyWangLL/followers","following_url":"https://api.github.com/users/LilyWangLL/following{/other_user}","gists_url":"https://api.github.com/users/LilyWangLL/gists{/gist_id}","starred_url":"https://api.github.com/users/LilyWangLL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LilyWangLL/subscriptions","organizations_url":"https://api.github.com/users/LilyWangLL/orgs","repos_url":"https://api.github.com/users/LilyWangLL/repos","events_url":"https://api.github.com/users/LilyWangLL/events{/privacy}","received_events_url":"https://api.github.com/users/LilyWangLL/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2024-03-21T07:27:52Z","updated_at":"2024-03-21T13:06:12Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"### Operating system\n\nUbuntu 16.04.7\n\n### Compiler\n\nGCC 5.4.0\n\n### Steps to reproduce the behavior\n\n```Shell\n./vcpkg install liblzma\n```\n\n\n### Failure logs\n\n$ ./vcpkg install liblzma\r\nComputing installation plan...\r\nThe following packages will be built and installed:\r\n    liblzma:x64-linux@5.6.0\r\nDetecting compiler hash for triplet x64-linux...\r\nCompiler found: /usr/bin/c++\r\nRestored 0 package(s) from /home/ubuntu/.cache/vcpkg/archives in 7 us. Use --debug to see more details.\r\nInstalling 1/1 liblzma:x64-linux@5.6.0...\r\nBuilding liblzma:x64-linux@5.6.0...\r\n-- Using cached tukaani-project-xz-v5.6.0.tar.gz.\r\n-- Cleaning sources at /tmp/vcpkg/buildtrees/liblzma/src/v5.6.0-0bc01dfc88.clean. Use --editable to skip cleaning for the packages you specify.\r\n-- Extracting source /tmp/vcpkg/downloads/tukaani-project-xz-v5.6.0.tar.gz\r\n-- Applying patch fix_config_include.patch\r\n-- Applying patch win_output_name.patch\r\n-- Applying patch add_support_ios.patch\r\n-- Applying patch build-tools.patch\r\n-- Using source at /tmp/vcpkg/buildtrees/liblzma/src/v5.6.0-0bc01dfc88.clean\r\n-- Configuring x64-linux\r\n-- Building x64-linux-dbg\r\nCMake Error at scripts/cmake/vcpkg_execute_build_process.cmake:134 (message):\r\n    Command failed: /usr/bin/cmake --build . --config Debug --target install -- -v -j2\r\n    Working Directory: /tmp/vcpkg/buildtrees/liblzma/x64-linux-dbg\r\n    See logs for more information:\r\n      /tmp/vcpkg/buildtrees/liblzma/install-x64-linux-dbg-out.log\r\n\r\nCall Stack (most recent call first):\r\n  installed/x64-linux/share/vcpkg-cmake/vcpkg_cmake_build.cmake:74 (vcpkg_execute_build_process)\r\n  installed/x64-linux/share/vcpkg-cmake/vcpkg_cmake_install.cmake:16 (vcpkg_cmake_build)\r\n  ports/liblzma/portfile.cmake:38 (vcpkg_cmake_install)\r\n  scripts/ports.cmake:175 (include)\r\n\r\n[install-x64-linux-dbg-out.log](https://github.com/microsoft/vcpkg/files/14691469/install-x64-linux-dbg-out.log)\r\n\n\n### Additional context\n\nbuilding liblzma 5.4.4 works fine.","reactions":{"url":"https://api.github.com/repos/microsoft/vcpkg/issues/37591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/microsoft/vcpkg/issues/37591/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/microsoft/vcpkg/issues/comments/2012248006","html_url":"https://github.com/microsoft/vcpkg/issues/37591#issuecomment-2012248006","issue_url":"https://api.github.com/repos/microsoft/vcpkg/issues/37591","id":2012248006,"node_id":"IC_kwDOBBJcqc538HfG","user":{"login":"hihxy","id":64056336,"node_id":"MDQ6VXNlcjY0MDU2MzM2","avatar_url":"https://avatars.githubusercontent.com/u/64056336?v=4","gravatar_id":"","url":"https://api.github.com/users/hihxy","html_url":"https://github.com/hihxy","followers_url":"https://api.github.com/users/hihxy/followers","following_url":"https://api.github.com/users/hihxy/following{/other_user}","gists_url":"https://api.github.com/users/hihxy/gists{/gist_id}","starred_url":"https://api.github.com/users/hihxy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hihxy/subscriptions","organizations_url":"https://api.github.com/users/hihxy/orgs","repos_url":"https://api.github.com/users/hihxy/repos","events_url":"https://api.github.com/users/hihxy/events{/privacy}","received_events_url":"https://api.github.com/users/hihxy/received_events","type":"User","site_admin":false},"created_at":"2024-03-21T13:06:12Z","updated_at":"2024-03-21T13:06:12Z","author_association":"NONE","body":"why? I can not install. T_T\r\n```\r\nE:\\vcpkg>vcpkg.exe install liblzma --binarysource=clear\r\nComputing installation plan...\r\nThe following packages will be built and installed:\r\n    liblzma:x64-windows@5.6.0\r\nDetecting compiler hash for triplet x64-windows...\r\n-- Automatically setting %HTTP(S)_PROXY% environment variables to \"127.0.0.1:7890\".\r\nCompiler found: D:/Program Files/Microsoft Visual Studio/2022/Community/VC/Tools/MSVC/14.37.32822/bin/Hostx64/x64/cl.exe\r\nInstalling 1/1 liblzma:x64-windows@5.6.0...\r\nBuilding liblzma:x64-windows@5.6.0...\r\n-- Using cached tukaani-project-xz-v5.6.0.tar.gz.\r\n-- Cleaning sources at E:/vcpkg/buildtrees/liblzma/src/v5.6.0-0bc01dfc88.clean. Use --editable to skip cleaning for the packages you specify.\r\n-- Extracting source E:/vcpkg/downloads/tukaani-project-xz-v5.6.0.tar.gz\r\n-- Applying patch fix_config_include.patch\r\n-- Applying patch win_output_name.patch\r\n-- Applying patch add_support_ios.patch\r\n-- Applying patch build-tools.patch\r\n-- Using source at E:/vcpkg/buildtrees/liblzma/src/v5.6.0-0bc01dfc88.clean\r\n-- Found external ninja('1.11.0').\r\n-- Configuring x64-windows\r\nCMake Warning at installed/x64-windows/share/vcpkg-cmake/vcpkg_cmake_configure.cmake:318 (message):\r\n  The following variables are not used in CMakeLists.txt:\r\n\r\n      ENABLE_NLS\r\n\r\n  Please recheck them and remove the unnecessary options from the\r\n  `vcpkg_cmake_configure` call.\r\n\r\n  If these options should still be passed for whatever reason, please use the\r\n  `MAYBE_UNUSED_VARIABLES` argument.\r\nCall Stack (most recent call first):\r\n  ports/liblzma/portfile.cmake:23 (vcpkg_cmake_configure)\r\n  scripts/ports.cmake:175 (include)\r\n\r\n\r\n-- Building x64-windows-dbg\r\nCMake Warning at scripts/cmake/vcpkg_execute_build_process.cmake:65 (message):\r\n  Please ensure your system has sufficient memory.\r\nCall Stack (most recent call first):\r\n  installed/x64-windows/share/vcpkg-cmake/vcpkg_cmake_build.cmake:74 (vcpkg_execute_build_process)\r\n  installed/x64-windows/share/vcpkg-cmake/vcpkg_cmake_install.cmake:16 (vcpkg_cmake_build)\r\n  ports/liblzma/portfile.cmake:38 (vcpkg_cmake_install)\r\n  scripts/ports.cmake:175 (include)\r\n\r\n\r\n-- Restarting build without parallelism\r\nCMake Error at scripts/cmake/vcpkg_execute_build_process.cmake:134 (message):\r\n    Command failed: \"D:/Program Files/CMake/bin/cmake.exe\" --build . --config Debug --target install -- -v -j21\r\n    Working Directory: E:/vcpkg/buildtrees/liblzma/x64-windows-dbg\r\n    See logs for more information:\r\n      E:\\vcpkg\\buildtrees\\liblzma\\install-x64-windows-dbg-out.log\r\n      E:\\vcpkg\\buildtrees\\liblzma\\install-x64-windows-dbg-out-1.log\r\n\r\nCall Stack (most recent call first):\r\n  installed/x64-windows/share/vcpkg-cmake/vcpkg_cmake_build.cmake:74 (vcpkg_execute_build_process)\r\n  installed/x64-windows/share/vcpkg-cmake/vcpkg_cmake_install.cmake:16 (vcpkg_cmake_build)\r\n  ports/liblzma/portfile.cmake:38 (vcpkg_cmake_install)\r\n  scripts/ports.cmake:175 (include)\r\n\r\n\r\nerror: building liblzma:x64-windows failed with: BUILD_FAILED\r\nElapsed time to handle liblzma:x64-windows: 12 s\r\nPlease ensure you're using the latest port files with `git pull` and `vcpkg update`.\r\nThen check for known issues at:\r\n  https://github.com/microsoft/vcpkg/issues?q=is%3Aissue+is%3Aopen+in%3Atitle+liblzma\r\nYou can submit a new issue at:\r\n  https://github.com/microsoft/vcpkg/issues/new?title=[liblzma]+Build+error+on+x64-windows&body=Copy+issue+body+from+E%3A%2Fvcpkg%2Finstalled%2Fvcpkg%2Fissue_body.md\r\n```","reactions":{"url":"https://api.github.com/repos/microsoft/vcpkg/issues/comments/2012248006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2024-03-21T13:06:13Z","org":{"id":6154722,"login":"microsoft","gravatar_id":"","url":"https://api.github.com/orgs/microsoft","avatar_url":"https://avatars.githubusercontent.com/u/6154722?"}}
