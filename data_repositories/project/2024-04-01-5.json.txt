{"id":"37040708744","type":"IssueCommentEvent","actor":{"id":26642847,"login":"mgood7123","display_login":"mgood7123","gravatar_id":"","url":"https://api.github.com/users/mgood7123","avatar_url":"https://avatars.githubusercontent.com/u/26642847?"},"repo":{"id":779978033,"name":"jfrog/cve-2024-3094-tools","url":"https://api.github.com/repos/jfrog/cve-2024-3094-tools"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/jfrog/cve-2024-3094-tools/issues/1","repository_url":"https://api.github.com/repos/jfrog/cve-2024-3094-tools","labels_url":"https://api.github.com/repos/jfrog/cve-2024-3094-tools/issues/1/labels{/name}","comments_url":"https://api.github.com/repos/jfrog/cve-2024-3094-tools/issues/1/comments","events_url":"https://api.github.com/repos/jfrog/cve-2024-3094-tools/issues/1/events","html_url":"https://github.com/jfrog/cve-2024-3094-tools/issues/1","id":2217178702,"node_id":"I_kwDOLn2FMc6EJ3ZO","number":1,"title":"LZMA checks don't make sense","user":{"login":"alexforencich","id":508807,"node_id":"MDQ6VXNlcjUwODgwNw==","avatar_url":"https://avatars.githubusercontent.com/u/508807?v=4","gravatar_id":"","url":"https://api.github.com/users/alexforencich","html_url":"https://github.com/alexforencich","followers_url":"https://api.github.com/users/alexforencich/followers","following_url":"https://api.github.com/users/alexforencich/following{/other_user}","gists_url":"https://api.github.com/users/alexforencich/gists{/gist_id}","starred_url":"https://api.github.com/users/alexforencich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexforencich/subscriptions","organizations_url":"https://api.github.com/users/alexforencich/orgs","repos_url":"https://api.github.com/users/alexforencich/repos","events_url":"https://api.github.com/users/alexforencich/events{/privacy}","received_events_url":"https://api.github.com/users/alexforencich/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":12,"created_at":"2024-03-31T20:54:02Z","updated_at":"2024-04-01T05:23:05Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"The code testing LZMA doesn't make any sense.  `lzma_used` seems to be set when sshd uses lzma.  So far so good.  But if `lzma_used` is 1, then `lzma_path` is not set, which doesn't make sense.  Additionally, if `lzma_used` is 0, then `lzma_path` is set based on the output of `ldd sshd`, which is always empty.  So the byte string is never actually checked as `lzma_path` is either not set or set to an empty string.  Looks like the current `lzma_path` code should be moved to the other portion of that if statement, and `lzma_path` should be determined some other way when `sshd` does not link to `lzma`.  That way, the library can be checked for the exploit even if sshd does not link to the library.\r\n\r\nAlso, I am getting\r\n\r\n    cve-2024-3094-detector.sh: line 110: [: missing `]'\r\n","reactions":{"url":"https://api.github.com/repos/jfrog/cve-2024-3094-tools/issues/1/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/jfrog/cve-2024-3094-tools/issues/1/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/jfrog/cve-2024-3094-tools/issues/comments/2029180146","html_url":"https://github.com/jfrog/cve-2024-3094-tools/issues/1#issuecomment-2029180146","issue_url":"https://api.github.com/repos/jfrog/cve-2024-3094-tools/issues/1","id":2029180146,"node_id":"IC_kwDOLn2FMc548tTy","user":{"login":"mgood7123","id":26642847,"node_id":"MDQ6VXNlcjI2NjQyODQ3","avatar_url":"https://avatars.githubusercontent.com/u/26642847?v=4","gravatar_id":"","url":"https://api.github.com/users/mgood7123","html_url":"https://github.com/mgood7123","followers_url":"https://api.github.com/users/mgood7123/followers","following_url":"https://api.github.com/users/mgood7123/following{/other_user}","gists_url":"https://api.github.com/users/mgood7123/gists{/gist_id}","starred_url":"https://api.github.com/users/mgood7123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgood7123/subscriptions","organizations_url":"https://api.github.com/users/mgood7123/orgs","repos_url":"https://api.github.com/users/mgood7123/repos","events_url":"https://api.github.com/users/mgood7123/events{/privacy}","received_events_url":"https://api.github.com/users/mgood7123/received_events","type":"User","site_admin":false},"created_at":"2024-04-01T05:23:04Z","updated_at":"2024-04-01T05:23:04Z","author_association":"NONE","body":"ok, i tried\r\n\r\nhttps://web.archive.org/web/20240325040631/https://github.com/tukaani-project/xz/releases/download/v5.6.1/xz-5.6.1.tar.gz\r\n\r\nand it contains the m4 files\r\n```sh\r\nkonek@LAPTOP-T22CRRT5 CLANG64 /c/Users/konek/git/llvm_master_prebuilts/deps\r\n$ ls xz-cve/xz-5.6.1/m4\r\nax_pthread.m4      intlmacosx.m4  ltsugar.m4      progtest.m4         tuklib_progname.m4\r\nbuild-to-host.m4   lib-ld.m4      ltversion.m4    tuklib_common.m4    visibility.m4\r\ngetopt.m4          lib-link.m4    lt~obsolete.m4  tuklib_cpucores.m4\r\ngettext.m4         lib-prefix.m4  nls.m4          tuklib_integer.m4\r\nhost-cpu-c-abi.m4  libtool.m4     po.m4           tuklib_mbstr.m4\r\niconv.m4           ltoptions.m4   posix-shell.m4  tuklib_physmem.m4\r\n```\r\n\r\nbut a cmake build does not appear to build the exploit","reactions":{"url":"https://api.github.com/repos/jfrog/cve-2024-3094-tools/issues/comments/2029180146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2024-04-01T05:23:05Z","org":{"id":499942,"login":"jfrog","gravatar_id":"","url":"https://api.github.com/orgs/jfrog","avatar_url":"https://avatars.githubusercontent.com/u/499942?"}}
