{"id":"33942933307","type":"IssueCommentEvent","actor":{"id":79209337,"login":"mvatsyk-lsg","display_login":"mvatsyk-lsg","gravatar_id":"","url":"https://api.github.com/users/mvatsyk-lsg","avatar_url":"https://avatars.githubusercontent.com/u/79209337?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/tukaani-project/xz/issues/73","repository_url":"https://api.github.com/repos/tukaani-project/xz","labels_url":"https://api.github.com/repos/tukaani-project/xz/issues/73/labels{/name}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/73/comments","events_url":"https://api.github.com/repos/tukaani-project/xz/issues/73/events","html_url":"https://github.com/tukaani-project/xz/pull/73","id":2014291983,"node_id":"PR_kwDOIQBEvs5gi94-","number":73,"title":"Improve existing oss-fuzz coverage","user":{"login":"mvatsyk-lsg","id":79209337,"node_id":"MDQ6VXNlcjc5MjA5MzM3","avatar_url":"https://avatars.githubusercontent.com/u/79209337?v=4","gravatar_id":"","url":"https://api.github.com/users/mvatsyk-lsg","html_url":"https://github.com/mvatsyk-lsg","followers_url":"https://api.github.com/users/mvatsyk-lsg/followers","following_url":"https://api.github.com/users/mvatsyk-lsg/following{/other_user}","gists_url":"https://api.github.com/users/mvatsyk-lsg/gists{/gist_id}","starred_url":"https://api.github.com/users/mvatsyk-lsg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvatsyk-lsg/subscriptions","organizations_url":"https://api.github.com/users/mvatsyk-lsg/orgs","repos_url":"https://api.github.com/users/mvatsyk-lsg/repos","events_url":"https://api.github.com/users/mvatsyk-lsg/events{/privacy}","received_events_url":"https://api.github.com/users/mvatsyk-lsg/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":21,"created_at":"2023-11-28T12:06:38Z","updated_at":"2023-12-06T15:01:22Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/73","html_url":"https://github.com/tukaani-project/xz/pull/73","diff_url":"https://github.com/tukaani-project/xz/pull/73.diff","patch_url":"https://github.com/tukaani-project/xz/pull/73.patch","merged_at":null},"body":"## Pull request checklist\r\n\r\nPlease check if your PR fulfills the following requirements:\r\n- [x] Tests for the changes have been added (for bug fixes / features)\r\n- [x] Docs have been reviewed and added / updated if needed (for bug fixes / features)\r\n- [ ] Build was run locally and without warnings or errors\r\n- [ ] All previous and new tests pass\r\n\r\n\r\n## Pull request type\r\n\r\n<!-- Please try to limit your pull request to one type, submit multiple\r\npull requests if needed. --> \r\n\r\nPlease check the type of change your PR introduces:\r\n- [ ] Bugfix\r\n- [x] Feature\r\n- [ ] Code style update (formatting, renaming, typo fix)\r\n- [ ] Refactoring (no functional changes, no api changes)\r\n- [ ] Build related changes\r\n- [ ] Documentation content changes\r\n- [ ] Other (please describe): \r\n\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying. -->\r\n\r\n\r\n<!-- Related issue this PR addresses, if applicable -->\r\nRelated Issue URL: N/A\r\n\r\n\r\n## What is the new behavior?\r\n<!-- Please describe the behavior or changes that are being added by this\r\nPR. -->\r\n\r\n- Total number of fuzzers increased from 1 to 12\r\n- 6 new fuzzers for decompressing supported archive types\r\n- 5 new fuzzers for compressing data into supported archive types\r\n- Added LZMA Raw test files based on the existing `.lzma` ones\r\n\r\n## Does this introduce a breaking change?\r\n\r\n- [x] Yes\r\n- [ ] No\r\n\r\n<!-- If this introduces a breaking change, please describe the impact and\r\nmigration path for existing applications below. -->\r\nThis pull request will temporarily break existing oss-fuzz setup until the `oss-fuzz` repo accepts [a corresponding pull request](https://github.com/google/oss-fuzz/pull/11279) with the updated fuzzer configuration on their side.\r\n\r\n## Other information\r\n\r\n<!-- Any other information that is important to this PR. -->\r\nThe improvements to the fuzzing setup were made as a part of Google ISE project.","reactions":{"url":"https://api.github.com/repos/tukaani-project/xz/issues/73/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"timeline_url":"https://api.github.com/repos/tukaani-project/xz/issues/73/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/tukaani-project/xz/issues/comments/1843065062","html_url":"https://github.com/tukaani-project/xz/pull/73#issuecomment-1843065062","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/73","id":1843065062,"node_id":"IC_kwDOIQBEvs5t2vDm","user":{"login":"mvatsyk-lsg","id":79209337,"node_id":"MDQ6VXNlcjc5MjA5MzM3","avatar_url":"https://avatars.githubusercontent.com/u/79209337?v=4","gravatar_id":"","url":"https://api.github.com/users/mvatsyk-lsg","html_url":"https://github.com/mvatsyk-lsg","followers_url":"https://api.github.com/users/mvatsyk-lsg/followers","following_url":"https://api.github.com/users/mvatsyk-lsg/following{/other_user}","gists_url":"https://api.github.com/users/mvatsyk-lsg/gists{/gist_id}","starred_url":"https://api.github.com/users/mvatsyk-lsg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvatsyk-lsg/subscriptions","organizations_url":"https://api.github.com/users/mvatsyk-lsg/orgs","repos_url":"https://api.github.com/users/mvatsyk-lsg/repos","events_url":"https://api.github.com/users/mvatsyk-lsg/events{/privacy}","received_events_url":"https://api.github.com/users/mvatsyk-lsg/received_events","type":"User","site_admin":false},"created_at":"2023-12-06T15:01:22Z","updated_at":"2023-12-06T15:01:22Z","author_association":"NONE","body":"@JiaT75 the changes look good to me! I have also updated the pull request to the oss-fuzz repo. To test the new fuzzing setup locally, you can run the following commands on your machine:\r\n\r\n```bash\r\n# clone my fork of the oss-fuzz repo with pull request changes\r\ngit clone https://github.com/mvatsyk-lsg/oss-fuzz\r\ncd oss-fuzz/\r\n\r\n# update the Dockerfile to clone the oss_fuzz branch specifically\r\nsed 's/git clone /git clone -b oss_fuzz /' projects/xz/Dockerfile\r\n\r\n# build project image\r\npython3 infra/helper.py build_image 'xz'\r\n\r\n# generate introspector report \r\npython3 infra/helper.py introspector 'xz'\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/tukaani-project/xz/issues/comments/1843065062/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-12-06T15:01:24Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"33944432103","type":"PushEvent","actor":{"id":78042786,"login":"JiaT75","display_login":"JiaT75","gravatar_id":"","url":"https://api.github.com/users/JiaT75","avatar_url":"https://avatars.githubusercontent.com/u/78042786?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"repository_id":553665726,"push_id":16154179287,"size":2,"distinct_size":2,"ref":"refs/heads/oss_fuzz","head":"4810688b902a5c0af6698ef6a205f9fb0d95a31f","before":"31ee553f9f5c06873e7f82c988460cdc077442f0","commits":[{"sha":"3408ff72d13b3329dcbc4cb460f86014706b06c7","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"Tests: Minor cleanups to OSS-Fuzz files.\n\nMost of these fixes are small typos and tweaks. A few were caused by bad\nadvice from me. Here is the summary of what is changed:\n\n- Author line edits\n\n- Small comment changes/additions\n\n- Using the return value in the error messages in the fuzz targets'\n  coder initialization code\n\n- Removed fuzz_encode_stream.options. This set a max length, which may\n  prevent some worthwhile code paths from being properly exercised.\n\n- Removed the max_len option from fuzz_decode_stream.options for the\n  same reason as fuzz_encode_stream. The alone decoder fuzz target still\n  has this restriction.\n\n- Altered the dictionary contents for fuzz_lzma.dict. Instead of keeping\n  the properties static and varying the dictionary size, the properties\n  are varied and the dictionary size is kept small. The dictionary size\n  doesn't have much impact on the code paths but the properties do.\n\nCloses: https://github.com/tukaani-project/xz/pull/73","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/3408ff72d13b3329dcbc4cb460f86014706b06c7"},{"sha":"4810688b902a5c0af6698ef6a205f9fb0d95a31f","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"Update THANKS.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/4810688b902a5c0af6698ef6a205f9fb0d95a31f"}]},"public":true,"created_at":"2023-12-06T15:43:15Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
