{"id":"33273962875","type":"IssueCommentEvent","actor":{"id":365237,"login":"terrence2","display_login":"terrence2","gravatar_id":"","url":"https://api.github.com/users/terrence2","avatar_url":"https://avatars.githubusercontent.com/u/365237?"},"repo":{"id":105751956,"name":"gendx/lzma-rs","url":"https://api.github.com/repos/gendx/lzma-rs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/gendx/lzma-rs/issues/101","repository_url":"https://api.github.com/repos/gendx/lzma-rs","labels_url":"https://api.github.com/repos/gendx/lzma-rs/issues/101/labels{/name}","comments_url":"https://api.github.com/repos/gendx/lzma-rs/issues/101/comments","events_url":"https://api.github.com/repos/gendx/lzma-rs/issues/101/events","html_url":"https://github.com/gendx/lzma-rs/pull/101","id":1737370933,"node_id":"PR_kwDOBk2llM5R9VYy","number":101,"title":"Implement the xz Delta filter (filter 3)","user":{"login":"terrence2","id":365237,"node_id":"MDQ6VXNlcjM2NTIzNw==","avatar_url":"https://avatars.githubusercontent.com/u/365237?v=4","gravatar_id":"","url":"https://api.github.com/users/terrence2","html_url":"https://github.com/terrence2","followers_url":"https://api.github.com/users/terrence2/followers","following_url":"https://api.github.com/users/terrence2/following{/other_user}","gists_url":"https://api.github.com/users/terrence2/gists{/gist_id}","starred_url":"https://api.github.com/users/terrence2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/terrence2/subscriptions","organizations_url":"https://api.github.com/users/terrence2/orgs","repos_url":"https://api.github.com/users/terrence2/repos","events_url":"https://api.github.com/users/terrence2/events{/privacy}","received_events_url":"https://api.github.com/users/terrence2/received_events","type":"User","site_admin":false},"labels":[{"id":2037996122,"node_id":"MDU6TGFiZWwyMDM3OTk2MTIy","url":"https://api.github.com/repos/gendx/lzma-rs/labels/waiting%20on%20author","name":"waiting on author","color":"f4abcc","default":false,"description":"Waiting for pull request author to address review comments"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-06-02T02:45:23Z","updated_at":"2023-11-11T15:14:04Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/gendx/lzma-rs/pulls/101","html_url":"https://github.com/gendx/lzma-rs/pull/101","diff_url":"https://github.com/gendx/lzma-rs/pull/101.diff","patch_url":"https://github.com/gendx/lzma-rs/pull/101.patch","merged_at":null},"body":"### Pull Request Overview\r\n\r\nThis pull request adds a delta compression filter and fixes multi-filter decompression; this appears to be the first test case making use of multiple filters.\r\n\r\nTerrain height data tends to have lots of periodic repeating patterns, so GeoTiffs compressed with GDAL's liblzma support tend to have lots of tiles that make use of delta filtering. I need a native rust implementation of lzma decompression for use in [OpenFA](https://openfa.org), so that I can port it to run on the web.\r\n\r\n\r\n### Testing Strategy\r\n\r\nThis pull request was tested by...\r\n\r\n- [x] Added relevant end-to-end tests (an `.xz` file with a delta filter).\r\n- [x] Integrated into OpenFA's GeoTiff parser and demonstrated equivalent function to liblzma. \r\n- [x] Ran `cargo bench` to verify there were no performance regressions.\r\n\r\n\r\n### Supporting Documentation and References\r\n\r\nCode for the delta filter was adapted from the C code in [xz-file-format.txt](https://github.com/tukaani-project/xz/blob/master/doc/xz-file-format.txt).\r\n\r\n","reactions":{"url":"https://api.github.com/repos/gendx/lzma-rs/issues/101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/gendx/lzma-rs/issues/101/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/gendx/lzma-rs/issues/comments/1806841121","html_url":"https://github.com/gendx/lzma-rs/pull/101#issuecomment-1806841121","issue_url":"https://api.github.com/repos/gendx/lzma-rs/issues/101","id":1806841121,"node_id":"IC_kwDOBk2llM5rsjUh","user":{"login":"terrence2","id":365237,"node_id":"MDQ6VXNlcjM2NTIzNw==","avatar_url":"https://avatars.githubusercontent.com/u/365237?v=4","gravatar_id":"","url":"https://api.github.com/users/terrence2","html_url":"https://github.com/terrence2","followers_url":"https://api.github.com/users/terrence2/followers","following_url":"https://api.github.com/users/terrence2/following{/other_user}","gists_url":"https://api.github.com/users/terrence2/gists{/gist_id}","starred_url":"https://api.github.com/users/terrence2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/terrence2/subscriptions","organizations_url":"https://api.github.com/users/terrence2/orgs","repos_url":"https://api.github.com/users/terrence2/repos","events_url":"https://api.github.com/users/terrence2/events{/privacy}","received_events_url":"https://api.github.com/users/terrence2/received_events","type":"User","site_admin":false},"created_at":"2023-11-11T15:14:03Z","updated_at":"2023-11-11T15:14:03Z","author_association":"NONE","body":"Great feedback! I think the new diff is much cleaner and clearer than the previous.\r\n\r\nSince I was touching decomp_big_file anyway, I took the liberty of replacing read_all_file with the new fs::read builtin while I was there.\r\n\r\nPlease give it another look, at your convenience.","reactions":{"url":"https://api.github.com/repos/gendx/lzma-rs/issues/comments/1806841121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-11-11T15:14:04Z"}
