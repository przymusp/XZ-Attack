{"id":"36133264412","type":"IssueCommentEvent","actor":{"id":78042786,"login":"JiaT75","display_login":"JiaT75","gravatar_id":"","url":"https://api.github.com/users/JiaT75","avatar_url":"https://avatars.githubusercontent.com/u/78042786?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/tukaani-project/xz/issues/86","repository_url":"https://api.github.com/repos/tukaani-project/xz","labels_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/labels{/name}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments","events_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/events","html_url":"https://github.com/tukaani-project/xz/pull/86","id":2152741002,"node_id":"PR_kwDOIQBEvs5n1xaP","number":86,"title":"Speed up CRC32 calculation on LoongArch","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2024-02-25T12:26:01Z","updated_at":"2024-02-29T16:33:19Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","html_url":"https://github.com/tukaani-project/xz/pull/86","diff_url":"https://github.com/tukaani-project/xz/pull/86.diff","patch_url":"https://github.com/tukaani-project/xz/pull/86.patch","merged_at":null},"body":"## Pull request checklist\r\n\r\nPlease check if your PR fulfills the following requirements:\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been reviewed and added / updated if needed (for bug fixes / features)\r\n- [x] Build was run locally and without warnings or errors\r\n- [x] All previous and new tests pass\r\n\r\n\r\n## Pull request type\r\n\r\n<!-- Please try to limit your pull request to one type, submit multiple\r\npull requests if needed. --> \r\n\r\nPlease check the type of change your PR introduces:\r\n- [x] Feature\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying. -->\r\n\r\nOn LoongArch the generic table-based CRC32 implementation is used.\r\n\r\n<!-- Related issue this PR addresses, if applicable -->\r\nRelated Issue URL: None\r\n\r\n\r\n## What is the new behavior?\r\n\r\nThe crc.w.{b/h/w/d}.w instructions in LoongArch can calculate the CRC32 result for 1/2/4/8 bytes in a single operation, making the use of LoongArch CRC32 instructions much faster compared to the general CRC32 algorithm.\r\n\r\nOptimized CRC32 will be enabled if the kernel declares the LoongArch CRC32 instructions supported via AT_HWCAP.\r\n\r\n## Does this introduce a breaking change?\r\n\r\n- [x] No\r\n\r\n<!-- If this introduces a breaking change, please describe the impact and\r\nmigration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\n<!-- Any other information that is important to this PR. -->","reactions":{"url":"https://api.github.com/repos/tukaani-project/xz/issues/86/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/tukaani-project/xz/issues/comments/1971515848","html_url":"https://github.com/tukaani-project/xz/pull/86#issuecomment-1971515848","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/86","id":1971515848,"node_id":"IC_kwDOIQBEvs51gvHI","user":{"login":"JiaT75","id":78042786,"node_id":"MDQ6VXNlcjc4MDQyNzg2","avatar_url":"https://avatars.githubusercontent.com/u/78042786?v=4","gravatar_id":"","url":"https://api.github.com/users/JiaT75","html_url":"https://github.com/JiaT75","followers_url":"https://api.github.com/users/JiaT75/followers","following_url":"https://api.github.com/users/JiaT75/following{/other_user}","gists_url":"https://api.github.com/users/JiaT75/gists{/gist_id}","starred_url":"https://api.github.com/users/JiaT75/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JiaT75/subscriptions","organizations_url":"https://api.github.com/users/JiaT75/orgs","repos_url":"https://api.github.com/users/JiaT75/repos","events_url":"https://api.github.com/users/JiaT75/events{/privacy}","received_events_url":"https://api.github.com/users/JiaT75/received_events","type":"User","site_admin":false},"created_at":"2024-02-29T16:33:18Z","updated_at":"2024-02-29T16:33:18Z","author_association":"MEMBER","body":"Hello! Thanks for the PR. Overall it looks like you did a great job with this.\r\n\r\nCan you provide benchmarks to show the speed increase from this? Specifically, can you show one version with the alignment adjustment in `crc32_arch_optimized()` and one without? I just want to be sure the alignment adjustment code is worth it for LoongArch. It would be great to vary the input buffer size to see how the speed improvements scale.\r\n\r\nAlso, how necessary are the runtime detection checks? Are there LoongArch chips that do not have the CRC32 instruction? ","reactions":{"url":"https://api.github.com/repos/tukaani-project/xz/issues/comments/1971515848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2024-02-29T16:33:20Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"36133304739","type":"PullRequestReviewCommentEvent","actor":{"id":78042786,"login":"JiaT75","display_login":"JiaT75","gravatar_id":"","url":"https://api.github.com/users/JiaT75","avatar_url":"https://avatars.githubusercontent.com/u/78042786?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507869290","pull_request_review_id":1909354538,"id":1507869290,"node_id":"PRRC_kwDOIQBEvs5Z4EJq","diff_hunk":"@@ -393,6 +393,14 @@ AC_ARG_ENABLE([arm64-crc32], AS_HELP_STRING([--disable-arm64-crc32],\n \t\tis detected.]),\n \t[], [enable_arm64_crc32=yes])\n ","path":"configure.ac","commit_id":"4023849b644a3df3e170cba4a551e11737192447","original_commit_id":"4023849b644a3df3e170cba4a551e11737192447","user":{"login":"JiaT75","id":78042786,"node_id":"MDQ6VXNlcjc4MDQyNzg2","avatar_url":"https://avatars.githubusercontent.com/u/78042786?v=4","gravatar_id":"","url":"https://api.github.com/users/JiaT75","html_url":"https://github.com/JiaT75","followers_url":"https://api.github.com/users/JiaT75/followers","following_url":"https://api.github.com/users/JiaT75/following{/other_user}","gists_url":"https://api.github.com/users/JiaT75/gists{/gist_id}","starred_url":"https://api.github.com/users/JiaT75/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JiaT75/subscriptions","organizations_url":"https://api.github.com/users/JiaT75/orgs","repos_url":"https://api.github.com/users/JiaT75/repos","events_url":"https://api.github.com/users/JiaT75/events{/privacy}","received_events_url":"https://api.github.com/users/JiaT75/received_events","type":"User","site_admin":false},"body":"An extra newline is needed here to match the code style. It helps break up the different sections in this file.","created_at":"2024-02-29T16:34:27Z","updated_at":"2024-02-29T16:34:28Z","html_url":"https://github.com/tukaani-project/xz/pull/86#discussion_r1507869290","pull_request_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","author_association":"MEMBER","_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507869290"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86#discussion_r1507869290"},"pull_request":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"}},"reactions":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507869290/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"start_line":null,"original_start_line":null,"start_side":null,"line":395,"original_line":395,"side":"RIGHT","original_position":3,"position":3,"subject_type":"line"},"pull_request":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","id":1742149263,"node_id":"PR_kwDOIQBEvs5n1xaP","html_url":"https://github.com/tukaani-project/xz/pull/86","diff_url":"https://github.com/tukaani-project/xz/pull/86.diff","patch_url":"https://github.com/tukaani-project/xz/pull/86.patch","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/86","number":86,"state":"open","locked":false,"title":"Speed up CRC32 calculation on LoongArch","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":"## Pull request checklist\r\n\r\nPlease check if your PR fulfills the following requirements:\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been reviewed and added / updated if needed (for bug fixes / features)\r\n- [x] Build was run locally and without warnings or errors\r\n- [x] All previous and new tests pass\r\n\r\n\r\n## Pull request type\r\n\r\n<!-- Please try to limit your pull request to one type, submit multiple\r\npull requests if needed. --> \r\n\r\nPlease check the type of change your PR introduces:\r\n- [x] Feature\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying. -->\r\n\r\nOn LoongArch the generic table-based CRC32 implementation is used.\r\n\r\n<!-- Related issue this PR addresses, if applicable -->\r\nRelated Issue URL: None\r\n\r\n\r\n## What is the new behavior?\r\n\r\nThe crc.w.{b/h/w/d}.w instructions in LoongArch can calculate the CRC32 result for 1/2/4/8 bytes in a single operation, making the use of LoongArch CRC32 instructions much faster compared to the general CRC32 algorithm.\r\n\r\nOptimized CRC32 will be enabled if the kernel declares the LoongArch CRC32 instructions supported via AT_HWCAP.\r\n\r\n## Does this introduce a breaking change?\r\n\r\n- [x] No\r\n\r\n<!-- If this introduces a breaking change, please describe the impact and\r\nmigration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\n<!-- Any other information that is important to this PR. -->","created_at":"2024-02-25T12:26:01Z","updated_at":"2024-02-29T16:34:27Z","closed_at":null,"merged_at":null,"merge_commit_sha":"21a9807d8f8b3b7ac27cedbf1c083c7b1a2c9179","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits","review_comments_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments","review_comment_url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/4023849b644a3df3e170cba4a551e11737192447","head":{"label":"xry111:xry111/loongarch-crc","ref":"xry111/loongarch-crc","sha":"4023849b644a3df3e170cba4a551e11737192447","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"repo":{"id":763044910,"node_id":"R_kgDOLXskLg","name":"xz","full_name":"xry111/xz","private":false,"owner":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"html_url":"https://github.com/xry111/xz","description":"XZ Utils","fork":true,"url":"https://api.github.com/repos/xry111/xz","forks_url":"https://api.github.com/repos/xry111/xz/forks","keys_url":"https://api.github.com/repos/xry111/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xry111/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xry111/xz/teams","hooks_url":"https://api.github.com/repos/xry111/xz/hooks","issue_events_url":"https://api.github.com/repos/xry111/xz/issues/events{/number}","events_url":"https://api.github.com/repos/xry111/xz/events","assignees_url":"https://api.github.com/repos/xry111/xz/assignees{/user}","branches_url":"https://api.github.com/repos/xry111/xz/branches{/branch}","tags_url":"https://api.github.com/repos/xry111/xz/tags","blobs_url":"https://api.github.com/repos/xry111/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xry111/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xry111/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/xry111/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xry111/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/xry111/xz/languages","stargazers_url":"https://api.github.com/repos/xry111/xz/stargazers","contributors_url":"https://api.github.com/repos/xry111/xz/contributors","subscribers_url":"https://api.github.com/repos/xry111/xz/subscribers","subscription_url":"https://api.github.com/repos/xry111/xz/subscription","commits_url":"https://api.github.com/repos/xry111/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/xry111/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/xry111/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/xry111/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/xry111/xz/contents/{+path}","compare_url":"https://api.github.com/repos/xry111/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xry111/xz/merges","archive_url":"https://api.github.com/repos/xry111/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xry111/xz/downloads","issues_url":"https://api.github.com/repos/xry111/xz/issues{/number}","pulls_url":"https://api.github.com/repos/xry111/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/xry111/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/xry111/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xry111/xz/labels{/name}","releases_url":"https://api.github.com/repos/xry111/xz/releases{/id}","deployments_url":"https://api.github.com/repos/xry111/xz/deployments","created_at":"2024-02-25T12:15:50Z","updated_at":"2024-02-25T12:15:50Z","pushed_at":"2024-02-26T09:52:35Z","git_url":"git://github.com/xry111/xz.git","ssh_url":"git@github.com:xry111/xz.git","clone_url":"https://github.com/xry111/xz.git","svn_url":"https://github.com/xry111/xz","homepage":"https://xz.tukaani.org/xz-utils","size":4532,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"tukaani-project:master","ref":"master","sha":"8bf9f72ee1c05b9e205a72807e8a9e304785673d","user":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"repo":{"id":553665726,"node_id":"R_kgDOIQBEvg","name":"xz","full_name":"tukaani-project/xz","private":false,"owner":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/tukaani-project/xz","description":"XZ Utils","fork":false,"url":"https://api.github.com/repos/tukaani-project/xz","forks_url":"https://api.github.com/repos/tukaani-project/xz/forks","keys_url":"https://api.github.com/repos/tukaani-project/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tukaani-project/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tukaani-project/xz/teams","hooks_url":"https://api.github.com/repos/tukaani-project/xz/hooks","issue_events_url":"https://api.github.com/repos/tukaani-project/xz/issues/events{/number}","events_url":"https://api.github.com/repos/tukaani-project/xz/events","assignees_url":"https://api.github.com/repos/tukaani-project/xz/assignees{/user}","branches_url":"https://api.github.com/repos/tukaani-project/xz/branches{/branch}","tags_url":"https://api.github.com/repos/tukaani-project/xz/tags","blobs_url":"https://api.github.com/repos/tukaani-project/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tukaani-project/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tukaani-project/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/tukaani-project/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/tukaani-project/xz/languages","stargazers_url":"https://api.github.com/repos/tukaani-project/xz/stargazers","contributors_url":"https://api.github.com/repos/tukaani-project/xz/contributors","subscribers_url":"https://api.github.com/repos/tukaani-project/xz/subscribers","subscription_url":"https://api.github.com/repos/tukaani-project/xz/subscription","commits_url":"https://api.github.com/repos/tukaani-project/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/tukaani-project/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/tukaani-project/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/tukaani-project/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/tukaani-project/xz/contents/{+path}","compare_url":"https://api.github.com/repos/tukaani-project/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tukaani-project/xz/merges","archive_url":"https://api.github.com/repos/tukaani-project/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tukaani-project/xz/downloads","issues_url":"https://api.github.com/repos/tukaani-project/xz/issues{/number}","pulls_url":"https://api.github.com/repos/tukaani-project/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/tukaani-project/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/tukaani-project/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tukaani-project/xz/labels{/name}","releases_url":"https://api.github.com/repos/tukaani-project/xz/releases{/id}","deployments_url":"https://api.github.com/repos/tukaani-project/xz/deployments","created_at":"2022-10-18T15:11:36Z","updated_at":"2024-02-29T06:25:51Z","pushed_at":"2024-02-29T14:47:47Z","git_url":"git://github.com/tukaani-project/xz.git","ssh_url":"git@github.com:tukaani-project/xz.git","clone_url":"https://github.com/tukaani-project/xz.git","svn_url":"https://github.com/tukaani-project/xz","homepage":"https://xz.tukaani.org/xz-utils","size":5032,"stargazers_count":154,"watchers_count":154,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":47,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":7,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","cli","compression","library"],"visibility":"public","forks":47,"open_issues":7,"watchers":154,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86"},"issue":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86"},"comments":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments"},"review_comments":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments"},"review_comment":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits"},"statuses":{"href":"https://api.github.com/repos/tukaani-project/xz/statuses/4023849b644a3df3e170cba4a551e11737192447"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2024-02-29T16:34:27Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"36133304667","type":"PullRequestReviewEvent","actor":{"id":78042786,"login":"JiaT75","display_login":"JiaT75","gravatar_id":"","url":"https://api.github.com/users/JiaT75","avatar_url":"https://avatars.githubusercontent.com/u/78042786?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","review":{"id":1909354538,"node_id":"PRR_kwDOIQBEvs5xznAq","user":{"login":"JiaT75","id":78042786,"node_id":"MDQ6VXNlcjc4MDQyNzg2","avatar_url":"https://avatars.githubusercontent.com/u/78042786?v=4","gravatar_id":"","url":"https://api.github.com/users/JiaT75","html_url":"https://github.com/JiaT75","followers_url":"https://api.github.com/users/JiaT75/followers","following_url":"https://api.github.com/users/JiaT75/following{/other_user}","gists_url":"https://api.github.com/users/JiaT75/gists{/gist_id}","starred_url":"https://api.github.com/users/JiaT75/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JiaT75/subscriptions","organizations_url":"https://api.github.com/users/JiaT75/orgs","repos_url":"https://api.github.com/users/JiaT75/repos","events_url":"https://api.github.com/users/JiaT75/events{/privacy}","received_events_url":"https://api.github.com/users/JiaT75/received_events","type":"User","site_admin":false},"body":null,"commit_id":"4023849b644a3df3e170cba4a551e11737192447","submitted_at":"2024-02-29T16:34:27Z","state":"commented","html_url":"https://github.com/tukaani-project/xz/pull/86#pullrequestreview-1909354538","pull_request_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","author_association":"MEMBER","_links":{"html":{"href":"https://github.com/tukaani-project/xz/pull/86#pullrequestreview-1909354538"},"pull_request":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"}}},"pull_request":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","id":1742149263,"node_id":"PR_kwDOIQBEvs5n1xaP","html_url":"https://github.com/tukaani-project/xz/pull/86","diff_url":"https://github.com/tukaani-project/xz/pull/86.diff","patch_url":"https://github.com/tukaani-project/xz/pull/86.patch","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/86","number":86,"state":"open","locked":false,"title":"Speed up CRC32 calculation on LoongArch","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":"## Pull request checklist\r\n\r\nPlease check if your PR fulfills the following requirements:\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been reviewed and added / updated if needed (for bug fixes / features)\r\n- [x] Build was run locally and without warnings or errors\r\n- [x] All previous and new tests pass\r\n\r\n\r\n## Pull request type\r\n\r\n<!-- Please try to limit your pull request to one type, submit multiple\r\npull requests if needed. --> \r\n\r\nPlease check the type of change your PR introduces:\r\n- [x] Feature\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying. -->\r\n\r\nOn LoongArch the generic table-based CRC32 implementation is used.\r\n\r\n<!-- Related issue this PR addresses, if applicable -->\r\nRelated Issue URL: None\r\n\r\n\r\n## What is the new behavior?\r\n\r\nThe crc.w.{b/h/w/d}.w instructions in LoongArch can calculate the CRC32 result for 1/2/4/8 bytes in a single operation, making the use of LoongArch CRC32 instructions much faster compared to the general CRC32 algorithm.\r\n\r\nOptimized CRC32 will be enabled if the kernel declares the LoongArch CRC32 instructions supported via AT_HWCAP.\r\n\r\n## Does this introduce a breaking change?\r\n\r\n- [x] No\r\n\r\n<!-- If this introduces a breaking change, please describe the impact and\r\nmigration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\n<!-- Any other information that is important to this PR. -->","created_at":"2024-02-25T12:26:01Z","updated_at":"2024-02-29T16:34:27Z","closed_at":null,"merged_at":null,"merge_commit_sha":"21a9807d8f8b3b7ac27cedbf1c083c7b1a2c9179","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits","review_comments_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments","review_comment_url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/4023849b644a3df3e170cba4a551e11737192447","head":{"label":"xry111:xry111/loongarch-crc","ref":"xry111/loongarch-crc","sha":"4023849b644a3df3e170cba4a551e11737192447","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"repo":{"id":763044910,"node_id":"R_kgDOLXskLg","name":"xz","full_name":"xry111/xz","private":false,"owner":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"html_url":"https://github.com/xry111/xz","description":"XZ Utils","fork":true,"url":"https://api.github.com/repos/xry111/xz","forks_url":"https://api.github.com/repos/xry111/xz/forks","keys_url":"https://api.github.com/repos/xry111/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xry111/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xry111/xz/teams","hooks_url":"https://api.github.com/repos/xry111/xz/hooks","issue_events_url":"https://api.github.com/repos/xry111/xz/issues/events{/number}","events_url":"https://api.github.com/repos/xry111/xz/events","assignees_url":"https://api.github.com/repos/xry111/xz/assignees{/user}","branches_url":"https://api.github.com/repos/xry111/xz/branches{/branch}","tags_url":"https://api.github.com/repos/xry111/xz/tags","blobs_url":"https://api.github.com/repos/xry111/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xry111/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xry111/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/xry111/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xry111/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/xry111/xz/languages","stargazers_url":"https://api.github.com/repos/xry111/xz/stargazers","contributors_url":"https://api.github.com/repos/xry111/xz/contributors","subscribers_url":"https://api.github.com/repos/xry111/xz/subscribers","subscription_url":"https://api.github.com/repos/xry111/xz/subscription","commits_url":"https://api.github.com/repos/xry111/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/xry111/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/xry111/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/xry111/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/xry111/xz/contents/{+path}","compare_url":"https://api.github.com/repos/xry111/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xry111/xz/merges","archive_url":"https://api.github.com/repos/xry111/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xry111/xz/downloads","issues_url":"https://api.github.com/repos/xry111/xz/issues{/number}","pulls_url":"https://api.github.com/repos/xry111/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/xry111/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/xry111/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xry111/xz/labels{/name}","releases_url":"https://api.github.com/repos/xry111/xz/releases{/id}","deployments_url":"https://api.github.com/repos/xry111/xz/deployments","created_at":"2024-02-25T12:15:50Z","updated_at":"2024-02-25T12:15:50Z","pushed_at":"2024-02-26T09:52:35Z","git_url":"git://github.com/xry111/xz.git","ssh_url":"git@github.com:xry111/xz.git","clone_url":"https://github.com/xry111/xz.git","svn_url":"https://github.com/xry111/xz","homepage":"https://xz.tukaani.org/xz-utils","size":4532,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"tukaani-project:master","ref":"master","sha":"8bf9f72ee1c05b9e205a72807e8a9e304785673d","user":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"repo":{"id":553665726,"node_id":"R_kgDOIQBEvg","name":"xz","full_name":"tukaani-project/xz","private":false,"owner":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/tukaani-project/xz","description":"XZ Utils","fork":false,"url":"https://api.github.com/repos/tukaani-project/xz","forks_url":"https://api.github.com/repos/tukaani-project/xz/forks","keys_url":"https://api.github.com/repos/tukaani-project/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tukaani-project/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tukaani-project/xz/teams","hooks_url":"https://api.github.com/repos/tukaani-project/xz/hooks","issue_events_url":"https://api.github.com/repos/tukaani-project/xz/issues/events{/number}","events_url":"https://api.github.com/repos/tukaani-project/xz/events","assignees_url":"https://api.github.com/repos/tukaani-project/xz/assignees{/user}","branches_url":"https://api.github.com/repos/tukaani-project/xz/branches{/branch}","tags_url":"https://api.github.com/repos/tukaani-project/xz/tags","blobs_url":"https://api.github.com/repos/tukaani-project/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tukaani-project/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tukaani-project/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/tukaani-project/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/tukaani-project/xz/languages","stargazers_url":"https://api.github.com/repos/tukaani-project/xz/stargazers","contributors_url":"https://api.github.com/repos/tukaani-project/xz/contributors","subscribers_url":"https://api.github.com/repos/tukaani-project/xz/subscribers","subscription_url":"https://api.github.com/repos/tukaani-project/xz/subscription","commits_url":"https://api.github.com/repos/tukaani-project/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/tukaani-project/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/tukaani-project/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/tukaani-project/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/tukaani-project/xz/contents/{+path}","compare_url":"https://api.github.com/repos/tukaani-project/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tukaani-project/xz/merges","archive_url":"https://api.github.com/repos/tukaani-project/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tukaani-project/xz/downloads","issues_url":"https://api.github.com/repos/tukaani-project/xz/issues{/number}","pulls_url":"https://api.github.com/repos/tukaani-project/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/tukaani-project/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/tukaani-project/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tukaani-project/xz/labels{/name}","releases_url":"https://api.github.com/repos/tukaani-project/xz/releases{/id}","deployments_url":"https://api.github.com/repos/tukaani-project/xz/deployments","created_at":"2022-10-18T15:11:36Z","updated_at":"2024-02-29T06:25:51Z","pushed_at":"2024-02-29T14:47:47Z","git_url":"git://github.com/tukaani-project/xz.git","ssh_url":"git@github.com:tukaani-project/xz.git","clone_url":"https://github.com/tukaani-project/xz.git","svn_url":"https://github.com/tukaani-project/xz","homepage":"https://xz.tukaani.org/xz-utils","size":5032,"stargazers_count":154,"watchers_count":154,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":47,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":7,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","cli","compression","library"],"visibility":"public","forks":47,"open_issues":7,"watchers":154,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86"},"issue":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86"},"comments":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments"},"review_comments":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments"},"review_comment":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits"},"statuses":{"href":"https://api.github.com/repos/tukaani-project/xz/statuses/4023849b644a3df3e170cba4a551e11737192447"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2024-02-29T16:34:28Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"36133558348","type":"PullRequestReviewCommentEvent","actor":{"id":78042786,"login":"JiaT75","display_login":"JiaT75","gravatar_id":"","url":"https://api.github.com/users/JiaT75","avatar_url":"https://avatars.githubusercontent.com/u/78042786?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507879564","pull_request_review_id":1909372940,"id":1507879564,"node_id":"PRRC_kwDOIQBEvs5Z4GqM","diff_hunk":"@@ -1152,6 +1160,45 @@ AS_IF([test \"x$enable_arm64_crc32\" = xyes], [\n \tAC_CHECK_FUNCS([getauxval elf_aux_info sysctlbyname])\n ])\n \n+# LoongArch Intrinsics define CRC32 functions in larchintrin.h.\n+# These are supported by at least GCC and Clang.\n+AC_MSG_CHECKING([if LoongArch CRC32 instruction is usable])\n+AS_IF([test \"x$enable_loongarch_crc32\" = xno], [\n+\tAC_MSG_RESULT([no, --disable-loongarch-crc32 was used])\n+], [\n+\t# Set -Werror here because -Wimplicit-function-declaration was\n+\t# only a warning in GCC <= 13. This does not need to be done\n+\t# with CMake because tests will attempt to link and the error\n+\t# will be reported then.\n+\tOLD_CFLAGS=\"$CFLAGS\"\n+\tCFLAGS=\"$CFLAGS -Werror\"\n+\n+\tAC_COMPILE_IFELSE([AC_LANG_SOURCE([[\n+#include <larchintrin.h>\n+#include <stdint.h>","path":"configure.ac","commit_id":"4023849b644a3df3e170cba4a551e11737192447","original_commit_id":"4023849b644a3df3e170cba4a551e11737192447","user":{"login":"JiaT75","id":78042786,"node_id":"MDQ6VXNlcjc4MDQyNzg2","avatar_url":"https://avatars.githubusercontent.com/u/78042786?v=4","gravatar_id":"","url":"https://api.github.com/users/JiaT75","html_url":"https://github.com/JiaT75","followers_url":"https://api.github.com/users/JiaT75/followers","following_url":"https://api.github.com/users/JiaT75/following{/other_user}","gists_url":"https://api.github.com/users/JiaT75/gists{/gist_id}","starred_url":"https://api.github.com/users/JiaT75/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JiaT75/subscriptions","organizations_url":"https://api.github.com/users/JiaT75/orgs","repos_url":"https://api.github.com/users/JiaT75/repos","events_url":"https://api.github.com/users/JiaT75/events{/privacy}","received_events_url":"https://api.github.com/users/JiaT75/received_events","type":"User","site_admin":false},"body":"`<stdint.h>` isn't needed in the feature test. It was used in the ARM64 feature test because `__crc32d()` parameters were expected to be `uint32_t` and `uint64_t` (and the return type is `uint32_t`).","created_at":"2024-02-29T16:41:59Z","updated_at":"2024-02-29T16:41:59Z","html_url":"https://github.com/tukaani-project/xz/pull/86#discussion_r1507879564","pull_request_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","author_association":"MEMBER","_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507879564"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86#discussion_r1507879564"},"pull_request":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"}},"reactions":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507879564/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"start_line":null,"original_start_line":null,"start_side":null,"line":1178,"original_line":1178,"side":"RIGHT","original_position":34,"position":34,"subject_type":"line"},"pull_request":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","id":1742149263,"node_id":"PR_kwDOIQBEvs5n1xaP","html_url":"https://github.com/tukaani-project/xz/pull/86","diff_url":"https://github.com/tukaani-project/xz/pull/86.diff","patch_url":"https://github.com/tukaani-project/xz/pull/86.patch","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/86","number":86,"state":"open","locked":false,"title":"Speed up CRC32 calculation on LoongArch","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":"## Pull request checklist\r\n\r\nPlease check if your PR fulfills the following requirements:\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been reviewed and added / updated if needed (for bug fixes / features)\r\n- [x] Build was run locally and without warnings or errors\r\n- [x] All previous and new tests pass\r\n\r\n\r\n## Pull request type\r\n\r\n<!-- Please try to limit your pull request to one type, submit multiple\r\npull requests if needed. --> \r\n\r\nPlease check the type of change your PR introduces:\r\n- [x] Feature\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying. -->\r\n\r\nOn LoongArch the generic table-based CRC32 implementation is used.\r\n\r\n<!-- Related issue this PR addresses, if applicable -->\r\nRelated Issue URL: None\r\n\r\n\r\n## What is the new behavior?\r\n\r\nThe crc.w.{b/h/w/d}.w instructions in LoongArch can calculate the CRC32 result for 1/2/4/8 bytes in a single operation, making the use of LoongArch CRC32 instructions much faster compared to the general CRC32 algorithm.\r\n\r\nOptimized CRC32 will be enabled if the kernel declares the LoongArch CRC32 instructions supported via AT_HWCAP.\r\n\r\n## Does this introduce a breaking change?\r\n\r\n- [x] No\r\n\r\n<!-- If this introduces a breaking change, please describe the impact and\r\nmigration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\n<!-- Any other information that is important to this PR. -->","created_at":"2024-02-25T12:26:01Z","updated_at":"2024-02-29T16:41:59Z","closed_at":null,"merged_at":null,"merge_commit_sha":"21a9807d8f8b3b7ac27cedbf1c083c7b1a2c9179","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits","review_comments_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments","review_comment_url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/4023849b644a3df3e170cba4a551e11737192447","head":{"label":"xry111:xry111/loongarch-crc","ref":"xry111/loongarch-crc","sha":"4023849b644a3df3e170cba4a551e11737192447","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"repo":{"id":763044910,"node_id":"R_kgDOLXskLg","name":"xz","full_name":"xry111/xz","private":false,"owner":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"html_url":"https://github.com/xry111/xz","description":"XZ Utils","fork":true,"url":"https://api.github.com/repos/xry111/xz","forks_url":"https://api.github.com/repos/xry111/xz/forks","keys_url":"https://api.github.com/repos/xry111/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xry111/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xry111/xz/teams","hooks_url":"https://api.github.com/repos/xry111/xz/hooks","issue_events_url":"https://api.github.com/repos/xry111/xz/issues/events{/number}","events_url":"https://api.github.com/repos/xry111/xz/events","assignees_url":"https://api.github.com/repos/xry111/xz/assignees{/user}","branches_url":"https://api.github.com/repos/xry111/xz/branches{/branch}","tags_url":"https://api.github.com/repos/xry111/xz/tags","blobs_url":"https://api.github.com/repos/xry111/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xry111/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xry111/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/xry111/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xry111/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/xry111/xz/languages","stargazers_url":"https://api.github.com/repos/xry111/xz/stargazers","contributors_url":"https://api.github.com/repos/xry111/xz/contributors","subscribers_url":"https://api.github.com/repos/xry111/xz/subscribers","subscription_url":"https://api.github.com/repos/xry111/xz/subscription","commits_url":"https://api.github.com/repos/xry111/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/xry111/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/xry111/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/xry111/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/xry111/xz/contents/{+path}","compare_url":"https://api.github.com/repos/xry111/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xry111/xz/merges","archive_url":"https://api.github.com/repos/xry111/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xry111/xz/downloads","issues_url":"https://api.github.com/repos/xry111/xz/issues{/number}","pulls_url":"https://api.github.com/repos/xry111/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/xry111/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/xry111/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xry111/xz/labels{/name}","releases_url":"https://api.github.com/repos/xry111/xz/releases{/id}","deployments_url":"https://api.github.com/repos/xry111/xz/deployments","created_at":"2024-02-25T12:15:50Z","updated_at":"2024-02-25T12:15:50Z","pushed_at":"2024-02-26T09:52:35Z","git_url":"git://github.com/xry111/xz.git","ssh_url":"git@github.com:xry111/xz.git","clone_url":"https://github.com/xry111/xz.git","svn_url":"https://github.com/xry111/xz","homepage":"https://xz.tukaani.org/xz-utils","size":4532,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"tukaani-project:master","ref":"master","sha":"8bf9f72ee1c05b9e205a72807e8a9e304785673d","user":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"repo":{"id":553665726,"node_id":"R_kgDOIQBEvg","name":"xz","full_name":"tukaani-project/xz","private":false,"owner":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/tukaani-project/xz","description":"XZ Utils","fork":false,"url":"https://api.github.com/repos/tukaani-project/xz","forks_url":"https://api.github.com/repos/tukaani-project/xz/forks","keys_url":"https://api.github.com/repos/tukaani-project/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tukaani-project/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tukaani-project/xz/teams","hooks_url":"https://api.github.com/repos/tukaani-project/xz/hooks","issue_events_url":"https://api.github.com/repos/tukaani-project/xz/issues/events{/number}","events_url":"https://api.github.com/repos/tukaani-project/xz/events","assignees_url":"https://api.github.com/repos/tukaani-project/xz/assignees{/user}","branches_url":"https://api.github.com/repos/tukaani-project/xz/branches{/branch}","tags_url":"https://api.github.com/repos/tukaani-project/xz/tags","blobs_url":"https://api.github.com/repos/tukaani-project/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tukaani-project/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tukaani-project/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/tukaani-project/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/tukaani-project/xz/languages","stargazers_url":"https://api.github.com/repos/tukaani-project/xz/stargazers","contributors_url":"https://api.github.com/repos/tukaani-project/xz/contributors","subscribers_url":"https://api.github.com/repos/tukaani-project/xz/subscribers","subscription_url":"https://api.github.com/repos/tukaani-project/xz/subscription","commits_url":"https://api.github.com/repos/tukaani-project/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/tukaani-project/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/tukaani-project/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/tukaani-project/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/tukaani-project/xz/contents/{+path}","compare_url":"https://api.github.com/repos/tukaani-project/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tukaani-project/xz/merges","archive_url":"https://api.github.com/repos/tukaani-project/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tukaani-project/xz/downloads","issues_url":"https://api.github.com/repos/tukaani-project/xz/issues{/number}","pulls_url":"https://api.github.com/repos/tukaani-project/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/tukaani-project/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/tukaani-project/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tukaani-project/xz/labels{/name}","releases_url":"https://api.github.com/repos/tukaani-project/xz/releases{/id}","deployments_url":"https://api.github.com/repos/tukaani-project/xz/deployments","created_at":"2022-10-18T15:11:36Z","updated_at":"2024-02-29T06:25:51Z","pushed_at":"2024-02-29T14:47:47Z","git_url":"git://github.com/tukaani-project/xz.git","ssh_url":"git@github.com:tukaani-project/xz.git","clone_url":"https://github.com/tukaani-project/xz.git","svn_url":"https://github.com/tukaani-project/xz","homepage":"https://xz.tukaani.org/xz-utils","size":5032,"stargazers_count":154,"watchers_count":154,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":47,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":7,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","cli","compression","library"],"visibility":"public","forks":47,"open_issues":7,"watchers":154,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86"},"issue":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86"},"comments":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments"},"review_comments":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments"},"review_comment":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits"},"statuses":{"href":"https://api.github.com/repos/tukaani-project/xz/statuses/4023849b644a3df3e170cba4a551e11737192447"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2024-02-29T16:41:59Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"36133558185","type":"PullRequestReviewEvent","actor":{"id":78042786,"login":"JiaT75","display_login":"JiaT75","gravatar_id":"","url":"https://api.github.com/users/JiaT75","avatar_url":"https://avatars.githubusercontent.com/u/78042786?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","review":{"id":1909372940,"node_id":"PRR_kwDOIQBEvs5xzrgM","user":{"login":"JiaT75","id":78042786,"node_id":"MDQ6VXNlcjc4MDQyNzg2","avatar_url":"https://avatars.githubusercontent.com/u/78042786?v=4","gravatar_id":"","url":"https://api.github.com/users/JiaT75","html_url":"https://github.com/JiaT75","followers_url":"https://api.github.com/users/JiaT75/followers","following_url":"https://api.github.com/users/JiaT75/following{/other_user}","gists_url":"https://api.github.com/users/JiaT75/gists{/gist_id}","starred_url":"https://api.github.com/users/JiaT75/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JiaT75/subscriptions","organizations_url":"https://api.github.com/users/JiaT75/orgs","repos_url":"https://api.github.com/users/JiaT75/repos","events_url":"https://api.github.com/users/JiaT75/events{/privacy}","received_events_url":"https://api.github.com/users/JiaT75/received_events","type":"User","site_admin":false},"body":null,"commit_id":"4023849b644a3df3e170cba4a551e11737192447","submitted_at":"2024-02-29T16:41:59Z","state":"commented","html_url":"https://github.com/tukaani-project/xz/pull/86#pullrequestreview-1909372940","pull_request_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","author_association":"MEMBER","_links":{"html":{"href":"https://github.com/tukaani-project/xz/pull/86#pullrequestreview-1909372940"},"pull_request":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"}}},"pull_request":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","id":1742149263,"node_id":"PR_kwDOIQBEvs5n1xaP","html_url":"https://github.com/tukaani-project/xz/pull/86","diff_url":"https://github.com/tukaani-project/xz/pull/86.diff","patch_url":"https://github.com/tukaani-project/xz/pull/86.patch","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/86","number":86,"state":"open","locked":false,"title":"Speed up CRC32 calculation on LoongArch","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":"## Pull request checklist\r\n\r\nPlease check if your PR fulfills the following requirements:\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been reviewed and added / updated if needed (for bug fixes / features)\r\n- [x] Build was run locally and without warnings or errors\r\n- [x] All previous and new tests pass\r\n\r\n\r\n## Pull request type\r\n\r\n<!-- Please try to limit your pull request to one type, submit multiple\r\npull requests if needed. --> \r\n\r\nPlease check the type of change your PR introduces:\r\n- [x] Feature\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying. -->\r\n\r\nOn LoongArch the generic table-based CRC32 implementation is used.\r\n\r\n<!-- Related issue this PR addresses, if applicable -->\r\nRelated Issue URL: None\r\n\r\n\r\n## What is the new behavior?\r\n\r\nThe crc.w.{b/h/w/d}.w instructions in LoongArch can calculate the CRC32 result for 1/2/4/8 bytes in a single operation, making the use of LoongArch CRC32 instructions much faster compared to the general CRC32 algorithm.\r\n\r\nOptimized CRC32 will be enabled if the kernel declares the LoongArch CRC32 instructions supported via AT_HWCAP.\r\n\r\n## Does this introduce a breaking change?\r\n\r\n- [x] No\r\n\r\n<!-- If this introduces a breaking change, please describe the impact and\r\nmigration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\n<!-- Any other information that is important to this PR. -->","created_at":"2024-02-25T12:26:01Z","updated_at":"2024-02-29T16:41:59Z","closed_at":null,"merged_at":null,"merge_commit_sha":"21a9807d8f8b3b7ac27cedbf1c083c7b1a2c9179","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits","review_comments_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments","review_comment_url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/4023849b644a3df3e170cba4a551e11737192447","head":{"label":"xry111:xry111/loongarch-crc","ref":"xry111/loongarch-crc","sha":"4023849b644a3df3e170cba4a551e11737192447","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"repo":{"id":763044910,"node_id":"R_kgDOLXskLg","name":"xz","full_name":"xry111/xz","private":false,"owner":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"html_url":"https://github.com/xry111/xz","description":"XZ Utils","fork":true,"url":"https://api.github.com/repos/xry111/xz","forks_url":"https://api.github.com/repos/xry111/xz/forks","keys_url":"https://api.github.com/repos/xry111/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xry111/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xry111/xz/teams","hooks_url":"https://api.github.com/repos/xry111/xz/hooks","issue_events_url":"https://api.github.com/repos/xry111/xz/issues/events{/number}","events_url":"https://api.github.com/repos/xry111/xz/events","assignees_url":"https://api.github.com/repos/xry111/xz/assignees{/user}","branches_url":"https://api.github.com/repos/xry111/xz/branches{/branch}","tags_url":"https://api.github.com/repos/xry111/xz/tags","blobs_url":"https://api.github.com/repos/xry111/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xry111/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xry111/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/xry111/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xry111/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/xry111/xz/languages","stargazers_url":"https://api.github.com/repos/xry111/xz/stargazers","contributors_url":"https://api.github.com/repos/xry111/xz/contributors","subscribers_url":"https://api.github.com/repos/xry111/xz/subscribers","subscription_url":"https://api.github.com/repos/xry111/xz/subscription","commits_url":"https://api.github.com/repos/xry111/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/xry111/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/xry111/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/xry111/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/xry111/xz/contents/{+path}","compare_url":"https://api.github.com/repos/xry111/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xry111/xz/merges","archive_url":"https://api.github.com/repos/xry111/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xry111/xz/downloads","issues_url":"https://api.github.com/repos/xry111/xz/issues{/number}","pulls_url":"https://api.github.com/repos/xry111/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/xry111/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/xry111/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xry111/xz/labels{/name}","releases_url":"https://api.github.com/repos/xry111/xz/releases{/id}","deployments_url":"https://api.github.com/repos/xry111/xz/deployments","created_at":"2024-02-25T12:15:50Z","updated_at":"2024-02-25T12:15:50Z","pushed_at":"2024-02-26T09:52:35Z","git_url":"git://github.com/xry111/xz.git","ssh_url":"git@github.com:xry111/xz.git","clone_url":"https://github.com/xry111/xz.git","svn_url":"https://github.com/xry111/xz","homepage":"https://xz.tukaani.org/xz-utils","size":4532,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"tukaani-project:master","ref":"master","sha":"8bf9f72ee1c05b9e205a72807e8a9e304785673d","user":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"repo":{"id":553665726,"node_id":"R_kgDOIQBEvg","name":"xz","full_name":"tukaani-project/xz","private":false,"owner":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/tukaani-project/xz","description":"XZ Utils","fork":false,"url":"https://api.github.com/repos/tukaani-project/xz","forks_url":"https://api.github.com/repos/tukaani-project/xz/forks","keys_url":"https://api.github.com/repos/tukaani-project/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tukaani-project/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tukaani-project/xz/teams","hooks_url":"https://api.github.com/repos/tukaani-project/xz/hooks","issue_events_url":"https://api.github.com/repos/tukaani-project/xz/issues/events{/number}","events_url":"https://api.github.com/repos/tukaani-project/xz/events","assignees_url":"https://api.github.com/repos/tukaani-project/xz/assignees{/user}","branches_url":"https://api.github.com/repos/tukaani-project/xz/branches{/branch}","tags_url":"https://api.github.com/repos/tukaani-project/xz/tags","blobs_url":"https://api.github.com/repos/tukaani-project/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tukaani-project/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tukaani-project/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/tukaani-project/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/tukaani-project/xz/languages","stargazers_url":"https://api.github.com/repos/tukaani-project/xz/stargazers","contributors_url":"https://api.github.com/repos/tukaani-project/xz/contributors","subscribers_url":"https://api.github.com/repos/tukaani-project/xz/subscribers","subscription_url":"https://api.github.com/repos/tukaani-project/xz/subscription","commits_url":"https://api.github.com/repos/tukaani-project/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/tukaani-project/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/tukaani-project/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/tukaani-project/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/tukaani-project/xz/contents/{+path}","compare_url":"https://api.github.com/repos/tukaani-project/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tukaani-project/xz/merges","archive_url":"https://api.github.com/repos/tukaani-project/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tukaani-project/xz/downloads","issues_url":"https://api.github.com/repos/tukaani-project/xz/issues{/number}","pulls_url":"https://api.github.com/repos/tukaani-project/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/tukaani-project/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/tukaani-project/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tukaani-project/xz/labels{/name}","releases_url":"https://api.github.com/repos/tukaani-project/xz/releases{/id}","deployments_url":"https://api.github.com/repos/tukaani-project/xz/deployments","created_at":"2022-10-18T15:11:36Z","updated_at":"2024-02-29T06:25:51Z","pushed_at":"2024-02-29T14:47:47Z","git_url":"git://github.com/tukaani-project/xz.git","ssh_url":"git@github.com:tukaani-project/xz.git","clone_url":"https://github.com/tukaani-project/xz.git","svn_url":"https://github.com/tukaani-project/xz","homepage":"https://xz.tukaani.org/xz-utils","size":5032,"stargazers_count":154,"watchers_count":154,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":47,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":7,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","cli","compression","library"],"visibility":"public","forks":47,"open_issues":7,"watchers":154,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86"},"issue":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86"},"comments":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments"},"review_comments":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments"},"review_comment":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits"},"statuses":{"href":"https://api.github.com/repos/tukaani-project/xz/statuses/4023849b644a3df3e170cba4a551e11737192447"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2024-02-29T16:42:00Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"36133657018","type":"PullRequestReviewCommentEvent","actor":{"id":78042786,"login":"JiaT75","display_login":"JiaT75","gravatar_id":"","url":"https://api.github.com/users/JiaT75","avatar_url":"https://avatars.githubusercontent.com/u/78042786?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507883948","pull_request_review_id":1909381509,"id":1507883948,"node_id":"PRRC_kwDOIQBEvs5Z4Hus","diff_hunk":"","path":"configure.ac","commit_id":"4023849b644a3df3e170cba4a551e11737192447","original_commit_id":"4023849b644a3df3e170cba4a551e11737192447","user":{"login":"JiaT75","id":78042786,"node_id":"MDQ6VXNlcjc4MDQyNzg2","avatar_url":"https://avatars.githubusercontent.com/u/78042786?v=4","gravatar_id":"","url":"https://api.github.com/users/JiaT75","html_url":"https://github.com/JiaT75","followers_url":"https://api.github.com/users/JiaT75/followers","following_url":"https://api.github.com/users/JiaT75/following{/other_user}","gists_url":"https://api.github.com/users/JiaT75/gists{/gist_id}","starred_url":"https://api.github.com/users/JiaT75/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JiaT75/subscriptions","organizations_url":"https://api.github.com/users/JiaT75/orgs","repos_url":"https://api.github.com/users/JiaT75/repos","events_url":"https://api.github.com/users/JiaT75/events{/privacy}","received_events_url":"https://api.github.com/users/JiaT75/received_events","type":"User","site_admin":false},"body":"For the Autotools build, the `crc32_loongarch.h` file needs to be added to `src/liblzma/check/Makefile.inc`. Use `crc32_arm64.h` as an example of where to put it :)","created_at":"2024-02-29T16:44:51Z","updated_at":"2024-02-29T16:44:51Z","html_url":"https://github.com/tukaani-project/xz/pull/86#discussion_r1507883948","pull_request_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","author_association":"MEMBER","_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507883948"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86#discussion_r1507883948"},"pull_request":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"}},"reactions":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507883948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"start_line":null,"original_start_line":null,"start_side":null,"line":1,"original_line":1,"side":"RIGHT","original_position":1,"position":1,"subject_type":"file"},"pull_request":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","id":1742149263,"node_id":"PR_kwDOIQBEvs5n1xaP","html_url":"https://github.com/tukaani-project/xz/pull/86","diff_url":"https://github.com/tukaani-project/xz/pull/86.diff","patch_url":"https://github.com/tukaani-project/xz/pull/86.patch","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/86","number":86,"state":"open","locked":false,"title":"Speed up CRC32 calculation on LoongArch","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":"## Pull request checklist\r\n\r\nPlease check if your PR fulfills the following requirements:\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been reviewed and added / updated if needed (for bug fixes / features)\r\n- [x] Build was run locally and without warnings or errors\r\n- [x] All previous and new tests pass\r\n\r\n\r\n## Pull request type\r\n\r\n<!-- Please try to limit your pull request to one type, submit multiple\r\npull requests if needed. --> \r\n\r\nPlease check the type of change your PR introduces:\r\n- [x] Feature\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying. -->\r\n\r\nOn LoongArch the generic table-based CRC32 implementation is used.\r\n\r\n<!-- Related issue this PR addresses, if applicable -->\r\nRelated Issue URL: None\r\n\r\n\r\n## What is the new behavior?\r\n\r\nThe crc.w.{b/h/w/d}.w instructions in LoongArch can calculate the CRC32 result for 1/2/4/8 bytes in a single operation, making the use of LoongArch CRC32 instructions much faster compared to the general CRC32 algorithm.\r\n\r\nOptimized CRC32 will be enabled if the kernel declares the LoongArch CRC32 instructions supported via AT_HWCAP.\r\n\r\n## Does this introduce a breaking change?\r\n\r\n- [x] No\r\n\r\n<!-- If this introduces a breaking change, please describe the impact and\r\nmigration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\n<!-- Any other information that is important to this PR. -->","created_at":"2024-02-25T12:26:01Z","updated_at":"2024-02-29T16:44:51Z","closed_at":null,"merged_at":null,"merge_commit_sha":"21a9807d8f8b3b7ac27cedbf1c083c7b1a2c9179","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits","review_comments_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments","review_comment_url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/4023849b644a3df3e170cba4a551e11737192447","head":{"label":"xry111:xry111/loongarch-crc","ref":"xry111/loongarch-crc","sha":"4023849b644a3df3e170cba4a551e11737192447","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"repo":{"id":763044910,"node_id":"R_kgDOLXskLg","name":"xz","full_name":"xry111/xz","private":false,"owner":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"html_url":"https://github.com/xry111/xz","description":"XZ Utils","fork":true,"url":"https://api.github.com/repos/xry111/xz","forks_url":"https://api.github.com/repos/xry111/xz/forks","keys_url":"https://api.github.com/repos/xry111/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xry111/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xry111/xz/teams","hooks_url":"https://api.github.com/repos/xry111/xz/hooks","issue_events_url":"https://api.github.com/repos/xry111/xz/issues/events{/number}","events_url":"https://api.github.com/repos/xry111/xz/events","assignees_url":"https://api.github.com/repos/xry111/xz/assignees{/user}","branches_url":"https://api.github.com/repos/xry111/xz/branches{/branch}","tags_url":"https://api.github.com/repos/xry111/xz/tags","blobs_url":"https://api.github.com/repos/xry111/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xry111/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xry111/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/xry111/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xry111/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/xry111/xz/languages","stargazers_url":"https://api.github.com/repos/xry111/xz/stargazers","contributors_url":"https://api.github.com/repos/xry111/xz/contributors","subscribers_url":"https://api.github.com/repos/xry111/xz/subscribers","subscription_url":"https://api.github.com/repos/xry111/xz/subscription","commits_url":"https://api.github.com/repos/xry111/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/xry111/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/xry111/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/xry111/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/xry111/xz/contents/{+path}","compare_url":"https://api.github.com/repos/xry111/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xry111/xz/merges","archive_url":"https://api.github.com/repos/xry111/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xry111/xz/downloads","issues_url":"https://api.github.com/repos/xry111/xz/issues{/number}","pulls_url":"https://api.github.com/repos/xry111/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/xry111/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/xry111/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xry111/xz/labels{/name}","releases_url":"https://api.github.com/repos/xry111/xz/releases{/id}","deployments_url":"https://api.github.com/repos/xry111/xz/deployments","created_at":"2024-02-25T12:15:50Z","updated_at":"2024-02-25T12:15:50Z","pushed_at":"2024-02-26T09:52:35Z","git_url":"git://github.com/xry111/xz.git","ssh_url":"git@github.com:xry111/xz.git","clone_url":"https://github.com/xry111/xz.git","svn_url":"https://github.com/xry111/xz","homepage":"https://xz.tukaani.org/xz-utils","size":4532,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"tukaani-project:master","ref":"master","sha":"8bf9f72ee1c05b9e205a72807e8a9e304785673d","user":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"repo":{"id":553665726,"node_id":"R_kgDOIQBEvg","name":"xz","full_name":"tukaani-project/xz","private":false,"owner":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/tukaani-project/xz","description":"XZ Utils","fork":false,"url":"https://api.github.com/repos/tukaani-project/xz","forks_url":"https://api.github.com/repos/tukaani-project/xz/forks","keys_url":"https://api.github.com/repos/tukaani-project/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tukaani-project/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tukaani-project/xz/teams","hooks_url":"https://api.github.com/repos/tukaani-project/xz/hooks","issue_events_url":"https://api.github.com/repos/tukaani-project/xz/issues/events{/number}","events_url":"https://api.github.com/repos/tukaani-project/xz/events","assignees_url":"https://api.github.com/repos/tukaani-project/xz/assignees{/user}","branches_url":"https://api.github.com/repos/tukaani-project/xz/branches{/branch}","tags_url":"https://api.github.com/repos/tukaani-project/xz/tags","blobs_url":"https://api.github.com/repos/tukaani-project/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tukaani-project/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tukaani-project/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/tukaani-project/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/tukaani-project/xz/languages","stargazers_url":"https://api.github.com/repos/tukaani-project/xz/stargazers","contributors_url":"https://api.github.com/repos/tukaani-project/xz/contributors","subscribers_url":"https://api.github.com/repos/tukaani-project/xz/subscribers","subscription_url":"https://api.github.com/repos/tukaani-project/xz/subscription","commits_url":"https://api.github.com/repos/tukaani-project/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/tukaani-project/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/tukaani-project/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/tukaani-project/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/tukaani-project/xz/contents/{+path}","compare_url":"https://api.github.com/repos/tukaani-project/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tukaani-project/xz/merges","archive_url":"https://api.github.com/repos/tukaani-project/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tukaani-project/xz/downloads","issues_url":"https://api.github.com/repos/tukaani-project/xz/issues{/number}","pulls_url":"https://api.github.com/repos/tukaani-project/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/tukaani-project/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/tukaani-project/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tukaani-project/xz/labels{/name}","releases_url":"https://api.github.com/repos/tukaani-project/xz/releases{/id}","deployments_url":"https://api.github.com/repos/tukaani-project/xz/deployments","created_at":"2022-10-18T15:11:36Z","updated_at":"2024-02-29T06:25:51Z","pushed_at":"2024-02-29T14:47:47Z","git_url":"git://github.com/tukaani-project/xz.git","ssh_url":"git@github.com:tukaani-project/xz.git","clone_url":"https://github.com/tukaani-project/xz.git","svn_url":"https://github.com/tukaani-project/xz","homepage":"https://xz.tukaani.org/xz-utils","size":5032,"stargazers_count":154,"watchers_count":154,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":47,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":7,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","cli","compression","library"],"visibility":"public","forks":47,"open_issues":7,"watchers":154,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86"},"issue":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86"},"comments":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments"},"review_comments":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments"},"review_comment":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits"},"statuses":{"href":"https://api.github.com/repos/tukaani-project/xz/statuses/4023849b644a3df3e170cba4a551e11737192447"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2024-02-29T16:44:51Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"36133656931","type":"PullRequestReviewEvent","actor":{"id":78042786,"login":"JiaT75","display_login":"JiaT75","gravatar_id":"","url":"https://api.github.com/users/JiaT75","avatar_url":"https://avatars.githubusercontent.com/u/78042786?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","review":{"id":1909381509,"node_id":"PRR_kwDOIQBEvs5xztmF","user":{"login":"JiaT75","id":78042786,"node_id":"MDQ6VXNlcjc4MDQyNzg2","avatar_url":"https://avatars.githubusercontent.com/u/78042786?v=4","gravatar_id":"","url":"https://api.github.com/users/JiaT75","html_url":"https://github.com/JiaT75","followers_url":"https://api.github.com/users/JiaT75/followers","following_url":"https://api.github.com/users/JiaT75/following{/other_user}","gists_url":"https://api.github.com/users/JiaT75/gists{/gist_id}","starred_url":"https://api.github.com/users/JiaT75/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JiaT75/subscriptions","organizations_url":"https://api.github.com/users/JiaT75/orgs","repos_url":"https://api.github.com/users/JiaT75/repos","events_url":"https://api.github.com/users/JiaT75/events{/privacy}","received_events_url":"https://api.github.com/users/JiaT75/received_events","type":"User","site_admin":false},"body":null,"commit_id":"4023849b644a3df3e170cba4a551e11737192447","submitted_at":"2024-02-29T16:44:51Z","state":"commented","html_url":"https://github.com/tukaani-project/xz/pull/86#pullrequestreview-1909381509","pull_request_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","author_association":"MEMBER","_links":{"html":{"href":"https://github.com/tukaani-project/xz/pull/86#pullrequestreview-1909381509"},"pull_request":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"}}},"pull_request":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","id":1742149263,"node_id":"PR_kwDOIQBEvs5n1xaP","html_url":"https://github.com/tukaani-project/xz/pull/86","diff_url":"https://github.com/tukaani-project/xz/pull/86.diff","patch_url":"https://github.com/tukaani-project/xz/pull/86.patch","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/86","number":86,"state":"open","locked":false,"title":"Speed up CRC32 calculation on LoongArch","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":"## Pull request checklist\r\n\r\nPlease check if your PR fulfills the following requirements:\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been reviewed and added / updated if needed (for bug fixes / features)\r\n- [x] Build was run locally and without warnings or errors\r\n- [x] All previous and new tests pass\r\n\r\n\r\n## Pull request type\r\n\r\n<!-- Please try to limit your pull request to one type, submit multiple\r\npull requests if needed. --> \r\n\r\nPlease check the type of change your PR introduces:\r\n- [x] Feature\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying. -->\r\n\r\nOn LoongArch the generic table-based CRC32 implementation is used.\r\n\r\n<!-- Related issue this PR addresses, if applicable -->\r\nRelated Issue URL: None\r\n\r\n\r\n## What is the new behavior?\r\n\r\nThe crc.w.{b/h/w/d}.w instructions in LoongArch can calculate the CRC32 result for 1/2/4/8 bytes in a single operation, making the use of LoongArch CRC32 instructions much faster compared to the general CRC32 algorithm.\r\n\r\nOptimized CRC32 will be enabled if the kernel declares the LoongArch CRC32 instructions supported via AT_HWCAP.\r\n\r\n## Does this introduce a breaking change?\r\n\r\n- [x] No\r\n\r\n<!-- If this introduces a breaking change, please describe the impact and\r\nmigration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\n<!-- Any other information that is important to this PR. -->","created_at":"2024-02-25T12:26:01Z","updated_at":"2024-02-29T16:44:51Z","closed_at":null,"merged_at":null,"merge_commit_sha":"21a9807d8f8b3b7ac27cedbf1c083c7b1a2c9179","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits","review_comments_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments","review_comment_url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/4023849b644a3df3e170cba4a551e11737192447","head":{"label":"xry111:xry111/loongarch-crc","ref":"xry111/loongarch-crc","sha":"4023849b644a3df3e170cba4a551e11737192447","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"repo":{"id":763044910,"node_id":"R_kgDOLXskLg","name":"xz","full_name":"xry111/xz","private":false,"owner":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"html_url":"https://github.com/xry111/xz","description":"XZ Utils","fork":true,"url":"https://api.github.com/repos/xry111/xz","forks_url":"https://api.github.com/repos/xry111/xz/forks","keys_url":"https://api.github.com/repos/xry111/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xry111/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xry111/xz/teams","hooks_url":"https://api.github.com/repos/xry111/xz/hooks","issue_events_url":"https://api.github.com/repos/xry111/xz/issues/events{/number}","events_url":"https://api.github.com/repos/xry111/xz/events","assignees_url":"https://api.github.com/repos/xry111/xz/assignees{/user}","branches_url":"https://api.github.com/repos/xry111/xz/branches{/branch}","tags_url":"https://api.github.com/repos/xry111/xz/tags","blobs_url":"https://api.github.com/repos/xry111/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xry111/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xry111/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/xry111/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xry111/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/xry111/xz/languages","stargazers_url":"https://api.github.com/repos/xry111/xz/stargazers","contributors_url":"https://api.github.com/repos/xry111/xz/contributors","subscribers_url":"https://api.github.com/repos/xry111/xz/subscribers","subscription_url":"https://api.github.com/repos/xry111/xz/subscription","commits_url":"https://api.github.com/repos/xry111/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/xry111/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/xry111/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/xry111/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/xry111/xz/contents/{+path}","compare_url":"https://api.github.com/repos/xry111/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xry111/xz/merges","archive_url":"https://api.github.com/repos/xry111/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xry111/xz/downloads","issues_url":"https://api.github.com/repos/xry111/xz/issues{/number}","pulls_url":"https://api.github.com/repos/xry111/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/xry111/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/xry111/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xry111/xz/labels{/name}","releases_url":"https://api.github.com/repos/xry111/xz/releases{/id}","deployments_url":"https://api.github.com/repos/xry111/xz/deployments","created_at":"2024-02-25T12:15:50Z","updated_at":"2024-02-25T12:15:50Z","pushed_at":"2024-02-26T09:52:35Z","git_url":"git://github.com/xry111/xz.git","ssh_url":"git@github.com:xry111/xz.git","clone_url":"https://github.com/xry111/xz.git","svn_url":"https://github.com/xry111/xz","homepage":"https://xz.tukaani.org/xz-utils","size":4532,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"tukaani-project:master","ref":"master","sha":"8bf9f72ee1c05b9e205a72807e8a9e304785673d","user":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"repo":{"id":553665726,"node_id":"R_kgDOIQBEvg","name":"xz","full_name":"tukaani-project/xz","private":false,"owner":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/tukaani-project/xz","description":"XZ Utils","fork":false,"url":"https://api.github.com/repos/tukaani-project/xz","forks_url":"https://api.github.com/repos/tukaani-project/xz/forks","keys_url":"https://api.github.com/repos/tukaani-project/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tukaani-project/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tukaani-project/xz/teams","hooks_url":"https://api.github.com/repos/tukaani-project/xz/hooks","issue_events_url":"https://api.github.com/repos/tukaani-project/xz/issues/events{/number}","events_url":"https://api.github.com/repos/tukaani-project/xz/events","assignees_url":"https://api.github.com/repos/tukaani-project/xz/assignees{/user}","branches_url":"https://api.github.com/repos/tukaani-project/xz/branches{/branch}","tags_url":"https://api.github.com/repos/tukaani-project/xz/tags","blobs_url":"https://api.github.com/repos/tukaani-project/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tukaani-project/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tukaani-project/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/tukaani-project/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/tukaani-project/xz/languages","stargazers_url":"https://api.github.com/repos/tukaani-project/xz/stargazers","contributors_url":"https://api.github.com/repos/tukaani-project/xz/contributors","subscribers_url":"https://api.github.com/repos/tukaani-project/xz/subscribers","subscription_url":"https://api.github.com/repos/tukaani-project/xz/subscription","commits_url":"https://api.github.com/repos/tukaani-project/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/tukaani-project/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/tukaani-project/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/tukaani-project/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/tukaani-project/xz/contents/{+path}","compare_url":"https://api.github.com/repos/tukaani-project/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tukaani-project/xz/merges","archive_url":"https://api.github.com/repos/tukaani-project/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tukaani-project/xz/downloads","issues_url":"https://api.github.com/repos/tukaani-project/xz/issues{/number}","pulls_url":"https://api.github.com/repos/tukaani-project/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/tukaani-project/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/tukaani-project/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tukaani-project/xz/labels{/name}","releases_url":"https://api.github.com/repos/tukaani-project/xz/releases{/id}","deployments_url":"https://api.github.com/repos/tukaani-project/xz/deployments","created_at":"2022-10-18T15:11:36Z","updated_at":"2024-02-29T06:25:51Z","pushed_at":"2024-02-29T14:47:47Z","git_url":"git://github.com/tukaani-project/xz.git","ssh_url":"git@github.com:tukaani-project/xz.git","clone_url":"https://github.com/tukaani-project/xz.git","svn_url":"https://github.com/tukaani-project/xz","homepage":"https://xz.tukaani.org/xz-utils","size":5032,"stargazers_count":154,"watchers_count":154,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":47,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":7,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","cli","compression","library"],"visibility":"public","forks":47,"open_issues":7,"watchers":154,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86"},"issue":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86"},"comments":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments"},"review_comments":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments"},"review_comment":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits"},"statuses":{"href":"https://api.github.com/repos/tukaani-project/xz/statuses/4023849b644a3df3e170cba4a551e11737192447"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2024-02-29T16:44:52Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"36133701368","type":"PullRequestReviewCommentEvent","actor":{"id":78042786,"login":"JiaT75","display_login":"JiaT75","gravatar_id":"","url":"https://api.github.com/users/JiaT75","avatar_url":"https://avatars.githubusercontent.com/u/78042786?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507886079","pull_request_review_id":1909384668,"id":1507886079,"node_id":"PRRC_kwDOIQBEvs5Z4IP_","diff_hunk":"@@ -1156,6 +1156,34 @@ if(ALLOW_ARM64_CRC32)\n     endif()\n endif()\n \n+# LoongArch CRC32 Intrinsics are in larchintrin.h.\n+# These are supported by at least GCC and Clang.\n+option(ALLOW_LOONGARCH_CRC32 \"Allow LoongArch CRC32 instruction if \\\n+supported by the system\" ON)\n+\n+if(ALLOW_LOONGARCH_CRC32)\n+    check_c_source_compiles(\"\n+            #include <larchintrin.h>\n+            #include <stdint.h>","path":"CMakeLists.txt","commit_id":"4023849b644a3df3e170cba4a551e11737192447","original_commit_id":"4023849b644a3df3e170cba4a551e11737192447","user":{"login":"JiaT75","id":78042786,"node_id":"MDQ6VXNlcjc4MDQyNzg2","avatar_url":"https://avatars.githubusercontent.com/u/78042786?v=4","gravatar_id":"","url":"https://api.github.com/users/JiaT75","html_url":"https://github.com/JiaT75","followers_url":"https://api.github.com/users/JiaT75/followers","following_url":"https://api.github.com/users/JiaT75/following{/other_user}","gists_url":"https://api.github.com/users/JiaT75/gists{/gist_id}","starred_url":"https://api.github.com/users/JiaT75/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JiaT75/subscriptions","organizations_url":"https://api.github.com/users/JiaT75/orgs","repos_url":"https://api.github.com/users/JiaT75/repos","events_url":"https://api.github.com/users/JiaT75/events{/privacy}","received_events_url":"https://api.github.com/users/JiaT75/received_events","type":"User","site_admin":false},"body":"Same reason as `configure.ac`, this include isn't needed","created_at":"2024-02-29T16:46:10Z","updated_at":"2024-02-29T16:46:10Z","html_url":"https://github.com/tukaani-project/xz/pull/86#discussion_r1507886079","pull_request_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","author_association":"MEMBER","_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507886079"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86#discussion_r1507886079"},"pull_request":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"}},"reactions":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507886079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"start_line":null,"original_start_line":null,"start_side":null,"line":1167,"original_line":1167,"side":"RIGHT","original_position":12,"position":12,"subject_type":"line"},"pull_request":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","id":1742149263,"node_id":"PR_kwDOIQBEvs5n1xaP","html_url":"https://github.com/tukaani-project/xz/pull/86","diff_url":"https://github.com/tukaani-project/xz/pull/86.diff","patch_url":"https://github.com/tukaani-project/xz/pull/86.patch","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/86","number":86,"state":"open","locked":false,"title":"Speed up CRC32 calculation on LoongArch","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":"## Pull request checklist\r\n\r\nPlease check if your PR fulfills the following requirements:\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been reviewed and added / updated if needed (for bug fixes / features)\r\n- [x] Build was run locally and without warnings or errors\r\n- [x] All previous and new tests pass\r\n\r\n\r\n## Pull request type\r\n\r\n<!-- Please try to limit your pull request to one type, submit multiple\r\npull requests if needed. --> \r\n\r\nPlease check the type of change your PR introduces:\r\n- [x] Feature\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying. -->\r\n\r\nOn LoongArch the generic table-based CRC32 implementation is used.\r\n\r\n<!-- Related issue this PR addresses, if applicable -->\r\nRelated Issue URL: None\r\n\r\n\r\n## What is the new behavior?\r\n\r\nThe crc.w.{b/h/w/d}.w instructions in LoongArch can calculate the CRC32 result for 1/2/4/8 bytes in a single operation, making the use of LoongArch CRC32 instructions much faster compared to the general CRC32 algorithm.\r\n\r\nOptimized CRC32 will be enabled if the kernel declares the LoongArch CRC32 instructions supported via AT_HWCAP.\r\n\r\n## Does this introduce a breaking change?\r\n\r\n- [x] No\r\n\r\n<!-- If this introduces a breaking change, please describe the impact and\r\nmigration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\n<!-- Any other information that is important to this PR. -->","created_at":"2024-02-25T12:26:01Z","updated_at":"2024-02-29T16:46:10Z","closed_at":null,"merged_at":null,"merge_commit_sha":"21a9807d8f8b3b7ac27cedbf1c083c7b1a2c9179","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits","review_comments_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments","review_comment_url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/4023849b644a3df3e170cba4a551e11737192447","head":{"label":"xry111:xry111/loongarch-crc","ref":"xry111/loongarch-crc","sha":"4023849b644a3df3e170cba4a551e11737192447","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"repo":{"id":763044910,"node_id":"R_kgDOLXskLg","name":"xz","full_name":"xry111/xz","private":false,"owner":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"html_url":"https://github.com/xry111/xz","description":"XZ Utils","fork":true,"url":"https://api.github.com/repos/xry111/xz","forks_url":"https://api.github.com/repos/xry111/xz/forks","keys_url":"https://api.github.com/repos/xry111/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xry111/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xry111/xz/teams","hooks_url":"https://api.github.com/repos/xry111/xz/hooks","issue_events_url":"https://api.github.com/repos/xry111/xz/issues/events{/number}","events_url":"https://api.github.com/repos/xry111/xz/events","assignees_url":"https://api.github.com/repos/xry111/xz/assignees{/user}","branches_url":"https://api.github.com/repos/xry111/xz/branches{/branch}","tags_url":"https://api.github.com/repos/xry111/xz/tags","blobs_url":"https://api.github.com/repos/xry111/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xry111/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xry111/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/xry111/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xry111/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/xry111/xz/languages","stargazers_url":"https://api.github.com/repos/xry111/xz/stargazers","contributors_url":"https://api.github.com/repos/xry111/xz/contributors","subscribers_url":"https://api.github.com/repos/xry111/xz/subscribers","subscription_url":"https://api.github.com/repos/xry111/xz/subscription","commits_url":"https://api.github.com/repos/xry111/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/xry111/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/xry111/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/xry111/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/xry111/xz/contents/{+path}","compare_url":"https://api.github.com/repos/xry111/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xry111/xz/merges","archive_url":"https://api.github.com/repos/xry111/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xry111/xz/downloads","issues_url":"https://api.github.com/repos/xry111/xz/issues{/number}","pulls_url":"https://api.github.com/repos/xry111/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/xry111/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/xry111/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xry111/xz/labels{/name}","releases_url":"https://api.github.com/repos/xry111/xz/releases{/id}","deployments_url":"https://api.github.com/repos/xry111/xz/deployments","created_at":"2024-02-25T12:15:50Z","updated_at":"2024-02-25T12:15:50Z","pushed_at":"2024-02-26T09:52:35Z","git_url":"git://github.com/xry111/xz.git","ssh_url":"git@github.com:xry111/xz.git","clone_url":"https://github.com/xry111/xz.git","svn_url":"https://github.com/xry111/xz","homepage":"https://xz.tukaani.org/xz-utils","size":4532,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"tukaani-project:master","ref":"master","sha":"8bf9f72ee1c05b9e205a72807e8a9e304785673d","user":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"repo":{"id":553665726,"node_id":"R_kgDOIQBEvg","name":"xz","full_name":"tukaani-project/xz","private":false,"owner":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/tukaani-project/xz","description":"XZ Utils","fork":false,"url":"https://api.github.com/repos/tukaani-project/xz","forks_url":"https://api.github.com/repos/tukaani-project/xz/forks","keys_url":"https://api.github.com/repos/tukaani-project/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tukaani-project/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tukaani-project/xz/teams","hooks_url":"https://api.github.com/repos/tukaani-project/xz/hooks","issue_events_url":"https://api.github.com/repos/tukaani-project/xz/issues/events{/number}","events_url":"https://api.github.com/repos/tukaani-project/xz/events","assignees_url":"https://api.github.com/repos/tukaani-project/xz/assignees{/user}","branches_url":"https://api.github.com/repos/tukaani-project/xz/branches{/branch}","tags_url":"https://api.github.com/repos/tukaani-project/xz/tags","blobs_url":"https://api.github.com/repos/tukaani-project/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tukaani-project/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tukaani-project/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/tukaani-project/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/tukaani-project/xz/languages","stargazers_url":"https://api.github.com/repos/tukaani-project/xz/stargazers","contributors_url":"https://api.github.com/repos/tukaani-project/xz/contributors","subscribers_url":"https://api.github.com/repos/tukaani-project/xz/subscribers","subscription_url":"https://api.github.com/repos/tukaani-project/xz/subscription","commits_url":"https://api.github.com/repos/tukaani-project/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/tukaani-project/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/tukaani-project/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/tukaani-project/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/tukaani-project/xz/contents/{+path}","compare_url":"https://api.github.com/repos/tukaani-project/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tukaani-project/xz/merges","archive_url":"https://api.github.com/repos/tukaani-project/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tukaani-project/xz/downloads","issues_url":"https://api.github.com/repos/tukaani-project/xz/issues{/number}","pulls_url":"https://api.github.com/repos/tukaani-project/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/tukaani-project/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/tukaani-project/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tukaani-project/xz/labels{/name}","releases_url":"https://api.github.com/repos/tukaani-project/xz/releases{/id}","deployments_url":"https://api.github.com/repos/tukaani-project/xz/deployments","created_at":"2022-10-18T15:11:36Z","updated_at":"2024-02-29T06:25:51Z","pushed_at":"2024-02-29T14:47:47Z","git_url":"git://github.com/tukaani-project/xz.git","ssh_url":"git@github.com:tukaani-project/xz.git","clone_url":"https://github.com/tukaani-project/xz.git","svn_url":"https://github.com/tukaani-project/xz","homepage":"https://xz.tukaani.org/xz-utils","size":5032,"stargazers_count":154,"watchers_count":154,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":47,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":7,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","cli","compression","library"],"visibility":"public","forks":47,"open_issues":7,"watchers":154,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86"},"issue":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86"},"comments":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments"},"review_comments":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments"},"review_comment":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits"},"statuses":{"href":"https://api.github.com/repos/tukaani-project/xz/statuses/4023849b644a3df3e170cba4a551e11737192447"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2024-02-29T16:46:10Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"36133701277","type":"PullRequestReviewEvent","actor":{"id":78042786,"login":"JiaT75","display_login":"JiaT75","gravatar_id":"","url":"https://api.github.com/users/JiaT75","avatar_url":"https://avatars.githubusercontent.com/u/78042786?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","review":{"id":1909384668,"node_id":"PRR_kwDOIQBEvs5xzuXc","user":{"login":"JiaT75","id":78042786,"node_id":"MDQ6VXNlcjc4MDQyNzg2","avatar_url":"https://avatars.githubusercontent.com/u/78042786?v=4","gravatar_id":"","url":"https://api.github.com/users/JiaT75","html_url":"https://github.com/JiaT75","followers_url":"https://api.github.com/users/JiaT75/followers","following_url":"https://api.github.com/users/JiaT75/following{/other_user}","gists_url":"https://api.github.com/users/JiaT75/gists{/gist_id}","starred_url":"https://api.github.com/users/JiaT75/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JiaT75/subscriptions","organizations_url":"https://api.github.com/users/JiaT75/orgs","repos_url":"https://api.github.com/users/JiaT75/repos","events_url":"https://api.github.com/users/JiaT75/events{/privacy}","received_events_url":"https://api.github.com/users/JiaT75/received_events","type":"User","site_admin":false},"body":null,"commit_id":"4023849b644a3df3e170cba4a551e11737192447","submitted_at":"2024-02-29T16:46:10Z","state":"commented","html_url":"https://github.com/tukaani-project/xz/pull/86#pullrequestreview-1909384668","pull_request_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","author_association":"MEMBER","_links":{"html":{"href":"https://github.com/tukaani-project/xz/pull/86#pullrequestreview-1909384668"},"pull_request":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"}}},"pull_request":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","id":1742149263,"node_id":"PR_kwDOIQBEvs5n1xaP","html_url":"https://github.com/tukaani-project/xz/pull/86","diff_url":"https://github.com/tukaani-project/xz/pull/86.diff","patch_url":"https://github.com/tukaani-project/xz/pull/86.patch","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/86","number":86,"state":"open","locked":false,"title":"Speed up CRC32 calculation on LoongArch","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":"## Pull request checklist\r\n\r\nPlease check if your PR fulfills the following requirements:\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been reviewed and added / updated if needed (for bug fixes / features)\r\n- [x] Build was run locally and without warnings or errors\r\n- [x] All previous and new tests pass\r\n\r\n\r\n## Pull request type\r\n\r\n<!-- Please try to limit your pull request to one type, submit multiple\r\npull requests if needed. --> \r\n\r\nPlease check the type of change your PR introduces:\r\n- [x] Feature\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying. -->\r\n\r\nOn LoongArch the generic table-based CRC32 implementation is used.\r\n\r\n<!-- Related issue this PR addresses, if applicable -->\r\nRelated Issue URL: None\r\n\r\n\r\n## What is the new behavior?\r\n\r\nThe crc.w.{b/h/w/d}.w instructions in LoongArch can calculate the CRC32 result for 1/2/4/8 bytes in a single operation, making the use of LoongArch CRC32 instructions much faster compared to the general CRC32 algorithm.\r\n\r\nOptimized CRC32 will be enabled if the kernel declares the LoongArch CRC32 instructions supported via AT_HWCAP.\r\n\r\n## Does this introduce a breaking change?\r\n\r\n- [x] No\r\n\r\n<!-- If this introduces a breaking change, please describe the impact and\r\nmigration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\n<!-- Any other information that is important to this PR. -->","created_at":"2024-02-25T12:26:01Z","updated_at":"2024-02-29T16:46:10Z","closed_at":null,"merged_at":null,"merge_commit_sha":"21a9807d8f8b3b7ac27cedbf1c083c7b1a2c9179","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits","review_comments_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments","review_comment_url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/4023849b644a3df3e170cba4a551e11737192447","head":{"label":"xry111:xry111/loongarch-crc","ref":"xry111/loongarch-crc","sha":"4023849b644a3df3e170cba4a551e11737192447","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"repo":{"id":763044910,"node_id":"R_kgDOLXskLg","name":"xz","full_name":"xry111/xz","private":false,"owner":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"html_url":"https://github.com/xry111/xz","description":"XZ Utils","fork":true,"url":"https://api.github.com/repos/xry111/xz","forks_url":"https://api.github.com/repos/xry111/xz/forks","keys_url":"https://api.github.com/repos/xry111/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xry111/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xry111/xz/teams","hooks_url":"https://api.github.com/repos/xry111/xz/hooks","issue_events_url":"https://api.github.com/repos/xry111/xz/issues/events{/number}","events_url":"https://api.github.com/repos/xry111/xz/events","assignees_url":"https://api.github.com/repos/xry111/xz/assignees{/user}","branches_url":"https://api.github.com/repos/xry111/xz/branches{/branch}","tags_url":"https://api.github.com/repos/xry111/xz/tags","blobs_url":"https://api.github.com/repos/xry111/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xry111/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xry111/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/xry111/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xry111/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/xry111/xz/languages","stargazers_url":"https://api.github.com/repos/xry111/xz/stargazers","contributors_url":"https://api.github.com/repos/xry111/xz/contributors","subscribers_url":"https://api.github.com/repos/xry111/xz/subscribers","subscription_url":"https://api.github.com/repos/xry111/xz/subscription","commits_url":"https://api.github.com/repos/xry111/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/xry111/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/xry111/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/xry111/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/xry111/xz/contents/{+path}","compare_url":"https://api.github.com/repos/xry111/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xry111/xz/merges","archive_url":"https://api.github.com/repos/xry111/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xry111/xz/downloads","issues_url":"https://api.github.com/repos/xry111/xz/issues{/number}","pulls_url":"https://api.github.com/repos/xry111/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/xry111/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/xry111/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xry111/xz/labels{/name}","releases_url":"https://api.github.com/repos/xry111/xz/releases{/id}","deployments_url":"https://api.github.com/repos/xry111/xz/deployments","created_at":"2024-02-25T12:15:50Z","updated_at":"2024-02-25T12:15:50Z","pushed_at":"2024-02-26T09:52:35Z","git_url":"git://github.com/xry111/xz.git","ssh_url":"git@github.com:xry111/xz.git","clone_url":"https://github.com/xry111/xz.git","svn_url":"https://github.com/xry111/xz","homepage":"https://xz.tukaani.org/xz-utils","size":4532,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"tukaani-project:master","ref":"master","sha":"8bf9f72ee1c05b9e205a72807e8a9e304785673d","user":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"repo":{"id":553665726,"node_id":"R_kgDOIQBEvg","name":"xz","full_name":"tukaani-project/xz","private":false,"owner":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/tukaani-project/xz","description":"XZ Utils","fork":false,"url":"https://api.github.com/repos/tukaani-project/xz","forks_url":"https://api.github.com/repos/tukaani-project/xz/forks","keys_url":"https://api.github.com/repos/tukaani-project/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tukaani-project/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tukaani-project/xz/teams","hooks_url":"https://api.github.com/repos/tukaani-project/xz/hooks","issue_events_url":"https://api.github.com/repos/tukaani-project/xz/issues/events{/number}","events_url":"https://api.github.com/repos/tukaani-project/xz/events","assignees_url":"https://api.github.com/repos/tukaani-project/xz/assignees{/user}","branches_url":"https://api.github.com/repos/tukaani-project/xz/branches{/branch}","tags_url":"https://api.github.com/repos/tukaani-project/xz/tags","blobs_url":"https://api.github.com/repos/tukaani-project/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tukaani-project/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tukaani-project/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/tukaani-project/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/tukaani-project/xz/languages","stargazers_url":"https://api.github.com/repos/tukaani-project/xz/stargazers","contributors_url":"https://api.github.com/repos/tukaani-project/xz/contributors","subscribers_url":"https://api.github.com/repos/tukaani-project/xz/subscribers","subscription_url":"https://api.github.com/repos/tukaani-project/xz/subscription","commits_url":"https://api.github.com/repos/tukaani-project/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/tukaani-project/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/tukaani-project/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/tukaani-project/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/tukaani-project/xz/contents/{+path}","compare_url":"https://api.github.com/repos/tukaani-project/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tukaani-project/xz/merges","archive_url":"https://api.github.com/repos/tukaani-project/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tukaani-project/xz/downloads","issues_url":"https://api.github.com/repos/tukaani-project/xz/issues{/number}","pulls_url":"https://api.github.com/repos/tukaani-project/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/tukaani-project/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/tukaani-project/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tukaani-project/xz/labels{/name}","releases_url":"https://api.github.com/repos/tukaani-project/xz/releases{/id}","deployments_url":"https://api.github.com/repos/tukaani-project/xz/deployments","created_at":"2022-10-18T15:11:36Z","updated_at":"2024-02-29T06:25:51Z","pushed_at":"2024-02-29T14:47:47Z","git_url":"git://github.com/tukaani-project/xz.git","ssh_url":"git@github.com:tukaani-project/xz.git","clone_url":"https://github.com/tukaani-project/xz.git","svn_url":"https://github.com/tukaani-project/xz","homepage":"https://xz.tukaani.org/xz-utils","size":5032,"stargazers_count":154,"watchers_count":154,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":47,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":7,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","cli","compression","library"],"visibility":"public","forks":47,"open_issues":7,"watchers":154,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86"},"issue":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86"},"comments":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments"},"review_comments":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments"},"review_comment":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits"},"statuses":{"href":"https://api.github.com/repos/tukaani-project/xz/statuses/4023849b644a3df3e170cba4a551e11737192447"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2024-02-29T16:46:11Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"36133902411","type":"PullRequestReviewCommentEvent","actor":{"id":78042786,"login":"JiaT75","display_login":"JiaT75","gravatar_id":"","url":"https://api.github.com/users/JiaT75","avatar_url":"https://avatars.githubusercontent.com/u/78042786?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507894274","pull_request_review_id":1909399042,"id":1507894274,"node_id":"PRRC_kwDOIQBEvs5Z4KQC","diff_hunk":"@@ -0,0 +1,107 @@\n+// SPDX-License-Identifier: 0BSD\n+\n+///////////////////////////////////////////////////////////////////////////////\n+//\n+/// \\file       crc32_loongarch.h\n+/// \\brief      CRC32 calculation with LoongArch optimization\n+//\n+//  Authors:    Xi Ruoyao\n+//\n+///////////////////////////////////////////////////////////////////////////////\n+\n+\n+#ifndef LZMA_CRC32_LOONGARCH_H\n+#define LZMA_CRC32_LOONGARCH_H\n+\n+#include <larchintrin.h>\n+#include <sys/auxv.h>\n+\n+// Defined in section 9.1 of\n+// \"Software Development and Build Convention for LoongArch Architectures\"\n+// (https://github.com/loongson/la-softdev-convention/).  Hard code it\n+// instead of including <bits/hwcap.h> for compatibility with Glibc <= 2.37.\n+#define HWCAP_LOONGARCH_CRC32 (1 << 6)\n+\n+#if __loongarch_grlen >= 64\n+#  define UNIT_SIZE 8\n+#  define CRC_UNIT(buf, crc) __crc_w_d_w((int64_t)aligned_read64le(buf), crc)\n+#else\n+#  define UNIT_SIZE 4\n+#  define CRC_UNIT(buf, crc) __crc_w_w_w((int32_t)aligned_read32le(buf), crc)\n+#endif\n+\n+static uint32_t","path":"src/liblzma/check/crc32_loongarch.h","commit_id":"4023849b644a3df3e170cba4a551e11737192447","original_commit_id":"4023849b644a3df3e170cba4a551e11737192447","user":{"login":"JiaT75","id":78042786,"node_id":"MDQ6VXNlcjc4MDQyNzg2","avatar_url":"https://avatars.githubusercontent.com/u/78042786?v=4","gravatar_id":"","url":"https://api.github.com/users/JiaT75","html_url":"https://github.com/JiaT75","followers_url":"https://api.github.com/users/JiaT75/followers","following_url":"https://api.github.com/users/JiaT75/following{/other_user}","gists_url":"https://api.github.com/users/JiaT75/gists{/gist_id}","starred_url":"https://api.github.com/users/JiaT75/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JiaT75/subscriptions","organizations_url":"https://api.github.com/users/JiaT75/orgs","repos_url":"https://api.github.com/users/JiaT75/repos","events_url":"https://api.github.com/users/JiaT75/events{/privacy}","received_events_url":"https://api.github.com/users/JiaT75/received_events","type":"User","site_admin":false},"body":"Extra newline needed before this line for code style.","created_at":"2024-02-29T16:52:14Z","updated_at":"2024-02-29T16:52:15Z","html_url":"https://github.com/tukaani-project/xz/pull/86#discussion_r1507894274","pull_request_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","author_association":"MEMBER","_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507894274"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86#discussion_r1507894274"},"pull_request":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"}},"reactions":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507894274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"start_line":null,"original_start_line":null,"start_side":null,"line":33,"original_line":33,"side":"RIGHT","original_position":33,"position":33,"subject_type":"line"},"pull_request":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","id":1742149263,"node_id":"PR_kwDOIQBEvs5n1xaP","html_url":"https://github.com/tukaani-project/xz/pull/86","diff_url":"https://github.com/tukaani-project/xz/pull/86.diff","patch_url":"https://github.com/tukaani-project/xz/pull/86.patch","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/86","number":86,"state":"open","locked":false,"title":"Speed up CRC32 calculation on LoongArch","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":"## Pull request checklist\r\n\r\nPlease check if your PR fulfills the following requirements:\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been reviewed and added / updated if needed (for bug fixes / features)\r\n- [x] Build was run locally and without warnings or errors\r\n- [x] All previous and new tests pass\r\n\r\n\r\n## Pull request type\r\n\r\n<!-- Please try to limit your pull request to one type, submit multiple\r\npull requests if needed. --> \r\n\r\nPlease check the type of change your PR introduces:\r\n- [x] Feature\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying. -->\r\n\r\nOn LoongArch the generic table-based CRC32 implementation is used.\r\n\r\n<!-- Related issue this PR addresses, if applicable -->\r\nRelated Issue URL: None\r\n\r\n\r\n## What is the new behavior?\r\n\r\nThe crc.w.{b/h/w/d}.w instructions in LoongArch can calculate the CRC32 result for 1/2/4/8 bytes in a single operation, making the use of LoongArch CRC32 instructions much faster compared to the general CRC32 algorithm.\r\n\r\nOptimized CRC32 will be enabled if the kernel declares the LoongArch CRC32 instructions supported via AT_HWCAP.\r\n\r\n## Does this introduce a breaking change?\r\n\r\n- [x] No\r\n\r\n<!-- If this introduces a breaking change, please describe the impact and\r\nmigration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\n<!-- Any other information that is important to this PR. -->","created_at":"2024-02-25T12:26:01Z","updated_at":"2024-02-29T16:52:15Z","closed_at":null,"merged_at":null,"merge_commit_sha":"21a9807d8f8b3b7ac27cedbf1c083c7b1a2c9179","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits","review_comments_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments","review_comment_url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/4023849b644a3df3e170cba4a551e11737192447","head":{"label":"xry111:xry111/loongarch-crc","ref":"xry111/loongarch-crc","sha":"4023849b644a3df3e170cba4a551e11737192447","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"repo":{"id":763044910,"node_id":"R_kgDOLXskLg","name":"xz","full_name":"xry111/xz","private":false,"owner":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"html_url":"https://github.com/xry111/xz","description":"XZ Utils","fork":true,"url":"https://api.github.com/repos/xry111/xz","forks_url":"https://api.github.com/repos/xry111/xz/forks","keys_url":"https://api.github.com/repos/xry111/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xry111/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xry111/xz/teams","hooks_url":"https://api.github.com/repos/xry111/xz/hooks","issue_events_url":"https://api.github.com/repos/xry111/xz/issues/events{/number}","events_url":"https://api.github.com/repos/xry111/xz/events","assignees_url":"https://api.github.com/repos/xry111/xz/assignees{/user}","branches_url":"https://api.github.com/repos/xry111/xz/branches{/branch}","tags_url":"https://api.github.com/repos/xry111/xz/tags","blobs_url":"https://api.github.com/repos/xry111/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xry111/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xry111/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/xry111/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xry111/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/xry111/xz/languages","stargazers_url":"https://api.github.com/repos/xry111/xz/stargazers","contributors_url":"https://api.github.com/repos/xry111/xz/contributors","subscribers_url":"https://api.github.com/repos/xry111/xz/subscribers","subscription_url":"https://api.github.com/repos/xry111/xz/subscription","commits_url":"https://api.github.com/repos/xry111/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/xry111/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/xry111/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/xry111/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/xry111/xz/contents/{+path}","compare_url":"https://api.github.com/repos/xry111/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xry111/xz/merges","archive_url":"https://api.github.com/repos/xry111/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xry111/xz/downloads","issues_url":"https://api.github.com/repos/xry111/xz/issues{/number}","pulls_url":"https://api.github.com/repos/xry111/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/xry111/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/xry111/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xry111/xz/labels{/name}","releases_url":"https://api.github.com/repos/xry111/xz/releases{/id}","deployments_url":"https://api.github.com/repos/xry111/xz/deployments","created_at":"2024-02-25T12:15:50Z","updated_at":"2024-02-25T12:15:50Z","pushed_at":"2024-02-26T09:52:35Z","git_url":"git://github.com/xry111/xz.git","ssh_url":"git@github.com:xry111/xz.git","clone_url":"https://github.com/xry111/xz.git","svn_url":"https://github.com/xry111/xz","homepage":"https://xz.tukaani.org/xz-utils","size":4532,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"tukaani-project:master","ref":"master","sha":"8bf9f72ee1c05b9e205a72807e8a9e304785673d","user":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"repo":{"id":553665726,"node_id":"R_kgDOIQBEvg","name":"xz","full_name":"tukaani-project/xz","private":false,"owner":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/tukaani-project/xz","description":"XZ Utils","fork":false,"url":"https://api.github.com/repos/tukaani-project/xz","forks_url":"https://api.github.com/repos/tukaani-project/xz/forks","keys_url":"https://api.github.com/repos/tukaani-project/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tukaani-project/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tukaani-project/xz/teams","hooks_url":"https://api.github.com/repos/tukaani-project/xz/hooks","issue_events_url":"https://api.github.com/repos/tukaani-project/xz/issues/events{/number}","events_url":"https://api.github.com/repos/tukaani-project/xz/events","assignees_url":"https://api.github.com/repos/tukaani-project/xz/assignees{/user}","branches_url":"https://api.github.com/repos/tukaani-project/xz/branches{/branch}","tags_url":"https://api.github.com/repos/tukaani-project/xz/tags","blobs_url":"https://api.github.com/repos/tukaani-project/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tukaani-project/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tukaani-project/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/tukaani-project/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/tukaani-project/xz/languages","stargazers_url":"https://api.github.com/repos/tukaani-project/xz/stargazers","contributors_url":"https://api.github.com/repos/tukaani-project/xz/contributors","subscribers_url":"https://api.github.com/repos/tukaani-project/xz/subscribers","subscription_url":"https://api.github.com/repos/tukaani-project/xz/subscription","commits_url":"https://api.github.com/repos/tukaani-project/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/tukaani-project/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/tukaani-project/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/tukaani-project/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/tukaani-project/xz/contents/{+path}","compare_url":"https://api.github.com/repos/tukaani-project/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tukaani-project/xz/merges","archive_url":"https://api.github.com/repos/tukaani-project/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tukaani-project/xz/downloads","issues_url":"https://api.github.com/repos/tukaani-project/xz/issues{/number}","pulls_url":"https://api.github.com/repos/tukaani-project/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/tukaani-project/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/tukaani-project/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tukaani-project/xz/labels{/name}","releases_url":"https://api.github.com/repos/tukaani-project/xz/releases{/id}","deployments_url":"https://api.github.com/repos/tukaani-project/xz/deployments","created_at":"2022-10-18T15:11:36Z","updated_at":"2024-02-29T06:25:51Z","pushed_at":"2024-02-29T14:47:47Z","git_url":"git://github.com/tukaani-project/xz.git","ssh_url":"git@github.com:tukaani-project/xz.git","clone_url":"https://github.com/tukaani-project/xz.git","svn_url":"https://github.com/tukaani-project/xz","homepage":"https://xz.tukaani.org/xz-utils","size":5032,"stargazers_count":154,"watchers_count":154,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":47,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":7,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","cli","compression","library"],"visibility":"public","forks":47,"open_issues":7,"watchers":154,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86"},"issue":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86"},"comments":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments"},"review_comments":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments"},"review_comment":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits"},"statuses":{"href":"https://api.github.com/repos/tukaani-project/xz/statuses/4023849b644a3df3e170cba4a551e11737192447"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2024-02-29T16:52:14Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"36133902340","type":"PullRequestReviewEvent","actor":{"id":78042786,"login":"JiaT75","display_login":"JiaT75","gravatar_id":"","url":"https://api.github.com/users/JiaT75","avatar_url":"https://avatars.githubusercontent.com/u/78042786?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","review":{"id":1909399042,"node_id":"PRR_kwDOIQBEvs5xzx4C","user":{"login":"JiaT75","id":78042786,"node_id":"MDQ6VXNlcjc4MDQyNzg2","avatar_url":"https://avatars.githubusercontent.com/u/78042786?v=4","gravatar_id":"","url":"https://api.github.com/users/JiaT75","html_url":"https://github.com/JiaT75","followers_url":"https://api.github.com/users/JiaT75/followers","following_url":"https://api.github.com/users/JiaT75/following{/other_user}","gists_url":"https://api.github.com/users/JiaT75/gists{/gist_id}","starred_url":"https://api.github.com/users/JiaT75/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JiaT75/subscriptions","organizations_url":"https://api.github.com/users/JiaT75/orgs","repos_url":"https://api.github.com/users/JiaT75/repos","events_url":"https://api.github.com/users/JiaT75/events{/privacy}","received_events_url":"https://api.github.com/users/JiaT75/received_events","type":"User","site_admin":false},"body":null,"commit_id":"4023849b644a3df3e170cba4a551e11737192447","submitted_at":"2024-02-29T16:52:15Z","state":"commented","html_url":"https://github.com/tukaani-project/xz/pull/86#pullrequestreview-1909399042","pull_request_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","author_association":"MEMBER","_links":{"html":{"href":"https://github.com/tukaani-project/xz/pull/86#pullrequestreview-1909399042"},"pull_request":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"}}},"pull_request":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","id":1742149263,"node_id":"PR_kwDOIQBEvs5n1xaP","html_url":"https://github.com/tukaani-project/xz/pull/86","diff_url":"https://github.com/tukaani-project/xz/pull/86.diff","patch_url":"https://github.com/tukaani-project/xz/pull/86.patch","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/86","number":86,"state":"open","locked":false,"title":"Speed up CRC32 calculation on LoongArch","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":"## Pull request checklist\r\n\r\nPlease check if your PR fulfills the following requirements:\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been reviewed and added / updated if needed (for bug fixes / features)\r\n- [x] Build was run locally and without warnings or errors\r\n- [x] All previous and new tests pass\r\n\r\n\r\n## Pull request type\r\n\r\n<!-- Please try to limit your pull request to one type, submit multiple\r\npull requests if needed. --> \r\n\r\nPlease check the type of change your PR introduces:\r\n- [x] Feature\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying. -->\r\n\r\nOn LoongArch the generic table-based CRC32 implementation is used.\r\n\r\n<!-- Related issue this PR addresses, if applicable -->\r\nRelated Issue URL: None\r\n\r\n\r\n## What is the new behavior?\r\n\r\nThe crc.w.{b/h/w/d}.w instructions in LoongArch can calculate the CRC32 result for 1/2/4/8 bytes in a single operation, making the use of LoongArch CRC32 instructions much faster compared to the general CRC32 algorithm.\r\n\r\nOptimized CRC32 will be enabled if the kernel declares the LoongArch CRC32 instructions supported via AT_HWCAP.\r\n\r\n## Does this introduce a breaking change?\r\n\r\n- [x] No\r\n\r\n<!-- If this introduces a breaking change, please describe the impact and\r\nmigration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\n<!-- Any other information that is important to this PR. -->","created_at":"2024-02-25T12:26:01Z","updated_at":"2024-02-29T16:52:15Z","closed_at":null,"merged_at":null,"merge_commit_sha":"21a9807d8f8b3b7ac27cedbf1c083c7b1a2c9179","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits","review_comments_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments","review_comment_url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/4023849b644a3df3e170cba4a551e11737192447","head":{"label":"xry111:xry111/loongarch-crc","ref":"xry111/loongarch-crc","sha":"4023849b644a3df3e170cba4a551e11737192447","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"repo":{"id":763044910,"node_id":"R_kgDOLXskLg","name":"xz","full_name":"xry111/xz","private":false,"owner":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"html_url":"https://github.com/xry111/xz","description":"XZ Utils","fork":true,"url":"https://api.github.com/repos/xry111/xz","forks_url":"https://api.github.com/repos/xry111/xz/forks","keys_url":"https://api.github.com/repos/xry111/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xry111/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xry111/xz/teams","hooks_url":"https://api.github.com/repos/xry111/xz/hooks","issue_events_url":"https://api.github.com/repos/xry111/xz/issues/events{/number}","events_url":"https://api.github.com/repos/xry111/xz/events","assignees_url":"https://api.github.com/repos/xry111/xz/assignees{/user}","branches_url":"https://api.github.com/repos/xry111/xz/branches{/branch}","tags_url":"https://api.github.com/repos/xry111/xz/tags","blobs_url":"https://api.github.com/repos/xry111/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xry111/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xry111/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/xry111/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xry111/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/xry111/xz/languages","stargazers_url":"https://api.github.com/repos/xry111/xz/stargazers","contributors_url":"https://api.github.com/repos/xry111/xz/contributors","subscribers_url":"https://api.github.com/repos/xry111/xz/subscribers","subscription_url":"https://api.github.com/repos/xry111/xz/subscription","commits_url":"https://api.github.com/repos/xry111/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/xry111/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/xry111/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/xry111/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/xry111/xz/contents/{+path}","compare_url":"https://api.github.com/repos/xry111/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xry111/xz/merges","archive_url":"https://api.github.com/repos/xry111/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xry111/xz/downloads","issues_url":"https://api.github.com/repos/xry111/xz/issues{/number}","pulls_url":"https://api.github.com/repos/xry111/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/xry111/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/xry111/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xry111/xz/labels{/name}","releases_url":"https://api.github.com/repos/xry111/xz/releases{/id}","deployments_url":"https://api.github.com/repos/xry111/xz/deployments","created_at":"2024-02-25T12:15:50Z","updated_at":"2024-02-25T12:15:50Z","pushed_at":"2024-02-26T09:52:35Z","git_url":"git://github.com/xry111/xz.git","ssh_url":"git@github.com:xry111/xz.git","clone_url":"https://github.com/xry111/xz.git","svn_url":"https://github.com/xry111/xz","homepage":"https://xz.tukaani.org/xz-utils","size":4532,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"tukaani-project:master","ref":"master","sha":"8bf9f72ee1c05b9e205a72807e8a9e304785673d","user":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"repo":{"id":553665726,"node_id":"R_kgDOIQBEvg","name":"xz","full_name":"tukaani-project/xz","private":false,"owner":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/tukaani-project/xz","description":"XZ Utils","fork":false,"url":"https://api.github.com/repos/tukaani-project/xz","forks_url":"https://api.github.com/repos/tukaani-project/xz/forks","keys_url":"https://api.github.com/repos/tukaani-project/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tukaani-project/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tukaani-project/xz/teams","hooks_url":"https://api.github.com/repos/tukaani-project/xz/hooks","issue_events_url":"https://api.github.com/repos/tukaani-project/xz/issues/events{/number}","events_url":"https://api.github.com/repos/tukaani-project/xz/events","assignees_url":"https://api.github.com/repos/tukaani-project/xz/assignees{/user}","branches_url":"https://api.github.com/repos/tukaani-project/xz/branches{/branch}","tags_url":"https://api.github.com/repos/tukaani-project/xz/tags","blobs_url":"https://api.github.com/repos/tukaani-project/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tukaani-project/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tukaani-project/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/tukaani-project/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/tukaani-project/xz/languages","stargazers_url":"https://api.github.com/repos/tukaani-project/xz/stargazers","contributors_url":"https://api.github.com/repos/tukaani-project/xz/contributors","subscribers_url":"https://api.github.com/repos/tukaani-project/xz/subscribers","subscription_url":"https://api.github.com/repos/tukaani-project/xz/subscription","commits_url":"https://api.github.com/repos/tukaani-project/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/tukaani-project/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/tukaani-project/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/tukaani-project/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/tukaani-project/xz/contents/{+path}","compare_url":"https://api.github.com/repos/tukaani-project/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tukaani-project/xz/merges","archive_url":"https://api.github.com/repos/tukaani-project/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tukaani-project/xz/downloads","issues_url":"https://api.github.com/repos/tukaani-project/xz/issues{/number}","pulls_url":"https://api.github.com/repos/tukaani-project/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/tukaani-project/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/tukaani-project/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tukaani-project/xz/labels{/name}","releases_url":"https://api.github.com/repos/tukaani-project/xz/releases{/id}","deployments_url":"https://api.github.com/repos/tukaani-project/xz/deployments","created_at":"2022-10-18T15:11:36Z","updated_at":"2024-02-29T06:25:51Z","pushed_at":"2024-02-29T14:47:47Z","git_url":"git://github.com/tukaani-project/xz.git","ssh_url":"git@github.com:tukaani-project/xz.git","clone_url":"https://github.com/tukaani-project/xz.git","svn_url":"https://github.com/tukaani-project/xz","homepage":"https://xz.tukaani.org/xz-utils","size":5032,"stargazers_count":154,"watchers_count":154,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":47,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":7,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","cli","compression","library"],"visibility":"public","forks":47,"open_issues":7,"watchers":154,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86"},"issue":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86"},"comments":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments"},"review_comments":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments"},"review_comment":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits"},"statuses":{"href":"https://api.github.com/repos/tukaani-project/xz/statuses/4023849b644a3df3e170cba4a551e11737192447"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2024-02-29T16:52:15Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"36134010019","type":"PullRequestReviewEvent","actor":{"id":78042786,"login":"JiaT75","display_login":"JiaT75","gravatar_id":"","url":"https://api.github.com/users/JiaT75","avatar_url":"https://avatars.githubusercontent.com/u/78042786?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","review":{"id":1909406179,"node_id":"PRR_kwDOIQBEvs5xzznj","user":{"login":"JiaT75","id":78042786,"node_id":"MDQ6VXNlcjc4MDQyNzg2","avatar_url":"https://avatars.githubusercontent.com/u/78042786?v=4","gravatar_id":"","url":"https://api.github.com/users/JiaT75","html_url":"https://github.com/JiaT75","followers_url":"https://api.github.com/users/JiaT75/followers","following_url":"https://api.github.com/users/JiaT75/following{/other_user}","gists_url":"https://api.github.com/users/JiaT75/gists{/gist_id}","starred_url":"https://api.github.com/users/JiaT75/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JiaT75/subscriptions","organizations_url":"https://api.github.com/users/JiaT75/orgs","repos_url":"https://api.github.com/users/JiaT75/repos","events_url":"https://api.github.com/users/JiaT75/events{/privacy}","received_events_url":"https://api.github.com/users/JiaT75/received_events","type":"User","site_admin":false},"body":null,"commit_id":"4023849b644a3df3e170cba4a551e11737192447","submitted_at":"2024-02-29T16:55:34Z","state":"commented","html_url":"https://github.com/tukaani-project/xz/pull/86#pullrequestreview-1909406179","pull_request_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","author_association":"MEMBER","_links":{"html":{"href":"https://github.com/tukaani-project/xz/pull/86#pullrequestreview-1909406179"},"pull_request":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"}}},"pull_request":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","id":1742149263,"node_id":"PR_kwDOIQBEvs5n1xaP","html_url":"https://github.com/tukaani-project/xz/pull/86","diff_url":"https://github.com/tukaani-project/xz/pull/86.diff","patch_url":"https://github.com/tukaani-project/xz/pull/86.patch","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/86","number":86,"state":"open","locked":false,"title":"Speed up CRC32 calculation on LoongArch","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":"## Pull request checklist\r\n\r\nPlease check if your PR fulfills the following requirements:\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been reviewed and added / updated if needed (for bug fixes / features)\r\n- [x] Build was run locally and without warnings or errors\r\n- [x] All previous and new tests pass\r\n\r\n\r\n## Pull request type\r\n\r\n<!-- Please try to limit your pull request to one type, submit multiple\r\npull requests if needed. --> \r\n\r\nPlease check the type of change your PR introduces:\r\n- [x] Feature\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying. -->\r\n\r\nOn LoongArch the generic table-based CRC32 implementation is used.\r\n\r\n<!-- Related issue this PR addresses, if applicable -->\r\nRelated Issue URL: None\r\n\r\n\r\n## What is the new behavior?\r\n\r\nThe crc.w.{b/h/w/d}.w instructions in LoongArch can calculate the CRC32 result for 1/2/4/8 bytes in a single operation, making the use of LoongArch CRC32 instructions much faster compared to the general CRC32 algorithm.\r\n\r\nOptimized CRC32 will be enabled if the kernel declares the LoongArch CRC32 instructions supported via AT_HWCAP.\r\n\r\n## Does this introduce a breaking change?\r\n\r\n- [x] No\r\n\r\n<!-- If this introduces a breaking change, please describe the impact and\r\nmigration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\n<!-- Any other information that is important to this PR. -->","created_at":"2024-02-25T12:26:01Z","updated_at":"2024-02-29T16:55:34Z","closed_at":null,"merged_at":null,"merge_commit_sha":"21a9807d8f8b3b7ac27cedbf1c083c7b1a2c9179","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits","review_comments_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments","review_comment_url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/4023849b644a3df3e170cba4a551e11737192447","head":{"label":"xry111:xry111/loongarch-crc","ref":"xry111/loongarch-crc","sha":"4023849b644a3df3e170cba4a551e11737192447","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"repo":{"id":763044910,"node_id":"R_kgDOLXskLg","name":"xz","full_name":"xry111/xz","private":false,"owner":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"html_url":"https://github.com/xry111/xz","description":"XZ Utils","fork":true,"url":"https://api.github.com/repos/xry111/xz","forks_url":"https://api.github.com/repos/xry111/xz/forks","keys_url":"https://api.github.com/repos/xry111/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xry111/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xry111/xz/teams","hooks_url":"https://api.github.com/repos/xry111/xz/hooks","issue_events_url":"https://api.github.com/repos/xry111/xz/issues/events{/number}","events_url":"https://api.github.com/repos/xry111/xz/events","assignees_url":"https://api.github.com/repos/xry111/xz/assignees{/user}","branches_url":"https://api.github.com/repos/xry111/xz/branches{/branch}","tags_url":"https://api.github.com/repos/xry111/xz/tags","blobs_url":"https://api.github.com/repos/xry111/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xry111/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xry111/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/xry111/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xry111/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/xry111/xz/languages","stargazers_url":"https://api.github.com/repos/xry111/xz/stargazers","contributors_url":"https://api.github.com/repos/xry111/xz/contributors","subscribers_url":"https://api.github.com/repos/xry111/xz/subscribers","subscription_url":"https://api.github.com/repos/xry111/xz/subscription","commits_url":"https://api.github.com/repos/xry111/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/xry111/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/xry111/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/xry111/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/xry111/xz/contents/{+path}","compare_url":"https://api.github.com/repos/xry111/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xry111/xz/merges","archive_url":"https://api.github.com/repos/xry111/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xry111/xz/downloads","issues_url":"https://api.github.com/repos/xry111/xz/issues{/number}","pulls_url":"https://api.github.com/repos/xry111/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/xry111/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/xry111/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xry111/xz/labels{/name}","releases_url":"https://api.github.com/repos/xry111/xz/releases{/id}","deployments_url":"https://api.github.com/repos/xry111/xz/deployments","created_at":"2024-02-25T12:15:50Z","updated_at":"2024-02-25T12:15:50Z","pushed_at":"2024-02-26T09:52:35Z","git_url":"git://github.com/xry111/xz.git","ssh_url":"git@github.com:xry111/xz.git","clone_url":"https://github.com/xry111/xz.git","svn_url":"https://github.com/xry111/xz","homepage":"https://xz.tukaani.org/xz-utils","size":4532,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"tukaani-project:master","ref":"master","sha":"8bf9f72ee1c05b9e205a72807e8a9e304785673d","user":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"repo":{"id":553665726,"node_id":"R_kgDOIQBEvg","name":"xz","full_name":"tukaani-project/xz","private":false,"owner":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/tukaani-project/xz","description":"XZ Utils","fork":false,"url":"https://api.github.com/repos/tukaani-project/xz","forks_url":"https://api.github.com/repos/tukaani-project/xz/forks","keys_url":"https://api.github.com/repos/tukaani-project/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tukaani-project/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tukaani-project/xz/teams","hooks_url":"https://api.github.com/repos/tukaani-project/xz/hooks","issue_events_url":"https://api.github.com/repos/tukaani-project/xz/issues/events{/number}","events_url":"https://api.github.com/repos/tukaani-project/xz/events","assignees_url":"https://api.github.com/repos/tukaani-project/xz/assignees{/user}","branches_url":"https://api.github.com/repos/tukaani-project/xz/branches{/branch}","tags_url":"https://api.github.com/repos/tukaani-project/xz/tags","blobs_url":"https://api.github.com/repos/tukaani-project/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tukaani-project/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tukaani-project/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/tukaani-project/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/tukaani-project/xz/languages","stargazers_url":"https://api.github.com/repos/tukaani-project/xz/stargazers","contributors_url":"https://api.github.com/repos/tukaani-project/xz/contributors","subscribers_url":"https://api.github.com/repos/tukaani-project/xz/subscribers","subscription_url":"https://api.github.com/repos/tukaani-project/xz/subscription","commits_url":"https://api.github.com/repos/tukaani-project/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/tukaani-project/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/tukaani-project/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/tukaani-project/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/tukaani-project/xz/contents/{+path}","compare_url":"https://api.github.com/repos/tukaani-project/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tukaani-project/xz/merges","archive_url":"https://api.github.com/repos/tukaani-project/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tukaani-project/xz/downloads","issues_url":"https://api.github.com/repos/tukaani-project/xz/issues{/number}","pulls_url":"https://api.github.com/repos/tukaani-project/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/tukaani-project/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/tukaani-project/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tukaani-project/xz/labels{/name}","releases_url":"https://api.github.com/repos/tukaani-project/xz/releases{/id}","deployments_url":"https://api.github.com/repos/tukaani-project/xz/deployments","created_at":"2022-10-18T15:11:36Z","updated_at":"2024-02-29T06:25:51Z","pushed_at":"2024-02-29T14:47:47Z","git_url":"git://github.com/tukaani-project/xz.git","ssh_url":"git@github.com:tukaani-project/xz.git","clone_url":"https://github.com/tukaani-project/xz.git","svn_url":"https://github.com/tukaani-project/xz","homepage":"https://xz.tukaani.org/xz-utils","size":5032,"stargazers_count":154,"watchers_count":154,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":47,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":7,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","cli","compression","library"],"visibility":"public","forks":47,"open_issues":7,"watchers":154,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86"},"issue":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86"},"comments":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments"},"review_comments":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments"},"review_comment":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits"},"statuses":{"href":"https://api.github.com/repos/tukaani-project/xz/statuses/4023849b644a3df3e170cba4a551e11737192447"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2024-02-29T16:55:34Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"36134010125","type":"PullRequestReviewCommentEvent","actor":{"id":78042786,"login":"JiaT75","display_login":"JiaT75","gravatar_id":"","url":"https://api.github.com/users/JiaT75","avatar_url":"https://avatars.githubusercontent.com/u/78042786?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507898651","pull_request_review_id":1909406179,"id":1507898651,"node_id":"PRRC_kwDOIQBEvs5Z4LUb","diff_hunk":"@@ -0,0 +1,107 @@\n+// SPDX-License-Identifier: 0BSD\n+\n+///////////////////////////////////////////////////////////////////////////////\n+//\n+/// \\file       crc32_loongarch.h\n+/// \\brief      CRC32 calculation with LoongArch optimization\n+//\n+//  Authors:    Xi Ruoyao\n+//\n+///////////////////////////////////////////////////////////////////////////////\n+\n+\n+#ifndef LZMA_CRC32_LOONGARCH_H\n+#define LZMA_CRC32_LOONGARCH_H\n+\n+#include <larchintrin.h>\n+#include <sys/auxv.h>\n+\n+// Defined in section 9.1 of\n+// \"Software Development and Build Convention for LoongArch Architectures\"\n+// (https://github.com/loongson/la-softdev-convention/).  Hard code it\n+// instead of including <bits/hwcap.h> for compatibility with Glibc <= 2.37.\n+#define HWCAP_LOONGARCH_CRC32 (1 << 6)","path":"src/liblzma/check/crc32_loongarch.h","commit_id":"4023849b644a3df3e170cba4a551e11737192447","original_commit_id":"4023849b644a3df3e170cba4a551e11737192447","user":{"login":"JiaT75","id":78042786,"node_id":"MDQ6VXNlcjc4MDQyNzg2","avatar_url":"https://avatars.githubusercontent.com/u/78042786?v=4","gravatar_id":"","url":"https://api.github.com/users/JiaT75","html_url":"https://github.com/JiaT75","followers_url":"https://api.github.com/users/JiaT75/followers","following_url":"https://api.github.com/users/JiaT75/following{/other_user}","gists_url":"https://api.github.com/users/JiaT75/gists{/gist_id}","starred_url":"https://api.github.com/users/JiaT75/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JiaT75/subscriptions","organizations_url":"https://api.github.com/users/JiaT75/orgs","repos_url":"https://api.github.com/users/JiaT75/repos","events_url":"https://api.github.com/users/JiaT75/events{/privacy}","received_events_url":"https://api.github.com/users/JiaT75/received_events","type":"User","site_admin":false},"body":"What is the name defined in `<sys/auxv.h>`? Just checking to be sure it doesn't conflict with this name. It would be better to only use the hardcoded value if the correct one from `<sys/auxv.h>` is not defined.","created_at":"2024-02-29T16:55:33Z","updated_at":"2024-02-29T16:55:34Z","html_url":"https://github.com/tukaani-project/xz/pull/86#discussion_r1507898651","pull_request_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","author_association":"MEMBER","_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507898651"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86#discussion_r1507898651"},"pull_request":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"}},"reactions":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507898651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"start_line":null,"original_start_line":null,"start_side":null,"line":23,"original_line":23,"side":"RIGHT","original_position":23,"position":23,"subject_type":"line"},"pull_request":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","id":1742149263,"node_id":"PR_kwDOIQBEvs5n1xaP","html_url":"https://github.com/tukaani-project/xz/pull/86","diff_url":"https://github.com/tukaani-project/xz/pull/86.diff","patch_url":"https://github.com/tukaani-project/xz/pull/86.patch","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/86","number":86,"state":"open","locked":false,"title":"Speed up CRC32 calculation on LoongArch","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":"## Pull request checklist\r\n\r\nPlease check if your PR fulfills the following requirements:\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been reviewed and added / updated if needed (for bug fixes / features)\r\n- [x] Build was run locally and without warnings or errors\r\n- [x] All previous and new tests pass\r\n\r\n\r\n## Pull request type\r\n\r\n<!-- Please try to limit your pull request to one type, submit multiple\r\npull requests if needed. --> \r\n\r\nPlease check the type of change your PR introduces:\r\n- [x] Feature\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying. -->\r\n\r\nOn LoongArch the generic table-based CRC32 implementation is used.\r\n\r\n<!-- Related issue this PR addresses, if applicable -->\r\nRelated Issue URL: None\r\n\r\n\r\n## What is the new behavior?\r\n\r\nThe crc.w.{b/h/w/d}.w instructions in LoongArch can calculate the CRC32 result for 1/2/4/8 bytes in a single operation, making the use of LoongArch CRC32 instructions much faster compared to the general CRC32 algorithm.\r\n\r\nOptimized CRC32 will be enabled if the kernel declares the LoongArch CRC32 instructions supported via AT_HWCAP.\r\n\r\n## Does this introduce a breaking change?\r\n\r\n- [x] No\r\n\r\n<!-- If this introduces a breaking change, please describe the impact and\r\nmigration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\n<!-- Any other information that is important to this PR. -->","created_at":"2024-02-25T12:26:01Z","updated_at":"2024-02-29T16:55:34Z","closed_at":null,"merged_at":null,"merge_commit_sha":"21a9807d8f8b3b7ac27cedbf1c083c7b1a2c9179","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits","review_comments_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments","review_comment_url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/4023849b644a3df3e170cba4a551e11737192447","head":{"label":"xry111:xry111/loongarch-crc","ref":"xry111/loongarch-crc","sha":"4023849b644a3df3e170cba4a551e11737192447","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"repo":{"id":763044910,"node_id":"R_kgDOLXskLg","name":"xz","full_name":"xry111/xz","private":false,"owner":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"html_url":"https://github.com/xry111/xz","description":"XZ Utils","fork":true,"url":"https://api.github.com/repos/xry111/xz","forks_url":"https://api.github.com/repos/xry111/xz/forks","keys_url":"https://api.github.com/repos/xry111/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xry111/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xry111/xz/teams","hooks_url":"https://api.github.com/repos/xry111/xz/hooks","issue_events_url":"https://api.github.com/repos/xry111/xz/issues/events{/number}","events_url":"https://api.github.com/repos/xry111/xz/events","assignees_url":"https://api.github.com/repos/xry111/xz/assignees{/user}","branches_url":"https://api.github.com/repos/xry111/xz/branches{/branch}","tags_url":"https://api.github.com/repos/xry111/xz/tags","blobs_url":"https://api.github.com/repos/xry111/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xry111/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xry111/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/xry111/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xry111/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/xry111/xz/languages","stargazers_url":"https://api.github.com/repos/xry111/xz/stargazers","contributors_url":"https://api.github.com/repos/xry111/xz/contributors","subscribers_url":"https://api.github.com/repos/xry111/xz/subscribers","subscription_url":"https://api.github.com/repos/xry111/xz/subscription","commits_url":"https://api.github.com/repos/xry111/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/xry111/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/xry111/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/xry111/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/xry111/xz/contents/{+path}","compare_url":"https://api.github.com/repos/xry111/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xry111/xz/merges","archive_url":"https://api.github.com/repos/xry111/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xry111/xz/downloads","issues_url":"https://api.github.com/repos/xry111/xz/issues{/number}","pulls_url":"https://api.github.com/repos/xry111/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/xry111/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/xry111/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xry111/xz/labels{/name}","releases_url":"https://api.github.com/repos/xry111/xz/releases{/id}","deployments_url":"https://api.github.com/repos/xry111/xz/deployments","created_at":"2024-02-25T12:15:50Z","updated_at":"2024-02-25T12:15:50Z","pushed_at":"2024-02-26T09:52:35Z","git_url":"git://github.com/xry111/xz.git","ssh_url":"git@github.com:xry111/xz.git","clone_url":"https://github.com/xry111/xz.git","svn_url":"https://github.com/xry111/xz","homepage":"https://xz.tukaani.org/xz-utils","size":4532,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"tukaani-project:master","ref":"master","sha":"8bf9f72ee1c05b9e205a72807e8a9e304785673d","user":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"repo":{"id":553665726,"node_id":"R_kgDOIQBEvg","name":"xz","full_name":"tukaani-project/xz","private":false,"owner":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/tukaani-project/xz","description":"XZ Utils","fork":false,"url":"https://api.github.com/repos/tukaani-project/xz","forks_url":"https://api.github.com/repos/tukaani-project/xz/forks","keys_url":"https://api.github.com/repos/tukaani-project/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tukaani-project/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tukaani-project/xz/teams","hooks_url":"https://api.github.com/repos/tukaani-project/xz/hooks","issue_events_url":"https://api.github.com/repos/tukaani-project/xz/issues/events{/number}","events_url":"https://api.github.com/repos/tukaani-project/xz/events","assignees_url":"https://api.github.com/repos/tukaani-project/xz/assignees{/user}","branches_url":"https://api.github.com/repos/tukaani-project/xz/branches{/branch}","tags_url":"https://api.github.com/repos/tukaani-project/xz/tags","blobs_url":"https://api.github.com/repos/tukaani-project/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tukaani-project/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tukaani-project/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/tukaani-project/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/tukaani-project/xz/languages","stargazers_url":"https://api.github.com/repos/tukaani-project/xz/stargazers","contributors_url":"https://api.github.com/repos/tukaani-project/xz/contributors","subscribers_url":"https://api.github.com/repos/tukaani-project/xz/subscribers","subscription_url":"https://api.github.com/repos/tukaani-project/xz/subscription","commits_url":"https://api.github.com/repos/tukaani-project/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/tukaani-project/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/tukaani-project/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/tukaani-project/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/tukaani-project/xz/contents/{+path}","compare_url":"https://api.github.com/repos/tukaani-project/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tukaani-project/xz/merges","archive_url":"https://api.github.com/repos/tukaani-project/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tukaani-project/xz/downloads","issues_url":"https://api.github.com/repos/tukaani-project/xz/issues{/number}","pulls_url":"https://api.github.com/repos/tukaani-project/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/tukaani-project/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/tukaani-project/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tukaani-project/xz/labels{/name}","releases_url":"https://api.github.com/repos/tukaani-project/xz/releases{/id}","deployments_url":"https://api.github.com/repos/tukaani-project/xz/deployments","created_at":"2022-10-18T15:11:36Z","updated_at":"2024-02-29T06:25:51Z","pushed_at":"2024-02-29T14:47:47Z","git_url":"git://github.com/tukaani-project/xz.git","ssh_url":"git@github.com:tukaani-project/xz.git","clone_url":"https://github.com/tukaani-project/xz.git","svn_url":"https://github.com/tukaani-project/xz","homepage":"https://xz.tukaani.org/xz-utils","size":5032,"stargazers_count":154,"watchers_count":154,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":47,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":7,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","cli","compression","library"],"visibility":"public","forks":47,"open_issues":7,"watchers":154,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86"},"issue":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86"},"comments":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments"},"review_comments":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments"},"review_comment":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits"},"statuses":{"href":"https://api.github.com/repos/tukaani-project/xz/statuses/4023849b644a3df3e170cba4a551e11737192447"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2024-02-29T16:55:33Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"36134025567","type":"PullRequestReviewCommentEvent","actor":{"id":78042786,"login":"JiaT75","display_login":"JiaT75","gravatar_id":"","url":"https://api.github.com/users/JiaT75","avatar_url":"https://avatars.githubusercontent.com/u/78042786?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507899271","pull_request_review_id":1909407232,"id":1507899271,"node_id":"PRRC_kwDOIQBEvs5Z4LeH","diff_hunk":"@@ -0,0 +1,107 @@\n+// SPDX-License-Identifier: 0BSD\n+\n+///////////////////////////////////////////////////////////////////////////////\n+//\n+/// \\file       crc32_loongarch.h\n+/// \\brief      CRC32 calculation with LoongArch optimization\n+//\n+//  Authors:    Xi Ruoyao\n+//\n+///////////////////////////////////////////////////////////////////////////////\n+\n+\n+#ifndef LZMA_CRC32_LOONGARCH_H\n+#define LZMA_CRC32_LOONGARCH_H\n+\n+#include <larchintrin.h>\n+#include <sys/auxv.h>\n+\n+// Defined in section 9.1 of\n+// \"Software Development and Build Convention for LoongArch Architectures\"\n+// (https://github.com/loongson/la-softdev-convention/).  Hard code it\n+// instead of including <bits/hwcap.h> for compatibility with Glibc <= 2.37.\n+#define HWCAP_LOONGARCH_CRC32 (1 << 6)\n+\n+#if __loongarch_grlen >= 64\n+#  define UNIT_SIZE 8\n+#  define CRC_UNIT(buf, crc) __crc_w_d_w((int64_t)aligned_read64le(buf), crc)\n+#else\n+#  define UNIT_SIZE 4\n+#  define CRC_UNIT(buf, crc) __crc_w_w_w((int32_t)aligned_read32le(buf), crc)\n+#endif\n+\n+static uint32_t\n+crc32_arch_optimized(const uint8_t *buf, size_t size, uint32_t _crc)\n+{\n+\tint32_t crc = (int32_t)~_crc;\n+\n+\t// Align the input buffer because this was shown to be\n+\t// significantly faster than unaligned accesses.\n+\tconst size_t align_amount = my_min(size,\n+\t\t\t(UNIT_SIZE - (uintptr_t)buf) & (UNIT_SIZE - 1));\n+\n+\tif (align_amount & 1)\n+\t\tcrc = __crc_w_b_w((int8_t)*buf++, crc);\n+\n+\tif (align_amount & 2) {\n+\t\tcrc = __crc_w_h_w((int16_t)aligned_read16le(buf), crc);\n+\t\tbuf += 2;\n+\t}\n+\n+#if UNIT_SIZE == 8\n+\tif (align_amount & 4) {\n+\t\tcrc = __crc_w_w_w((int32_t)aligned_read32le(buf), crc);\n+\t\tbuf += 4;\n+\t}\n+#endif\n+\n+\tsize -= align_amount;\n+\n+\t// Process UNIT_SIZE bytes at a time. The end point is determined by\n+\t// ignoring the least significant log2(UNIT_SIZE) bits of size to ensure\n+\t// we do not process past the bounds of the buffer. This guarantees\n+\t// that limit is a multiple of UNIT_SIZE and is strictly less than size.\n+\tfor (const uint8_t *limit = buf + (size & ~((size_t)UNIT_SIZE - 1));\n+\t\t\tbuf < limit; buf += UNIT_SIZE)\n+\t\tcrc = CRC_UNIT(buf, crc);\n+\n+\t// Process the remaining bytes that are not 8 byte aligned.\n+\tconst size_t remaining_amount = size & (UNIT_SIZE - 1);\n+\n+#if UNIT_SIZE == 8\n+\tif (remaining_amount & 4) {\n+\t\tcrc = __crc_w_w_w((int32_t)aligned_read32le(buf), crc);\n+\t\tbuf += 4;\n+\t}\n+#endif\n+\n+\tif (remaining_amount & 2) {\n+\t\tcrc = __crc_w_h_w((int16_t)aligned_read16le(buf), crc);\n+\t\tbuf += 2;\n+\t}\n+\n+\tif (remaining_amount & 1)\n+\t\tcrc = __crc_w_b_w((int8_t)*buf, crc);\n+\n+\treturn (uint32_t)~crc;\n+}\n+","path":"src/liblzma/check/crc32_loongarch.h","commit_id":"4023849b644a3df3e170cba4a551e11737192447","original_commit_id":"4023849b644a3df3e170cba4a551e11737192447","user":{"login":"JiaT75","id":78042786,"node_id":"MDQ6VXNlcjc4MDQyNzg2","avatar_url":"https://avatars.githubusercontent.com/u/78042786?v=4","gravatar_id":"","url":"https://api.github.com/users/JiaT75","html_url":"https://github.com/JiaT75","followers_url":"https://api.github.com/users/JiaT75/followers","following_url":"https://api.github.com/users/JiaT75/following{/other_user}","gists_url":"https://api.github.com/users/JiaT75/gists{/gist_id}","starred_url":"https://api.github.com/users/JiaT75/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JiaT75/subscriptions","organizations_url":"https://api.github.com/users/JiaT75/orgs","repos_url":"https://api.github.com/users/JiaT75/repos","events_url":"https://api.github.com/users/JiaT75/events{/privacy}","received_events_url":"https://api.github.com/users/JiaT75/received_events","type":"User","site_admin":false},"body":"Extra newline needed here.","created_at":"2024-02-29T16:56:02Z","updated_at":"2024-02-29T16:56:02Z","html_url":"https://github.com/tukaani-project/xz/pull/86#discussion_r1507899271","pull_request_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","author_association":"MEMBER","_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507899271"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86#discussion_r1507899271"},"pull_request":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"}},"reactions":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507899271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"start_line":null,"original_start_line":null,"start_side":null,"line":88,"original_line":88,"side":"RIGHT","original_position":88,"position":88,"subject_type":"line"},"pull_request":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","id":1742149263,"node_id":"PR_kwDOIQBEvs5n1xaP","html_url":"https://github.com/tukaani-project/xz/pull/86","diff_url":"https://github.com/tukaani-project/xz/pull/86.diff","patch_url":"https://github.com/tukaani-project/xz/pull/86.patch","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/86","number":86,"state":"open","locked":false,"title":"Speed up CRC32 calculation on LoongArch","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":"## Pull request checklist\r\n\r\nPlease check if your PR fulfills the following requirements:\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been reviewed and added / updated if needed (for bug fixes / features)\r\n- [x] Build was run locally and without warnings or errors\r\n- [x] All previous and new tests pass\r\n\r\n\r\n## Pull request type\r\n\r\n<!-- Please try to limit your pull request to one type, submit multiple\r\npull requests if needed. --> \r\n\r\nPlease check the type of change your PR introduces:\r\n- [x] Feature\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying. -->\r\n\r\nOn LoongArch the generic table-based CRC32 implementation is used.\r\n\r\n<!-- Related issue this PR addresses, if applicable -->\r\nRelated Issue URL: None\r\n\r\n\r\n## What is the new behavior?\r\n\r\nThe crc.w.{b/h/w/d}.w instructions in LoongArch can calculate the CRC32 result for 1/2/4/8 bytes in a single operation, making the use of LoongArch CRC32 instructions much faster compared to the general CRC32 algorithm.\r\n\r\nOptimized CRC32 will be enabled if the kernel declares the LoongArch CRC32 instructions supported via AT_HWCAP.\r\n\r\n## Does this introduce a breaking change?\r\n\r\n- [x] No\r\n\r\n<!-- If this introduces a breaking change, please describe the impact and\r\nmigration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\n<!-- Any other information that is important to this PR. -->","created_at":"2024-02-25T12:26:01Z","updated_at":"2024-02-29T16:56:02Z","closed_at":null,"merged_at":null,"merge_commit_sha":"21a9807d8f8b3b7ac27cedbf1c083c7b1a2c9179","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits","review_comments_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments","review_comment_url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/4023849b644a3df3e170cba4a551e11737192447","head":{"label":"xry111:xry111/loongarch-crc","ref":"xry111/loongarch-crc","sha":"4023849b644a3df3e170cba4a551e11737192447","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"repo":{"id":763044910,"node_id":"R_kgDOLXskLg","name":"xz","full_name":"xry111/xz","private":false,"owner":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"html_url":"https://github.com/xry111/xz","description":"XZ Utils","fork":true,"url":"https://api.github.com/repos/xry111/xz","forks_url":"https://api.github.com/repos/xry111/xz/forks","keys_url":"https://api.github.com/repos/xry111/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xry111/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xry111/xz/teams","hooks_url":"https://api.github.com/repos/xry111/xz/hooks","issue_events_url":"https://api.github.com/repos/xry111/xz/issues/events{/number}","events_url":"https://api.github.com/repos/xry111/xz/events","assignees_url":"https://api.github.com/repos/xry111/xz/assignees{/user}","branches_url":"https://api.github.com/repos/xry111/xz/branches{/branch}","tags_url":"https://api.github.com/repos/xry111/xz/tags","blobs_url":"https://api.github.com/repos/xry111/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xry111/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xry111/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/xry111/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xry111/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/xry111/xz/languages","stargazers_url":"https://api.github.com/repos/xry111/xz/stargazers","contributors_url":"https://api.github.com/repos/xry111/xz/contributors","subscribers_url":"https://api.github.com/repos/xry111/xz/subscribers","subscription_url":"https://api.github.com/repos/xry111/xz/subscription","commits_url":"https://api.github.com/repos/xry111/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/xry111/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/xry111/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/xry111/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/xry111/xz/contents/{+path}","compare_url":"https://api.github.com/repos/xry111/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xry111/xz/merges","archive_url":"https://api.github.com/repos/xry111/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xry111/xz/downloads","issues_url":"https://api.github.com/repos/xry111/xz/issues{/number}","pulls_url":"https://api.github.com/repos/xry111/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/xry111/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/xry111/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xry111/xz/labels{/name}","releases_url":"https://api.github.com/repos/xry111/xz/releases{/id}","deployments_url":"https://api.github.com/repos/xry111/xz/deployments","created_at":"2024-02-25T12:15:50Z","updated_at":"2024-02-25T12:15:50Z","pushed_at":"2024-02-26T09:52:35Z","git_url":"git://github.com/xry111/xz.git","ssh_url":"git@github.com:xry111/xz.git","clone_url":"https://github.com/xry111/xz.git","svn_url":"https://github.com/xry111/xz","homepage":"https://xz.tukaani.org/xz-utils","size":4532,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"tukaani-project:master","ref":"master","sha":"8bf9f72ee1c05b9e205a72807e8a9e304785673d","user":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"repo":{"id":553665726,"node_id":"R_kgDOIQBEvg","name":"xz","full_name":"tukaani-project/xz","private":false,"owner":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/tukaani-project/xz","description":"XZ Utils","fork":false,"url":"https://api.github.com/repos/tukaani-project/xz","forks_url":"https://api.github.com/repos/tukaani-project/xz/forks","keys_url":"https://api.github.com/repos/tukaani-project/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tukaani-project/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tukaani-project/xz/teams","hooks_url":"https://api.github.com/repos/tukaani-project/xz/hooks","issue_events_url":"https://api.github.com/repos/tukaani-project/xz/issues/events{/number}","events_url":"https://api.github.com/repos/tukaani-project/xz/events","assignees_url":"https://api.github.com/repos/tukaani-project/xz/assignees{/user}","branches_url":"https://api.github.com/repos/tukaani-project/xz/branches{/branch}","tags_url":"https://api.github.com/repos/tukaani-project/xz/tags","blobs_url":"https://api.github.com/repos/tukaani-project/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tukaani-project/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tukaani-project/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/tukaani-project/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/tukaani-project/xz/languages","stargazers_url":"https://api.github.com/repos/tukaani-project/xz/stargazers","contributors_url":"https://api.github.com/repos/tukaani-project/xz/contributors","subscribers_url":"https://api.github.com/repos/tukaani-project/xz/subscribers","subscription_url":"https://api.github.com/repos/tukaani-project/xz/subscription","commits_url":"https://api.github.com/repos/tukaani-project/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/tukaani-project/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/tukaani-project/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/tukaani-project/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/tukaani-project/xz/contents/{+path}","compare_url":"https://api.github.com/repos/tukaani-project/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tukaani-project/xz/merges","archive_url":"https://api.github.com/repos/tukaani-project/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tukaani-project/xz/downloads","issues_url":"https://api.github.com/repos/tukaani-project/xz/issues{/number}","pulls_url":"https://api.github.com/repos/tukaani-project/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/tukaani-project/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/tukaani-project/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tukaani-project/xz/labels{/name}","releases_url":"https://api.github.com/repos/tukaani-project/xz/releases{/id}","deployments_url":"https://api.github.com/repos/tukaani-project/xz/deployments","created_at":"2022-10-18T15:11:36Z","updated_at":"2024-02-29T06:25:51Z","pushed_at":"2024-02-29T14:47:47Z","git_url":"git://github.com/tukaani-project/xz.git","ssh_url":"git@github.com:tukaani-project/xz.git","clone_url":"https://github.com/tukaani-project/xz.git","svn_url":"https://github.com/tukaani-project/xz","homepage":"https://xz.tukaani.org/xz-utils","size":5032,"stargazers_count":154,"watchers_count":154,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":47,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":7,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","cli","compression","library"],"visibility":"public","forks":47,"open_issues":7,"watchers":154,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86"},"issue":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86"},"comments":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments"},"review_comments":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments"},"review_comment":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits"},"statuses":{"href":"https://api.github.com/repos/tukaani-project/xz/statuses/4023849b644a3df3e170cba4a551e11737192447"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2024-02-29T16:56:02Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"36134025507","type":"PullRequestReviewEvent","actor":{"id":78042786,"login":"JiaT75","display_login":"JiaT75","gravatar_id":"","url":"https://api.github.com/users/JiaT75","avatar_url":"https://avatars.githubusercontent.com/u/78042786?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","review":{"id":1909407232,"node_id":"PRR_kwDOIQBEvs5xzz4A","user":{"login":"JiaT75","id":78042786,"node_id":"MDQ6VXNlcjc4MDQyNzg2","avatar_url":"https://avatars.githubusercontent.com/u/78042786?v=4","gravatar_id":"","url":"https://api.github.com/users/JiaT75","html_url":"https://github.com/JiaT75","followers_url":"https://api.github.com/users/JiaT75/followers","following_url":"https://api.github.com/users/JiaT75/following{/other_user}","gists_url":"https://api.github.com/users/JiaT75/gists{/gist_id}","starred_url":"https://api.github.com/users/JiaT75/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JiaT75/subscriptions","organizations_url":"https://api.github.com/users/JiaT75/orgs","repos_url":"https://api.github.com/users/JiaT75/repos","events_url":"https://api.github.com/users/JiaT75/events{/privacy}","received_events_url":"https://api.github.com/users/JiaT75/received_events","type":"User","site_admin":false},"body":null,"commit_id":"4023849b644a3df3e170cba4a551e11737192447","submitted_at":"2024-02-29T16:56:02Z","state":"commented","html_url":"https://github.com/tukaani-project/xz/pull/86#pullrequestreview-1909407232","pull_request_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","author_association":"MEMBER","_links":{"html":{"href":"https://github.com/tukaani-project/xz/pull/86#pullrequestreview-1909407232"},"pull_request":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"}}},"pull_request":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","id":1742149263,"node_id":"PR_kwDOIQBEvs5n1xaP","html_url":"https://github.com/tukaani-project/xz/pull/86","diff_url":"https://github.com/tukaani-project/xz/pull/86.diff","patch_url":"https://github.com/tukaani-project/xz/pull/86.patch","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/86","number":86,"state":"open","locked":false,"title":"Speed up CRC32 calculation on LoongArch","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":"## Pull request checklist\r\n\r\nPlease check if your PR fulfills the following requirements:\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been reviewed and added / updated if needed (for bug fixes / features)\r\n- [x] Build was run locally and without warnings or errors\r\n- [x] All previous and new tests pass\r\n\r\n\r\n## Pull request type\r\n\r\n<!-- Please try to limit your pull request to one type, submit multiple\r\npull requests if needed. --> \r\n\r\nPlease check the type of change your PR introduces:\r\n- [x] Feature\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying. -->\r\n\r\nOn LoongArch the generic table-based CRC32 implementation is used.\r\n\r\n<!-- Related issue this PR addresses, if applicable -->\r\nRelated Issue URL: None\r\n\r\n\r\n## What is the new behavior?\r\n\r\nThe crc.w.{b/h/w/d}.w instructions in LoongArch can calculate the CRC32 result for 1/2/4/8 bytes in a single operation, making the use of LoongArch CRC32 instructions much faster compared to the general CRC32 algorithm.\r\n\r\nOptimized CRC32 will be enabled if the kernel declares the LoongArch CRC32 instructions supported via AT_HWCAP.\r\n\r\n## Does this introduce a breaking change?\r\n\r\n- [x] No\r\n\r\n<!-- If this introduces a breaking change, please describe the impact and\r\nmigration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\n<!-- Any other information that is important to this PR. -->","created_at":"2024-02-25T12:26:01Z","updated_at":"2024-02-29T16:56:02Z","closed_at":null,"merged_at":null,"merge_commit_sha":"21a9807d8f8b3b7ac27cedbf1c083c7b1a2c9179","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits","review_comments_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments","review_comment_url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/4023849b644a3df3e170cba4a551e11737192447","head":{"label":"xry111:xry111/loongarch-crc","ref":"xry111/loongarch-crc","sha":"4023849b644a3df3e170cba4a551e11737192447","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"repo":{"id":763044910,"node_id":"R_kgDOLXskLg","name":"xz","full_name":"xry111/xz","private":false,"owner":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"html_url":"https://github.com/xry111/xz","description":"XZ Utils","fork":true,"url":"https://api.github.com/repos/xry111/xz","forks_url":"https://api.github.com/repos/xry111/xz/forks","keys_url":"https://api.github.com/repos/xry111/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xry111/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xry111/xz/teams","hooks_url":"https://api.github.com/repos/xry111/xz/hooks","issue_events_url":"https://api.github.com/repos/xry111/xz/issues/events{/number}","events_url":"https://api.github.com/repos/xry111/xz/events","assignees_url":"https://api.github.com/repos/xry111/xz/assignees{/user}","branches_url":"https://api.github.com/repos/xry111/xz/branches{/branch}","tags_url":"https://api.github.com/repos/xry111/xz/tags","blobs_url":"https://api.github.com/repos/xry111/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xry111/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xry111/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/xry111/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xry111/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/xry111/xz/languages","stargazers_url":"https://api.github.com/repos/xry111/xz/stargazers","contributors_url":"https://api.github.com/repos/xry111/xz/contributors","subscribers_url":"https://api.github.com/repos/xry111/xz/subscribers","subscription_url":"https://api.github.com/repos/xry111/xz/subscription","commits_url":"https://api.github.com/repos/xry111/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/xry111/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/xry111/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/xry111/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/xry111/xz/contents/{+path}","compare_url":"https://api.github.com/repos/xry111/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xry111/xz/merges","archive_url":"https://api.github.com/repos/xry111/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xry111/xz/downloads","issues_url":"https://api.github.com/repos/xry111/xz/issues{/number}","pulls_url":"https://api.github.com/repos/xry111/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/xry111/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/xry111/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xry111/xz/labels{/name}","releases_url":"https://api.github.com/repos/xry111/xz/releases{/id}","deployments_url":"https://api.github.com/repos/xry111/xz/deployments","created_at":"2024-02-25T12:15:50Z","updated_at":"2024-02-25T12:15:50Z","pushed_at":"2024-02-26T09:52:35Z","git_url":"git://github.com/xry111/xz.git","ssh_url":"git@github.com:xry111/xz.git","clone_url":"https://github.com/xry111/xz.git","svn_url":"https://github.com/xry111/xz","homepage":"https://xz.tukaani.org/xz-utils","size":4532,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"tukaani-project:master","ref":"master","sha":"8bf9f72ee1c05b9e205a72807e8a9e304785673d","user":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"repo":{"id":553665726,"node_id":"R_kgDOIQBEvg","name":"xz","full_name":"tukaani-project/xz","private":false,"owner":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/tukaani-project/xz","description":"XZ Utils","fork":false,"url":"https://api.github.com/repos/tukaani-project/xz","forks_url":"https://api.github.com/repos/tukaani-project/xz/forks","keys_url":"https://api.github.com/repos/tukaani-project/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tukaani-project/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tukaani-project/xz/teams","hooks_url":"https://api.github.com/repos/tukaani-project/xz/hooks","issue_events_url":"https://api.github.com/repos/tukaani-project/xz/issues/events{/number}","events_url":"https://api.github.com/repos/tukaani-project/xz/events","assignees_url":"https://api.github.com/repos/tukaani-project/xz/assignees{/user}","branches_url":"https://api.github.com/repos/tukaani-project/xz/branches{/branch}","tags_url":"https://api.github.com/repos/tukaani-project/xz/tags","blobs_url":"https://api.github.com/repos/tukaani-project/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tukaani-project/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tukaani-project/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/tukaani-project/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/tukaani-project/xz/languages","stargazers_url":"https://api.github.com/repos/tukaani-project/xz/stargazers","contributors_url":"https://api.github.com/repos/tukaani-project/xz/contributors","subscribers_url":"https://api.github.com/repos/tukaani-project/xz/subscribers","subscription_url":"https://api.github.com/repos/tukaani-project/xz/subscription","commits_url":"https://api.github.com/repos/tukaani-project/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/tukaani-project/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/tukaani-project/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/tukaani-project/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/tukaani-project/xz/contents/{+path}","compare_url":"https://api.github.com/repos/tukaani-project/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tukaani-project/xz/merges","archive_url":"https://api.github.com/repos/tukaani-project/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tukaani-project/xz/downloads","issues_url":"https://api.github.com/repos/tukaani-project/xz/issues{/number}","pulls_url":"https://api.github.com/repos/tukaani-project/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/tukaani-project/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/tukaani-project/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tukaani-project/xz/labels{/name}","releases_url":"https://api.github.com/repos/tukaani-project/xz/releases{/id}","deployments_url":"https://api.github.com/repos/tukaani-project/xz/deployments","created_at":"2022-10-18T15:11:36Z","updated_at":"2024-02-29T06:25:51Z","pushed_at":"2024-02-29T14:47:47Z","git_url":"git://github.com/tukaani-project/xz.git","ssh_url":"git@github.com:tukaani-project/xz.git","clone_url":"https://github.com/tukaani-project/xz.git","svn_url":"https://github.com/tukaani-project/xz","homepage":"https://xz.tukaani.org/xz-utils","size":5032,"stargazers_count":154,"watchers_count":154,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":47,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":7,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","cli","compression","library"],"visibility":"public","forks":47,"open_issues":7,"watchers":154,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86"},"issue":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86"},"comments":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments"},"review_comments":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments"},"review_comment":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits"},"statuses":{"href":"https://api.github.com/repos/tukaani-project/xz/statuses/4023849b644a3df3e170cba4a551e11737192447"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2024-02-29T16:56:03Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"36134053623","type":"PullRequestReviewEvent","actor":{"id":78042786,"login":"JiaT75","display_login":"JiaT75","gravatar_id":"","url":"https://api.github.com/users/JiaT75","avatar_url":"https://avatars.githubusercontent.com/u/78042786?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","review":{"id":1909409512,"node_id":"PRR_kwDOIQBEvs5xz0bo","user":{"login":"JiaT75","id":78042786,"node_id":"MDQ6VXNlcjc4MDQyNzg2","avatar_url":"https://avatars.githubusercontent.com/u/78042786?v=4","gravatar_id":"","url":"https://api.github.com/users/JiaT75","html_url":"https://github.com/JiaT75","followers_url":"https://api.github.com/users/JiaT75/followers","following_url":"https://api.github.com/users/JiaT75/following{/other_user}","gists_url":"https://api.github.com/users/JiaT75/gists{/gist_id}","starred_url":"https://api.github.com/users/JiaT75/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JiaT75/subscriptions","organizations_url":"https://api.github.com/users/JiaT75/orgs","repos_url":"https://api.github.com/users/JiaT75/repos","events_url":"https://api.github.com/users/JiaT75/events{/privacy}","received_events_url":"https://api.github.com/users/JiaT75/received_events","type":"User","site_admin":false},"body":null,"commit_id":"4023849b644a3df3e170cba4a551e11737192447","submitted_at":"2024-02-29T16:56:54Z","state":"commented","html_url":"https://github.com/tukaani-project/xz/pull/86#pullrequestreview-1909409512","pull_request_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","author_association":"MEMBER","_links":{"html":{"href":"https://github.com/tukaani-project/xz/pull/86#pullrequestreview-1909409512"},"pull_request":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"}}},"pull_request":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","id":1742149263,"node_id":"PR_kwDOIQBEvs5n1xaP","html_url":"https://github.com/tukaani-project/xz/pull/86","diff_url":"https://github.com/tukaani-project/xz/pull/86.diff","patch_url":"https://github.com/tukaani-project/xz/pull/86.patch","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/86","number":86,"state":"open","locked":false,"title":"Speed up CRC32 calculation on LoongArch","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":"## Pull request checklist\r\n\r\nPlease check if your PR fulfills the following requirements:\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been reviewed and added / updated if needed (for bug fixes / features)\r\n- [x] Build was run locally and without warnings or errors\r\n- [x] All previous and new tests pass\r\n\r\n\r\n## Pull request type\r\n\r\n<!-- Please try to limit your pull request to one type, submit multiple\r\npull requests if needed. --> \r\n\r\nPlease check the type of change your PR introduces:\r\n- [x] Feature\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying. -->\r\n\r\nOn LoongArch the generic table-based CRC32 implementation is used.\r\n\r\n<!-- Related issue this PR addresses, if applicable -->\r\nRelated Issue URL: None\r\n\r\n\r\n## What is the new behavior?\r\n\r\nThe crc.w.{b/h/w/d}.w instructions in LoongArch can calculate the CRC32 result for 1/2/4/8 bytes in a single operation, making the use of LoongArch CRC32 instructions much faster compared to the general CRC32 algorithm.\r\n\r\nOptimized CRC32 will be enabled if the kernel declares the LoongArch CRC32 instructions supported via AT_HWCAP.\r\n\r\n## Does this introduce a breaking change?\r\n\r\n- [x] No\r\n\r\n<!-- If this introduces a breaking change, please describe the impact and\r\nmigration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\n<!-- Any other information that is important to this PR. -->","created_at":"2024-02-25T12:26:01Z","updated_at":"2024-02-29T16:56:54Z","closed_at":null,"merged_at":null,"merge_commit_sha":"21a9807d8f8b3b7ac27cedbf1c083c7b1a2c9179","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits","review_comments_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments","review_comment_url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/4023849b644a3df3e170cba4a551e11737192447","head":{"label":"xry111:xry111/loongarch-crc","ref":"xry111/loongarch-crc","sha":"4023849b644a3df3e170cba4a551e11737192447","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"repo":{"id":763044910,"node_id":"R_kgDOLXskLg","name":"xz","full_name":"xry111/xz","private":false,"owner":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"html_url":"https://github.com/xry111/xz","description":"XZ Utils","fork":true,"url":"https://api.github.com/repos/xry111/xz","forks_url":"https://api.github.com/repos/xry111/xz/forks","keys_url":"https://api.github.com/repos/xry111/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xry111/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xry111/xz/teams","hooks_url":"https://api.github.com/repos/xry111/xz/hooks","issue_events_url":"https://api.github.com/repos/xry111/xz/issues/events{/number}","events_url":"https://api.github.com/repos/xry111/xz/events","assignees_url":"https://api.github.com/repos/xry111/xz/assignees{/user}","branches_url":"https://api.github.com/repos/xry111/xz/branches{/branch}","tags_url":"https://api.github.com/repos/xry111/xz/tags","blobs_url":"https://api.github.com/repos/xry111/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xry111/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xry111/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/xry111/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xry111/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/xry111/xz/languages","stargazers_url":"https://api.github.com/repos/xry111/xz/stargazers","contributors_url":"https://api.github.com/repos/xry111/xz/contributors","subscribers_url":"https://api.github.com/repos/xry111/xz/subscribers","subscription_url":"https://api.github.com/repos/xry111/xz/subscription","commits_url":"https://api.github.com/repos/xry111/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/xry111/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/xry111/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/xry111/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/xry111/xz/contents/{+path}","compare_url":"https://api.github.com/repos/xry111/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xry111/xz/merges","archive_url":"https://api.github.com/repos/xry111/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xry111/xz/downloads","issues_url":"https://api.github.com/repos/xry111/xz/issues{/number}","pulls_url":"https://api.github.com/repos/xry111/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/xry111/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/xry111/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xry111/xz/labels{/name}","releases_url":"https://api.github.com/repos/xry111/xz/releases{/id}","deployments_url":"https://api.github.com/repos/xry111/xz/deployments","created_at":"2024-02-25T12:15:50Z","updated_at":"2024-02-25T12:15:50Z","pushed_at":"2024-02-26T09:52:35Z","git_url":"git://github.com/xry111/xz.git","ssh_url":"git@github.com:xry111/xz.git","clone_url":"https://github.com/xry111/xz.git","svn_url":"https://github.com/xry111/xz","homepage":"https://xz.tukaani.org/xz-utils","size":4532,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"tukaani-project:master","ref":"master","sha":"8bf9f72ee1c05b9e205a72807e8a9e304785673d","user":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"repo":{"id":553665726,"node_id":"R_kgDOIQBEvg","name":"xz","full_name":"tukaani-project/xz","private":false,"owner":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/tukaani-project/xz","description":"XZ Utils","fork":false,"url":"https://api.github.com/repos/tukaani-project/xz","forks_url":"https://api.github.com/repos/tukaani-project/xz/forks","keys_url":"https://api.github.com/repos/tukaani-project/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tukaani-project/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tukaani-project/xz/teams","hooks_url":"https://api.github.com/repos/tukaani-project/xz/hooks","issue_events_url":"https://api.github.com/repos/tukaani-project/xz/issues/events{/number}","events_url":"https://api.github.com/repos/tukaani-project/xz/events","assignees_url":"https://api.github.com/repos/tukaani-project/xz/assignees{/user}","branches_url":"https://api.github.com/repos/tukaani-project/xz/branches{/branch}","tags_url":"https://api.github.com/repos/tukaani-project/xz/tags","blobs_url":"https://api.github.com/repos/tukaani-project/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tukaani-project/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tukaani-project/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/tukaani-project/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/tukaani-project/xz/languages","stargazers_url":"https://api.github.com/repos/tukaani-project/xz/stargazers","contributors_url":"https://api.github.com/repos/tukaani-project/xz/contributors","subscribers_url":"https://api.github.com/repos/tukaani-project/xz/subscribers","subscription_url":"https://api.github.com/repos/tukaani-project/xz/subscription","commits_url":"https://api.github.com/repos/tukaani-project/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/tukaani-project/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/tukaani-project/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/tukaani-project/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/tukaani-project/xz/contents/{+path}","compare_url":"https://api.github.com/repos/tukaani-project/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tukaani-project/xz/merges","archive_url":"https://api.github.com/repos/tukaani-project/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tukaani-project/xz/downloads","issues_url":"https://api.github.com/repos/tukaani-project/xz/issues{/number}","pulls_url":"https://api.github.com/repos/tukaani-project/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/tukaani-project/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/tukaani-project/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tukaani-project/xz/labels{/name}","releases_url":"https://api.github.com/repos/tukaani-project/xz/releases{/id}","deployments_url":"https://api.github.com/repos/tukaani-project/xz/deployments","created_at":"2022-10-18T15:11:36Z","updated_at":"2024-02-29T06:25:51Z","pushed_at":"2024-02-29T14:47:47Z","git_url":"git://github.com/tukaani-project/xz.git","ssh_url":"git@github.com:tukaani-project/xz.git","clone_url":"https://github.com/tukaani-project/xz.git","svn_url":"https://github.com/tukaani-project/xz","homepage":"https://xz.tukaani.org/xz-utils","size":5032,"stargazers_count":154,"watchers_count":154,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":47,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":7,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","cli","compression","library"],"visibility":"public","forks":47,"open_issues":7,"watchers":154,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86"},"issue":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86"},"comments":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments"},"review_comments":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments"},"review_comment":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits"},"statuses":{"href":"https://api.github.com/repos/tukaani-project/xz/statuses/4023849b644a3df3e170cba4a551e11737192447"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2024-02-29T16:56:55Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"36134053717","type":"PullRequestReviewCommentEvent","actor":{"id":78042786,"login":"JiaT75","display_login":"JiaT75","gravatar_id":"","url":"https://api.github.com/users/JiaT75","avatar_url":"https://avatars.githubusercontent.com/u/78042786?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507900586","pull_request_review_id":1909409512,"id":1507900586,"node_id":"PRRC_kwDOIQBEvs5Z4Lyq","diff_hunk":"@@ -0,0 +1,107 @@\n+// SPDX-License-Identifier: 0BSD\n+\n+///////////////////////////////////////////////////////////////////////////////\n+//\n+/// \\file       crc32_loongarch.h\n+/// \\brief      CRC32 calculation with LoongArch optimization\n+//\n+//  Authors:    Xi Ruoyao\n+//\n+///////////////////////////////////////////////////////////////////////////////\n+\n+\n+#ifndef LZMA_CRC32_LOONGARCH_H\n+#define LZMA_CRC32_LOONGARCH_H\n+\n+#include <larchintrin.h>\n+#include <sys/auxv.h>\n+\n+// Defined in section 9.1 of\n+// \"Software Development and Build Convention for LoongArch Architectures\"\n+// (https://github.com/loongson/la-softdev-convention/).  Hard code it\n+// instead of including <bits/hwcap.h> for compatibility with Glibc <= 2.37.\n+#define HWCAP_LOONGARCH_CRC32 (1 << 6)\n+\n+#if __loongarch_grlen >= 64\n+#  define UNIT_SIZE 8\n+#  define CRC_UNIT(buf, crc) __crc_w_d_w((int64_t)aligned_read64le(buf), crc)\n+#else\n+#  define UNIT_SIZE 4\n+#  define CRC_UNIT(buf, crc) __crc_w_w_w((int32_t)aligned_read32le(buf), crc)\n+#endif\n+\n+static uint32_t\n+crc32_arch_optimized(const uint8_t *buf, size_t size, uint32_t _crc)\n+{\n+\tint32_t crc = (int32_t)~_crc;\n+\n+\t// Align the input buffer because this was shown to be\n+\t// significantly faster than unaligned accesses.\n+\tconst size_t align_amount = my_min(size,\n+\t\t\t(UNIT_SIZE - (uintptr_t)buf) & (UNIT_SIZE - 1));\n+\n+\tif (align_amount & 1)\n+\t\tcrc = __crc_w_b_w((int8_t)*buf++, crc);\n+\n+\tif (align_amount & 2) {\n+\t\tcrc = __crc_w_h_w((int16_t)aligned_read16le(buf), crc);\n+\t\tbuf += 2;\n+\t}\n+\n+#if UNIT_SIZE == 8\n+\tif (align_amount & 4) {\n+\t\tcrc = __crc_w_w_w((int32_t)aligned_read32le(buf), crc);\n+\t\tbuf += 4;\n+\t}\n+#endif\n+\n+\tsize -= align_amount;\n+\n+\t// Process UNIT_SIZE bytes at a time. The end point is determined by\n+\t// ignoring the least significant log2(UNIT_SIZE) bits of size to ensure\n+\t// we do not process past the bounds of the buffer. This guarantees\n+\t// that limit is a multiple of UNIT_SIZE and is strictly less than size.\n+\tfor (const uint8_t *limit = buf + (size & ~((size_t)UNIT_SIZE - 1));\n+\t\t\tbuf < limit; buf += UNIT_SIZE)\n+\t\tcrc = CRC_UNIT(buf, crc);\n+\n+\t// Process the remaining bytes that are not 8 byte aligned.","path":"src/liblzma/check/crc32_loongarch.h","commit_id":"4023849b644a3df3e170cba4a551e11737192447","original_commit_id":"4023849b644a3df3e170cba4a551e11737192447","user":{"login":"JiaT75","id":78042786,"node_id":"MDQ6VXNlcjc4MDQyNzg2","avatar_url":"https://avatars.githubusercontent.com/u/78042786?v=4","gravatar_id":"","url":"https://api.github.com/users/JiaT75","html_url":"https://github.com/JiaT75","followers_url":"https://api.github.com/users/JiaT75/followers","following_url":"https://api.github.com/users/JiaT75/following{/other_user}","gists_url":"https://api.github.com/users/JiaT75/gists{/gist_id}","starred_url":"https://api.github.com/users/JiaT75/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JiaT75/subscriptions","organizations_url":"https://api.github.com/users/JiaT75/orgs","repos_url":"https://api.github.com/users/JiaT75/repos","events_url":"https://api.github.com/users/JiaT75/events{/privacy}","received_events_url":"https://api.github.com/users/JiaT75/received_events","type":"User","site_admin":false},"body":"This comment needs updating to reference `UNIT_SIZE` instead of \"8\".","created_at":"2024-02-29T16:56:54Z","updated_at":"2024-02-29T16:56:54Z","html_url":"https://github.com/tukaani-project/xz/pull/86#discussion_r1507900586","pull_request_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","author_association":"MEMBER","_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507900586"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86#discussion_r1507900586"},"pull_request":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"}},"reactions":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507900586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"start_line":null,"original_start_line":null,"start_side":null,"line":68,"original_line":68,"side":"RIGHT","original_position":68,"position":68,"subject_type":"line"},"pull_request":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","id":1742149263,"node_id":"PR_kwDOIQBEvs5n1xaP","html_url":"https://github.com/tukaani-project/xz/pull/86","diff_url":"https://github.com/tukaani-project/xz/pull/86.diff","patch_url":"https://github.com/tukaani-project/xz/pull/86.patch","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/86","number":86,"state":"open","locked":false,"title":"Speed up CRC32 calculation on LoongArch","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":"## Pull request checklist\r\n\r\nPlease check if your PR fulfills the following requirements:\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been reviewed and added / updated if needed (for bug fixes / features)\r\n- [x] Build was run locally and without warnings or errors\r\n- [x] All previous and new tests pass\r\n\r\n\r\n## Pull request type\r\n\r\n<!-- Please try to limit your pull request to one type, submit multiple\r\npull requests if needed. --> \r\n\r\nPlease check the type of change your PR introduces:\r\n- [x] Feature\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying. -->\r\n\r\nOn LoongArch the generic table-based CRC32 implementation is used.\r\n\r\n<!-- Related issue this PR addresses, if applicable -->\r\nRelated Issue URL: None\r\n\r\n\r\n## What is the new behavior?\r\n\r\nThe crc.w.{b/h/w/d}.w instructions in LoongArch can calculate the CRC32 result for 1/2/4/8 bytes in a single operation, making the use of LoongArch CRC32 instructions much faster compared to the general CRC32 algorithm.\r\n\r\nOptimized CRC32 will be enabled if the kernel declares the LoongArch CRC32 instructions supported via AT_HWCAP.\r\n\r\n## Does this introduce a breaking change?\r\n\r\n- [x] No\r\n\r\n<!-- If this introduces a breaking change, please describe the impact and\r\nmigration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\n<!-- Any other information that is important to this PR. -->","created_at":"2024-02-25T12:26:01Z","updated_at":"2024-02-29T16:56:54Z","closed_at":null,"merged_at":null,"merge_commit_sha":"21a9807d8f8b3b7ac27cedbf1c083c7b1a2c9179","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits","review_comments_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments","review_comment_url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/4023849b644a3df3e170cba4a551e11737192447","head":{"label":"xry111:xry111/loongarch-crc","ref":"xry111/loongarch-crc","sha":"4023849b644a3df3e170cba4a551e11737192447","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"repo":{"id":763044910,"node_id":"R_kgDOLXskLg","name":"xz","full_name":"xry111/xz","private":false,"owner":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"html_url":"https://github.com/xry111/xz","description":"XZ Utils","fork":true,"url":"https://api.github.com/repos/xry111/xz","forks_url":"https://api.github.com/repos/xry111/xz/forks","keys_url":"https://api.github.com/repos/xry111/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xry111/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xry111/xz/teams","hooks_url":"https://api.github.com/repos/xry111/xz/hooks","issue_events_url":"https://api.github.com/repos/xry111/xz/issues/events{/number}","events_url":"https://api.github.com/repos/xry111/xz/events","assignees_url":"https://api.github.com/repos/xry111/xz/assignees{/user}","branches_url":"https://api.github.com/repos/xry111/xz/branches{/branch}","tags_url":"https://api.github.com/repos/xry111/xz/tags","blobs_url":"https://api.github.com/repos/xry111/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xry111/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xry111/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/xry111/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xry111/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/xry111/xz/languages","stargazers_url":"https://api.github.com/repos/xry111/xz/stargazers","contributors_url":"https://api.github.com/repos/xry111/xz/contributors","subscribers_url":"https://api.github.com/repos/xry111/xz/subscribers","subscription_url":"https://api.github.com/repos/xry111/xz/subscription","commits_url":"https://api.github.com/repos/xry111/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/xry111/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/xry111/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/xry111/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/xry111/xz/contents/{+path}","compare_url":"https://api.github.com/repos/xry111/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xry111/xz/merges","archive_url":"https://api.github.com/repos/xry111/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xry111/xz/downloads","issues_url":"https://api.github.com/repos/xry111/xz/issues{/number}","pulls_url":"https://api.github.com/repos/xry111/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/xry111/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/xry111/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xry111/xz/labels{/name}","releases_url":"https://api.github.com/repos/xry111/xz/releases{/id}","deployments_url":"https://api.github.com/repos/xry111/xz/deployments","created_at":"2024-02-25T12:15:50Z","updated_at":"2024-02-25T12:15:50Z","pushed_at":"2024-02-26T09:52:35Z","git_url":"git://github.com/xry111/xz.git","ssh_url":"git@github.com:xry111/xz.git","clone_url":"https://github.com/xry111/xz.git","svn_url":"https://github.com/xry111/xz","homepage":"https://xz.tukaani.org/xz-utils","size":4532,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"tukaani-project:master","ref":"master","sha":"8bf9f72ee1c05b9e205a72807e8a9e304785673d","user":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"repo":{"id":553665726,"node_id":"R_kgDOIQBEvg","name":"xz","full_name":"tukaani-project/xz","private":false,"owner":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/tukaani-project/xz","description":"XZ Utils","fork":false,"url":"https://api.github.com/repos/tukaani-project/xz","forks_url":"https://api.github.com/repos/tukaani-project/xz/forks","keys_url":"https://api.github.com/repos/tukaani-project/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tukaani-project/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tukaani-project/xz/teams","hooks_url":"https://api.github.com/repos/tukaani-project/xz/hooks","issue_events_url":"https://api.github.com/repos/tukaani-project/xz/issues/events{/number}","events_url":"https://api.github.com/repos/tukaani-project/xz/events","assignees_url":"https://api.github.com/repos/tukaani-project/xz/assignees{/user}","branches_url":"https://api.github.com/repos/tukaani-project/xz/branches{/branch}","tags_url":"https://api.github.com/repos/tukaani-project/xz/tags","blobs_url":"https://api.github.com/repos/tukaani-project/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tukaani-project/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tukaani-project/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/tukaani-project/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/tukaani-project/xz/languages","stargazers_url":"https://api.github.com/repos/tukaani-project/xz/stargazers","contributors_url":"https://api.github.com/repos/tukaani-project/xz/contributors","subscribers_url":"https://api.github.com/repos/tukaani-project/xz/subscribers","subscription_url":"https://api.github.com/repos/tukaani-project/xz/subscription","commits_url":"https://api.github.com/repos/tukaani-project/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/tukaani-project/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/tukaani-project/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/tukaani-project/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/tukaani-project/xz/contents/{+path}","compare_url":"https://api.github.com/repos/tukaani-project/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tukaani-project/xz/merges","archive_url":"https://api.github.com/repos/tukaani-project/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tukaani-project/xz/downloads","issues_url":"https://api.github.com/repos/tukaani-project/xz/issues{/number}","pulls_url":"https://api.github.com/repos/tukaani-project/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/tukaani-project/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/tukaani-project/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tukaani-project/xz/labels{/name}","releases_url":"https://api.github.com/repos/tukaani-project/xz/releases{/id}","deployments_url":"https://api.github.com/repos/tukaani-project/xz/deployments","created_at":"2022-10-18T15:11:36Z","updated_at":"2024-02-29T06:25:51Z","pushed_at":"2024-02-29T14:47:47Z","git_url":"git://github.com/tukaani-project/xz.git","ssh_url":"git@github.com:tukaani-project/xz.git","clone_url":"https://github.com/tukaani-project/xz.git","svn_url":"https://github.com/tukaani-project/xz","homepage":"https://xz.tukaani.org/xz-utils","size":5032,"stargazers_count":154,"watchers_count":154,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":47,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":7,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","cli","compression","library"],"visibility":"public","forks":47,"open_issues":7,"watchers":154,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86"},"issue":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86"},"comments":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments"},"review_comments":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments"},"review_comment":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits"},"statuses":{"href":"https://api.github.com/repos/tukaani-project/xz/statuses/4023849b644a3df3e170cba4a551e11737192447"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2024-02-29T16:56:54Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
