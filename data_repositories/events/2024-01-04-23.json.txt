{"id":"34585889878","type":"IssueCommentEvent","actor":{"id":120408189,"login":"Larhzu","display_login":"Larhzu","gravatar_id":"","url":"https://api.github.com/users/Larhzu","avatar_url":"https://avatars.githubusercontent.com/u/120408189?"},"repo":{"id":4523235,"name":"asciidoctor/asciidoctor","url":"https://api.github.com/repos/asciidoctor/asciidoctor"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4535","repository_url":"https://api.github.com/repos/asciidoctor/asciidoctor","labels_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4535/labels{/name}","comments_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4535/comments","events_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4535/events","html_url":"https://github.com/asciidoctor/asciidoctor/issues/4535","id":2063047716,"node_id":"I_kwDOAEUE485695wk","number":4535,"title":"Inconsistent style in table cells with some monospaced text","user":{"login":"Larhzu","id":120408189,"node_id":"U_kgDOBy1IfQ","avatar_url":"https://avatars.githubusercontent.com/u/120408189?v=4","gravatar_id":"","url":"https://api.github.com/users/Larhzu","html_url":"https://github.com/Larhzu","followers_url":"https://api.github.com/users/Larhzu/followers","following_url":"https://api.github.com/users/Larhzu/following{/other_user}","gists_url":"https://api.github.com/users/Larhzu/gists{/gist_id}","starred_url":"https://api.github.com/users/Larhzu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Larhzu/subscriptions","organizations_url":"https://api.github.com/users/Larhzu/orgs","repos_url":"https://api.github.com/users/Larhzu/repos","events_url":"https://api.github.com/users/Larhzu/events{/privacy}","received_events_url":"https://api.github.com/users/Larhzu/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2024-01-02T22:59:05Z","updated_at":"2024-01-04T23:27:43Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Test case with the default stylesheet:\r\n\r\n```\r\n= Title\r\n\r\nThe `cook` command supports the following options:\r\n\r\n[%autowidth]\r\n|===\r\n| `--cold`    | Allow `cook` to make cold foods.\r\n| `--hot`     | Allow `cook` to make hot foods. Cannot be combined with `--cold`.\r\n| `--sweet`   | Allow `cook` to make desserts. _{empty}_\r\n|===\r\n```\r\n\r\nOn the first row, `cook` doesn't have the gray background. On the other two rows it has the background.\r\n\r\nIt happens because of this:\r\n\r\n```\r\np.tableblock > code:only-child {\r\n  background: none;\r\n  padding: 0;\r\n}\r\n```\r\n\r\nI get that it can make the first column in the table look better. The current implementation makes semantics and style mix a bit though because one may need to add an empty extra element to get the correct style when there is also non-monospace content in the table cell.\r\n\r\nIt's only a minor thing that is easy to work around once one is aware of it. The small details just grab one's attention when everything else looks very polished already. :-)\r\n","reactions":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4535/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/comments/1877901091","html_url":"https://github.com/asciidoctor/asciidoctor/issues/4535#issuecomment-1877901091","issue_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4535","id":1877901091,"node_id":"IC_kwDOAEUE485v7n8j","user":{"login":"Larhzu","id":120408189,"node_id":"U_kgDOBy1IfQ","avatar_url":"https://avatars.githubusercontent.com/u/120408189?v=4","gravatar_id":"","url":"https://api.github.com/users/Larhzu","html_url":"https://github.com/Larhzu","followers_url":"https://api.github.com/users/Larhzu/followers","following_url":"https://api.github.com/users/Larhzu/following{/other_user}","gists_url":"https://api.github.com/users/Larhzu/gists{/gist_id}","starred_url":"https://api.github.com/users/Larhzu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Larhzu/subscriptions","organizations_url":"https://api.github.com/users/Larhzu/orgs","repos_url":"https://api.github.com/users/Larhzu/repos","events_url":"https://api.github.com/users/Larhzu/events{/privacy}","received_events_url":"https://api.github.com/users/Larhzu/received_events","type":"User","site_admin":false},"created_at":"2024-01-04T23:27:42Z","updated_at":"2024-01-04T23:27:42Z","author_association":"CONTRIBUTOR","body":"I apologize if I'm wrong but I suspect that my main point hasn't been understood. In my first message, the first column of the table looks great without the gray background; I don't want to change the style in the first column. However, in the second column, there are _three_ monospace `cook` strings but only _two_ of them have a gray background.\r\n\r\nI originally noticed this in a table where the cells had a few sentences of text. In one cell the gray background was missing from a monospaced word in the middle of a sentence. In the second cell, a monospaced word in a similar sentence did have the gray background. The generated HTML looked similar for both cells and I was confused for a moment. Then I realized that the word in the second cell had the gray background because another sentence in the same cell had an _emphasized_ word in it. It wasn't intuitive that emphasizing a word in one sentence affects the style of a word in another sentence.\r\n\r\nIs it an intentional and desired part of the design that only two of the three `cook` strings have a gray background in the example table?\r\n\r\nIf yes, then your suggestion about applying the style only when the code span has no role might be a good workaround (it's better than using `_{empty}_` to avoid matching `:only-child`). It would still feel a bit sad considering how much attention to small details the design has in general.\r\n\r\n> With that said, I still think that a normal cell with a single code span should look the same as a monospace table cell.\r\n\r\nI agree now. The idea in my previous message isn't good.\r\n\r\n(The rest of this message was written with the assumption that the three cooks example is not desired behavior and that it's worth fixing.)\r\n\r\nBelow is another attempt at code. It would use the same `p.tableblock.monospaced > code` selector as my previous prototype.\r\n\r\n```\r\n--- a/lib/asciidoctor/converter/html5.rb\r\n+++ b/lib/asciidoctor/converter/html5.rb\r\n@@ -907,8 +907,8 @@ def convert_table node\r\n               when :literal\r\n                 cell_content = %(<div class=\"literal\"><pre>#{cell.text}</pre></div>)\r\n               else\r\n-                cell_content = (cell_content = cell.content).empty? ? '' : %(<p class=\"tableblock\">#{cell_content.join '</p>\r\n-<p class=\"tableblock\">'}</p>)\r\n+                cell_content = cell.content.map {|e| %(<p class=\"tableblock#{' monospaced' if e.match?(/^<code[> ]((?!<\\/code>).)*<\\/code>$/m)}\">#{e}</p>) }\r\n+                cell_content = cell_content.join(\"\\n\")\r\n               end\r\n             end\r\n\r\n```\r\n\r\nIt checks if a paragraph in a cell consist of a single `<code>` element. Other elements inside the `<code>` are allowed so that emphasis works:\r\n\r\n```\r\n| `command _argument_`\r\n```\r\n\r\nIt checks that there is no `</code>` in the middle to keep the gray backgrounds if the content begins and ends in monospace text:\r\n\r\n```\r\n| `foo` or `bar`\r\n```\r\n\r\nThat checks rejects nested `<code>` tags too but perhaps that's OK. The current stylesheet uses a gray background in that case but omits padding from the outermost `<code>` element. So there is a tiny difference in this odd corner case. Nested `<code>` can occur at least if a cell has `m` style and backticks are still used although I suspect this might be considered invalid AsciiDoc syntax:\r\n\r\n```\r\nm| `--option`\r\n```\r\n\r\nChanging the HTML output by adding the `monospaced` class shouldn't affect compatibility with old custom stylesheets. An old stylesheet just wouldn't get the style fix to the three cooks example.\r\n\r\nA new stylesheet would have the new selector. If a new stylesheet was used with HTML from an old Asciidoctor version then unwanted gray backgrounds would appear.\r\n\r\nI don't see other compatibility considerations now but it doesn't mean there aren't any.\r\n\r\nIs this kind of change wanted at all? Is using a regex to match the `<code>` tags too hackish?\r\n\r\nI apologize for being so insistent if my thoughts on this actually are on a wrong track. Thanks for reading!\r\n","reactions":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/comments/1877901091/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2024-01-04T23:27:44Z","org":{"id":3137042,"login":"asciidoctor","gravatar_id":"","url":"https://api.github.com/orgs/asciidoctor","avatar_url":"https://avatars.githubusercontent.com/u/3137042?"}}
{"id":"34586002459","type":"IssueCommentEvent","actor":{"id":79351,"login":"mojavelinux","display_login":"mojavelinux","gravatar_id":"","url":"https://api.github.com/users/mojavelinux","avatar_url":"https://avatars.githubusercontent.com/u/79351?"},"repo":{"id":4523235,"name":"asciidoctor/asciidoctor","url":"https://api.github.com/repos/asciidoctor/asciidoctor"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4535","repository_url":"https://api.github.com/repos/asciidoctor/asciidoctor","labels_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4535/labels{/name}","comments_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4535/comments","events_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4535/events","html_url":"https://github.com/asciidoctor/asciidoctor/issues/4535","id":2063047716,"node_id":"I_kwDOAEUE485695wk","number":4535,"title":"Inconsistent style in table cells with some monospaced text","user":{"login":"Larhzu","id":120408189,"node_id":"U_kgDOBy1IfQ","avatar_url":"https://avatars.githubusercontent.com/u/120408189?v=4","gravatar_id":"","url":"https://api.github.com/users/Larhzu","html_url":"https://github.com/Larhzu","followers_url":"https://api.github.com/users/Larhzu/followers","following_url":"https://api.github.com/users/Larhzu/following{/other_user}","gists_url":"https://api.github.com/users/Larhzu/gists{/gist_id}","starred_url":"https://api.github.com/users/Larhzu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Larhzu/subscriptions","organizations_url":"https://api.github.com/users/Larhzu/orgs","repos_url":"https://api.github.com/users/Larhzu/repos","events_url":"https://api.github.com/users/Larhzu/events{/privacy}","received_events_url":"https://api.github.com/users/Larhzu/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2024-01-02T22:59:05Z","updated_at":"2024-01-04T23:36:20Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Test case with the default stylesheet:\r\n\r\n```\r\n= Title\r\n\r\nThe `cook` command supports the following options:\r\n\r\n[%autowidth]\r\n|===\r\n| `--cold`    | Allow `cook` to make cold foods.\r\n| `--hot`     | Allow `cook` to make hot foods. Cannot be combined with `--cold`.\r\n| `--sweet`   | Allow `cook` to make desserts. _{empty}_\r\n|===\r\n```\r\n\r\nOn the first row, `cook` doesn't have the gray background. On the other two rows it has the background.\r\n\r\nIt happens because of this:\r\n\r\n```\r\np.tableblock > code:only-child {\r\n  background: none;\r\n  padding: 0;\r\n}\r\n```\r\n\r\nI get that it can make the first column in the table look better. The current implementation makes semantics and style mix a bit though because one may need to add an empty extra element to get the correct style when there is also non-monospace content in the table cell.\r\n\r\nIt's only a minor thing that is easy to work around once one is aware of it. The small details just grab one's attention when everything else looks very polished already. :-)\r\n","reactions":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4535/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/comments/1877907601","html_url":"https://github.com/asciidoctor/asciidoctor/issues/4535#issuecomment-1877907601","issue_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4535","id":1877907601,"node_id":"IC_kwDOAEUE485v7piR","user":{"login":"mojavelinux","id":79351,"node_id":"MDQ6VXNlcjc5MzUx","avatar_url":"https://avatars.githubusercontent.com/u/79351?v=4","gravatar_id":"","url":"https://api.github.com/users/mojavelinux","html_url":"https://github.com/mojavelinux","followers_url":"https://api.github.com/users/mojavelinux/followers","following_url":"https://api.github.com/users/mojavelinux/following{/other_user}","gists_url":"https://api.github.com/users/mojavelinux/gists{/gist_id}","starred_url":"https://api.github.com/users/mojavelinux/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mojavelinux/subscriptions","organizations_url":"https://api.github.com/users/mojavelinux/orgs","repos_url":"https://api.github.com/users/mojavelinux/repos","events_url":"https://api.github.com/users/mojavelinux/events{/privacy}","received_events_url":"https://api.github.com/users/mojavelinux/received_events","type":"User","site_admin":false},"created_at":"2024-01-04T23:36:19Z","updated_at":"2024-01-04T23:36:19Z","author_association":"MEMBER","body":"> Is it an intentional and desired part of the design that only two of the three cook strings have a gray background in the example table?\r\n\r\nYes, because given the tools we have available in CSS, there's no way to distinguish between a code span that is the only child and a code span that is preceded or followed by text. It's a limitation of CSS. It thinks an element surrounded by only text is an only child (which is clearly wrong, but CSS is just broken in this case).\r\n\r\nWith my proposal, if you want to ensure there is a background, you have to add a role to the code that is surrounded by only text (for example, ``` [.span]`code` ```)\r\n\r\n> Below is another attempt at code. It would use the same p.tableblock.monospaced > code selector as my previous prototype.\r\n\r\nWe could add a CSS class to the cell that is a monospace style, but that's a (minor) breaking change and can only be done in a minor or major release. This may be inconvenient, but it's just where we are.\r\n\r\n> Changing the HTML output by adding the monospaced class shouldn't affect compatibility with old custom stylesheets. \r\n\r\nChanging the HTML itself is a breaking change.","reactions":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/comments/1877907601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2024-01-04T23:36:21Z","org":{"id":3137042,"login":"asciidoctor","gravatar_id":"","url":"https://api.github.com/orgs/asciidoctor","avatar_url":"https://avatars.githubusercontent.com/u/3137042?"}}
{"id":"34586034025","type":"IssueCommentEvent","actor":{"id":79351,"login":"mojavelinux","display_login":"mojavelinux","gravatar_id":"","url":"https://api.github.com/users/mojavelinux","avatar_url":"https://avatars.githubusercontent.com/u/79351?"},"repo":{"id":4523235,"name":"asciidoctor/asciidoctor","url":"https://api.github.com/repos/asciidoctor/asciidoctor"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4535","repository_url":"https://api.github.com/repos/asciidoctor/asciidoctor","labels_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4535/labels{/name}","comments_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4535/comments","events_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4535/events","html_url":"https://github.com/asciidoctor/asciidoctor/issues/4535","id":2063047716,"node_id":"I_kwDOAEUE485695wk","number":4535,"title":"Inconsistent style in table cells with some monospaced text","user":{"login":"Larhzu","id":120408189,"node_id":"U_kgDOBy1IfQ","avatar_url":"https://avatars.githubusercontent.com/u/120408189?v=4","gravatar_id":"","url":"https://api.github.com/users/Larhzu","html_url":"https://github.com/Larhzu","followers_url":"https://api.github.com/users/Larhzu/followers","following_url":"https://api.github.com/users/Larhzu/following{/other_user}","gists_url":"https://api.github.com/users/Larhzu/gists{/gist_id}","starred_url":"https://api.github.com/users/Larhzu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Larhzu/subscriptions","organizations_url":"https://api.github.com/users/Larhzu/orgs","repos_url":"https://api.github.com/users/Larhzu/repos","events_url":"https://api.github.com/users/Larhzu/events{/privacy}","received_events_url":"https://api.github.com/users/Larhzu/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2024-01-02T22:59:05Z","updated_at":"2024-01-04T23:38:47Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Test case with the default stylesheet:\r\n\r\n```\r\n= Title\r\n\r\nThe `cook` command supports the following options:\r\n\r\n[%autowidth]\r\n|===\r\n| `--cold`    | Allow `cook` to make cold foods.\r\n| `--hot`     | Allow `cook` to make hot foods. Cannot be combined with `--cold`.\r\n| `--sweet`   | Allow `cook` to make desserts. _{empty}_\r\n|===\r\n```\r\n\r\nOn the first row, `cook` doesn't have the gray background. On the other two rows it has the background.\r\n\r\nIt happens because of this:\r\n\r\n```\r\np.tableblock > code:only-child {\r\n  background: none;\r\n  padding: 0;\r\n}\r\n```\r\n\r\nI get that it can make the first column in the table look better. The current implementation makes semantics and style mix a bit though because one may need to add an empty extra element to get the correct style when there is also non-monospace content in the table cell.\r\n\r\nIt's only a minor thing that is easy to work around once one is aware of it. The small details just grab one's attention when everything else looks very polished already. :-)\r\n","reactions":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4535/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/comments/1877909575","html_url":"https://github.com/asciidoctor/asciidoctor/issues/4535#issuecomment-1877909575","issue_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4535","id":1877909575,"node_id":"IC_kwDOAEUE485v7qBH","user":{"login":"mojavelinux","id":79351,"node_id":"MDQ6VXNlcjc5MzUx","avatar_url":"https://avatars.githubusercontent.com/u/79351?v=4","gravatar_id":"","url":"https://api.github.com/users/mojavelinux","html_url":"https://github.com/mojavelinux","followers_url":"https://api.github.com/users/mojavelinux/followers","following_url":"https://api.github.com/users/mojavelinux/following{/other_user}","gists_url":"https://api.github.com/users/mojavelinux/gists{/gist_id}","starred_url":"https://api.github.com/users/mojavelinux/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mojavelinux/subscriptions","organizations_url":"https://api.github.com/users/mojavelinux/orgs","repos_url":"https://api.github.com/users/mojavelinux/repos","events_url":"https://api.github.com/users/mojavelinux/events{/privacy}","received_events_url":"https://api.github.com/users/mojavelinux/received_events","type":"User","site_admin":false},"created_at":"2024-01-04T23:38:46Z","updated_at":"2024-01-04T23:38:46Z","author_association":"MEMBER","body":"One possible docinfo workaround in the interim is to use JavaScript to add the empty span in the case both a code span and text are detected in the same cell. Sometimes, JavaScript is just needed to patch what CSS gets wrong.","reactions":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/comments/1877909575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2024-01-04T23:38:48Z","org":{"id":3137042,"login":"asciidoctor","gravatar_id":"","url":"https://api.github.com/orgs/asciidoctor","avatar_url":"https://avatars.githubusercontent.com/u/3137042?"}}
{"id":"34586143137","type":"IssueCommentEvent","actor":{"id":79351,"login":"mojavelinux","display_login":"mojavelinux","gravatar_id":"","url":"https://api.github.com/users/mojavelinux","avatar_url":"https://avatars.githubusercontent.com/u/79351?"},"repo":{"id":4523235,"name":"asciidoctor/asciidoctor","url":"https://api.github.com/repos/asciidoctor/asciidoctor"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4535","repository_url":"https://api.github.com/repos/asciidoctor/asciidoctor","labels_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4535/labels{/name}","comments_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4535/comments","events_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4535/events","html_url":"https://github.com/asciidoctor/asciidoctor/issues/4535","id":2063047716,"node_id":"I_kwDOAEUE485695wk","number":4535,"title":"Inconsistent style in table cells with some monospaced text","user":{"login":"Larhzu","id":120408189,"node_id":"U_kgDOBy1IfQ","avatar_url":"https://avatars.githubusercontent.com/u/120408189?v=4","gravatar_id":"","url":"https://api.github.com/users/Larhzu","html_url":"https://github.com/Larhzu","followers_url":"https://api.github.com/users/Larhzu/followers","following_url":"https://api.github.com/users/Larhzu/following{/other_user}","gists_url":"https://api.github.com/users/Larhzu/gists{/gist_id}","starred_url":"https://api.github.com/users/Larhzu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Larhzu/subscriptions","organizations_url":"https://api.github.com/users/Larhzu/orgs","repos_url":"https://api.github.com/users/Larhzu/repos","events_url":"https://api.github.com/users/Larhzu/events{/privacy}","received_events_url":"https://api.github.com/users/Larhzu/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2024-01-02T22:59:05Z","updated_at":"2024-01-04T23:47:29Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Test case with the default stylesheet:\r\n\r\n```\r\n= Title\r\n\r\nThe `cook` command supports the following options:\r\n\r\n[%autowidth]\r\n|===\r\n| `--cold`    | Allow `cook` to make cold foods.\r\n| `--hot`     | Allow `cook` to make hot foods. Cannot be combined with `--cold`.\r\n| `--sweet`   | Allow `cook` to make desserts. _{empty}_\r\n|===\r\n```\r\n\r\nOn the first row, `cook` doesn't have the gray background. On the other two rows it has the background.\r\n\r\nIt happens because of this:\r\n\r\n```\r\np.tableblock > code:only-child {\r\n  background: none;\r\n  padding: 0;\r\n}\r\n```\r\n\r\nI get that it can make the first column in the table look better. The current implementation makes semantics and style mix a bit though because one may need to add an empty extra element to get the correct style when there is also non-monospace content in the table cell.\r\n\r\nIt's only a minor thing that is easy to work around once one is aware of it. The small details just grab one's attention when everything else looks very polished already. :-)\r\n","reactions":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4535/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/comments/1877915232","html_url":"https://github.com/asciidoctor/asciidoctor/issues/4535#issuecomment-1877915232","issue_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4535","id":1877915232,"node_id":"IC_kwDOAEUE485v7rZg","user":{"login":"mojavelinux","id":79351,"node_id":"MDQ6VXNlcjc5MzUx","avatar_url":"https://avatars.githubusercontent.com/u/79351?v=4","gravatar_id":"","url":"https://api.github.com/users/mojavelinux","html_url":"https://github.com/mojavelinux","followers_url":"https://api.github.com/users/mojavelinux/followers","following_url":"https://api.github.com/users/mojavelinux/following{/other_user}","gists_url":"https://api.github.com/users/mojavelinux/gists{/gist_id}","starred_url":"https://api.github.com/users/mojavelinux/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mojavelinux/subscriptions","organizations_url":"https://api.github.com/users/mojavelinux/orgs","repos_url":"https://api.github.com/users/mojavelinux/repos","events_url":"https://api.github.com/users/mojavelinux/events{/privacy}","received_events_url":"https://api.github.com/users/mojavelinux/received_events","type":"User","site_admin":false},"created_at":"2024-01-04T23:47:29Z","updated_at":"2024-01-04T23:47:29Z","author_association":"MEMBER","body":"```\r\n<script>\r\ndocument.querySelectorAll('#content p.tableblock > code:first-child:only-child').forEach((el) => {\r\n  if (el.parentNode.childNodes.length > 1) el.parentNode.appendChild(document.createElement('span'))\r\n})\r\n</script>\r\n```","reactions":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/comments/1877915232/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2024-01-04T23:47:30Z","org":{"id":3137042,"login":"asciidoctor","gravatar_id":"","url":"https://api.github.com/orgs/asciidoctor","avatar_url":"https://avatars.githubusercontent.com/u/3137042?"}}
{"id":"34586229788","type":"IssueCommentEvent","actor":{"id":79351,"login":"mojavelinux","display_login":"mojavelinux","gravatar_id":"","url":"https://api.github.com/users/mojavelinux","avatar_url":"https://avatars.githubusercontent.com/u/79351?"},"repo":{"id":4523235,"name":"asciidoctor/asciidoctor","url":"https://api.github.com/repos/asciidoctor/asciidoctor"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4535","repository_url":"https://api.github.com/repos/asciidoctor/asciidoctor","labels_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4535/labels{/name}","comments_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4535/comments","events_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4535/events","html_url":"https://github.com/asciidoctor/asciidoctor/issues/4535","id":2063047716,"node_id":"I_kwDOAEUE485695wk","number":4535,"title":"Inconsistent style in table cells with some monospaced text","user":{"login":"Larhzu","id":120408189,"node_id":"U_kgDOBy1IfQ","avatar_url":"https://avatars.githubusercontent.com/u/120408189?v=4","gravatar_id":"","url":"https://api.github.com/users/Larhzu","html_url":"https://github.com/Larhzu","followers_url":"https://api.github.com/users/Larhzu/followers","following_url":"https://api.github.com/users/Larhzu/following{/other_user}","gists_url":"https://api.github.com/users/Larhzu/gists{/gist_id}","starred_url":"https://api.github.com/users/Larhzu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Larhzu/subscriptions","organizations_url":"https://api.github.com/users/Larhzu/orgs","repos_url":"https://api.github.com/users/Larhzu/repos","events_url":"https://api.github.com/users/Larhzu/events{/privacy}","received_events_url":"https://api.github.com/users/Larhzu/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2024-01-02T22:59:05Z","updated_at":"2024-01-04T23:54:22Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Test case with the default stylesheet:\r\n\r\n```\r\n= Title\r\n\r\nThe `cook` command supports the following options:\r\n\r\n[%autowidth]\r\n|===\r\n| `--cold`    | Allow `cook` to make cold foods.\r\n| `--hot`     | Allow `cook` to make hot foods. Cannot be combined with `--cold`.\r\n| `--sweet`   | Allow `cook` to make desserts. _{empty}_\r\n|===\r\n```\r\n\r\nOn the first row, `cook` doesn't have the gray background. On the other two rows it has the background.\r\n\r\nIt happens because of this:\r\n\r\n```\r\np.tableblock > code:only-child {\r\n  background: none;\r\n  padding: 0;\r\n}\r\n```\r\n\r\nI get that it can make the first column in the table look better. The current implementation makes semantics and style mix a bit though because one may need to add an empty extra element to get the correct style when there is also non-monospace content in the table cell.\r\n\r\nIt's only a minor thing that is easy to work around once one is aware of it. The small details just grab one's attention when everything else looks very polished already. :-)\r\n","reactions":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4535/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/comments/1877920244","html_url":"https://github.com/asciidoctor/asciidoctor/issues/4535#issuecomment-1877920244","issue_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4535","id":1877920244,"node_id":"IC_kwDOAEUE485v7sn0","user":{"login":"mojavelinux","id":79351,"node_id":"MDQ6VXNlcjc5MzUx","avatar_url":"https://avatars.githubusercontent.com/u/79351?v=4","gravatar_id":"","url":"https://api.github.com/users/mojavelinux","html_url":"https://github.com/mojavelinux","followers_url":"https://api.github.com/users/mojavelinux/followers","following_url":"https://api.github.com/users/mojavelinux/following{/other_user}","gists_url":"https://api.github.com/users/mojavelinux/gists{/gist_id}","starred_url":"https://api.github.com/users/mojavelinux/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mojavelinux/subscriptions","organizations_url":"https://api.github.com/users/mojavelinux/orgs","repos_url":"https://api.github.com/users/mojavelinux/repos","events_url":"https://api.github.com/users/mojavelinux/events{/privacy}","received_events_url":"https://api.github.com/users/mojavelinux/received_events","type":"User","site_admin":false},"created_at":"2024-01-04T23:54:22Z","updated_at":"2024-01-04T23:54:22Z","author_association":"MEMBER","body":"I do understand what you're saying and I assure you that you're not being misunderstood. Your messages are clear. However, due to compatibility issues, the path forward is just not clear or easy. This is one of those situations where a CSS bug has broken an assumption made when designing the HTML (which was done over a decade ago). The assumption is that CSS can differentiate between a monospace cell and a default cell with monospace in it.\r\n\r\nI think it's perfectly reasonable to add more information into the HTML to avoid this kind of situation, which we can do in the new HTML converter, as I mentioned.","reactions":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/comments/1877920244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2024-01-04T23:54:23Z","org":{"id":3137042,"login":"asciidoctor","gravatar_id":"","url":"https://api.github.com/orgs/asciidoctor","avatar_url":"https://avatars.githubusercontent.com/u/3137042?"}}
