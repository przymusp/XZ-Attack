{"id":"23317887998","type":"PushEvent","actor":{"id":78042786,"login":"JiaT75","display_login":"JiaT75","gravatar_id":"","url":"https://api.github.com/users/JiaT75","avatar_url":"https://avatars.githubusercontent.com/u/78042786?"},"repo":{"id":453091377,"name":"JiaT75/XZ_Utils_Unofficial","url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial"},"payload":{"push_id":10667940355,"size":16,"distinct_size":6,"ref":"refs/heads/main","head":"470c76697cebdda8525d1e34620d08c4dcf522bf","before":"4c156b9c1b4e656a5e8d4424b777d71ac026470a","commits":[{"sha":"b48f9d615f2c2e8d2f6e253d0e48ee66d0652b68","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"xzgrep: Fix parsing of certain options.\n\nFix handling of \"xzgrep -25 foo\" (in GNU grep \"grep -25 foo\" is\nan alias for \"grep -C25 foo\"). xzgrep would treat \"foo\" as filename\ninstead of as a pattern. This bug was fixed in zgrep in gzip in 2012.\n\nAdd -E, -F, -G, and -P to the \"no argument required\" list.\n\nAdd -X to \"argument required\" list. It is an\nintentionally-undocumented GNU grep option so this isn't\nan important option for xzgrep but it seems that other grep\nimplementations (well, those that I checked) don't support -X\nso I hope this change is an improvement still.\n\ngrep -d (grep --directories=ACTION) requires an argument. In\ncontrast to zgrep, I kept -d in the \"no argument required\" list\nbecause it's not supported in xzgrep (or zgrep). This way\n\"xzgrep -d\" gives an error about option being unsupported instead\nof telling that it requires an argument. Both zgrep and xzgrep\ntell that it's unsupported if an argument is specified.\n\nAdd comments.","distinct":false,"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/commits/b48f9d615f2c2e8d2f6e253d0e48ee66d0652b68"},{"sha":"6a4a4a7d2667837dc824c26fcb19ed6ca5aff645","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"xzgrep: Add more LC_ALL=C to avoid bugs with multibyte characters.\n\nAlso replace one use of expr with printf.\n\nThe rationale for LC_ALL=C was already mentioned in\n69d1b3fc29677af8ade8dc15dba83f0589cb63d6 that fixed a security\nissue. However, unrelated uses weren't changed in that commit yet.\n\nPOSIX says that with sed and such tools one should use LC_ALL=C\nto ensure predictable behavior when strings contain byte sequences\nthat aren't valid multibyte characters in the current locale. See\nunder \"Application usage\" in here:\n\nhttps://pubs.opengroup.org/onlinepubs/9699919799/utilities/sed.html\n\nWith GNU sed invalid multibyte strings would work without this;\nit's documented in its Texinfo manual. Some other implementations\naren't so forgiving.","distinct":false,"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/commits/6a4a4a7d2667837dc824c26fcb19ed6ca5aff645"},{"sha":"bad61b5997e6647911974022bfb72f3d4818a594","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"Scripts: Use printf instead of echo in a few places.\n\nIt's a good habbit as echo has some portability corner cases\nwhen the string contents can be anything.","distinct":false,"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/commits/bad61b5997e6647911974022bfb72f3d4818a594"},{"sha":"b56729af9f1a596e57aeefd7570d8d7dce5c9f52","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"xzgrep: Use -e to specify the pattern to grep.\n\nNow we don't need the separate test for adding the -q option\nas it can be added directly in the two places where it's needed.","distinct":false,"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/commits/b56729af9f1a596e57aeefd7570d8d7dce5c9f52"},{"sha":"bd7b290f3fe4faeceb7d3497ed9bf2e6ed5e7dc5","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"xzgrep: Use grep -H --label when available (GNU, *BSDs).\n\nIt avoids the use of sed for prefixing filenames to output lines.\nUsing sed for that is slower and prone to security bugs so now\nthe sed method is only used as a fallback.\n\nThis also fixes an actual bug: When grepping a binary file,\nGNU grep nowadays prints its diagnostics to stderr instead of\nstdout and thus the sed-method for prefixing the filename doesn't\nwork. So with this commit grepping binary files gives reasonable\noutput with GNU grep now.\n\nThis was inspired by zgrep but the implementation is different.","distinct":false,"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/commits/bd7b290f3fe4faeceb7d3497ed9bf2e6ed5e7dc5"},{"sha":"a648978b20495b7aa4a8b029c5a810b5ad9d08ff","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"xzgrep: Make the fix for ZDI-CAN-16587 more robust.\n\nI don't know if this can make a difference in the real world\nbut it looked kind of suspicious (what happens with sed\nimplementations that cannot process very long lines?).\nAt least this commit shouldn't make it worse.","distinct":false,"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/commits/a648978b20495b7aa4a8b029c5a810b5ad9d08ff"},{"sha":"923bf96b55e5216a6c8df9d8331934f54784390e","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"xzgrep: Improve error handling, especially signals.\n\nxzgrep wouldn't exit on SIGPIPE or SIGQUIT when it clearly\nshould have. It's quite possible that it's not perfect still\nbut at least it's much better.\n\nIf multiple exit statuses compete, now it tries to pick\nthe largest of value.\n\nSome comments were added.\n\nThe exit status handling of signals is still broken if the shell\nuses values larger than 255 in $? to indicate that a process\ndied due to a signal ***and*** their \"exit\" command doesn't take\nthis into account. This seems to work well with the ksh and yash\nversions I tried. However, there is a report in gzip/zgrep that\nOpenSolaris 5.11 (not 5.10) has a problem with \"exit\" truncating\nthe argument to 8 bits:\n\n    https://debbugs.gnu.org/cgi/bugreport.cgi?bug=22900#25\n\nSuch a bug would break xzgrep but I didn't add a workaround\nat least for now. 5.11 is old and I don't know if the problem\nexists in modern descendants, or if the problem exists in other\nksh implementations in use.","distinct":false,"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/commits/923bf96b55e5216a6c8df9d8331934f54784390e"},{"sha":"d796b6d7fdb8b7238b277056cf9146cce25db604","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"xzgrep man page: Document exit statuses.","distinct":false,"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/commits/d796b6d7fdb8b7238b277056cf9146cce25db604"},{"sha":"340cf1ec3927767046b8293a49da3db4e393f426","author":{"email":"nickajacks1@gmail.com","name":"Nicholas Jackson"},"message":"CMake: Add missing source file to liblzma build","distinct":false,"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/commits/340cf1ec3927767046b8293a49da3db4e393f426"},{"sha":"b81bf0c7d1873e52a4086a9abb494471d652cb55","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"Update THANKS.","distinct":false,"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/commits/b81bf0c7d1873e52a4086a9abb494471d652cb55"},{"sha":"9cc721af5436908f2d5a828aebbc4050a32a3487","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"xz: Update the man page that change to --keep will be in 5.2.6.","distinct":true,"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/commits/9cc721af5436908f2d5a828aebbc4050a32a3487"},{"sha":"4d80b463a1251aa22eabc87d2732fec13b1adda6","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"Build: Don't allow empty LIST in --enable-match-finders=LIST.\n\nIt's enforced only when a match finder is needed, that is,\nwhen LZMA1 or LZMA2 encoder is enabled.","distinct":true,"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/commits/4d80b463a1251aa22eabc87d2732fec13b1adda6"},{"sha":"61f8ec804abdb4c5dac01e8ae9b90c7be58a5c24","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"liblzma: Refactor lzma_mf_is_supported() to use a switch-statement.","distinct":true,"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/commits/61f8ec804abdb4c5dac01e8ae9b90c7be58a5c24"},{"sha":"6f6d11225d6016be2bbb55d845b66f6b04d048df","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"Translations: Change the copyright comment string to use with po4a.\n\nThis affects the second line in po4a/xz-man.pot. The man pages of\nxzdiff, xzgrep, and xzmore are from GNU gzip and under GNU GPLv2+\nwhile the rest of the man pages are in the public domain.","distinct":true,"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/commits/6f6d11225d6016be2bbb55d845b66f6b04d048df"},{"sha":"352672732c346c546ff3c26d0605bc0ed1c8b7c7","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"Build: Start the generated ChangeLog from around 5.2.0 instead of 5.0.0.\n\nThis makes ChangeLog smaller.","distinct":true,"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/commits/352672732c346c546ff3c26d0605bc0ed1c8b7c7"},{"sha":"470c76697cebdda8525d1e34620d08c4dcf522bf","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"Merge branch 'master' of https://git.tukaani.org/xz into main","distinct":true,"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/commits/470c76697cebdda8525d1e34620d08c4dcf522bf"}]},"public":true,"created_at":"2022-08-08T14:00:18Z"}
{"id":"23318266761","type":"IssuesEvent","actor":{"id":78042786,"login":"JiaT75","display_login":"JiaT75","gravatar_id":"","url":"https://api.github.com/users/JiaT75","avatar_url":"https://avatars.githubusercontent.com/u/78042786?"},"repo":{"id":453091377,"name":"JiaT75/XZ_Utils_Unofficial","url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial"},"payload":{"action":"closed","issue":{"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/issues/39","repository_url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial","labels_url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/issues/39/labels{/name}","comments_url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/issues/39/comments","events_url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/issues/39/events","html_url":"https://github.com/JiaT75/XZ_Utils_Unofficial/issues/39","id":1303560909,"node_id":"I_kwDOGwGgMc5NssLN","number":39,"title":"Import recent changes from zgrep to xzgrep","user":{"login":"JiaT75","id":78042786,"node_id":"MDQ6VXNlcjc4MDQyNzg2","avatar_url":"https://avatars.githubusercontent.com/u/78042786?v=4","gravatar_id":"","url":"https://api.github.com/users/JiaT75","html_url":"https://github.com/JiaT75","followers_url":"https://api.github.com/users/JiaT75/followers","following_url":"https://api.github.com/users/JiaT75/following{/other_user}","gists_url":"https://api.github.com/users/JiaT75/gists{/gist_id}","starred_url":"https://api.github.com/users/JiaT75/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JiaT75/subscriptions","organizations_url":"https://api.github.com/users/JiaT75/orgs","repos_url":"https://api.github.com/users/JiaT75/repos","events_url":"https://api.github.com/users/JiaT75/events{/privacy}","received_events_url":"https://api.github.com/users/JiaT75/received_events","type":"User","site_admin":false},"labels":[{"id":4324258621,"node_id":"LA_kwDOGwGgMc8AAAABAb7zPQ","url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/labels/5.2.6","name":"5.2.6","color":"bfdadc","default":false,"description":"Required Task for 5.2.6 Release"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-07-13T14:55:59Z","updated_at":"2022-08-08T14:16:31Z","closed_at":"2022-08-08T14:16:31Z","author_association":"OWNER","active_lock_reason":null,"body":"A few bugs have been fixed and improvements made. This will require changing the license from GPLv2 to GPLv3.","reactions":{"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/issues/39/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/issues/39/timeline","performed_via_github_app":null,"state_reason":"completed"}},"public":true,"created_at":"2022-08-08T14:16:31Z"}
