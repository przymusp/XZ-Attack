{"id":"36134796533","type":"PullRequestReviewCommentEvent","actor":{"id":8733039,"login":"xry111","display_login":"xry111","gravatar_id":"","url":"https://api.github.com/users/xry111","avatar_url":"https://avatars.githubusercontent.com/u/8733039?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507930070","pull_request_review_id":1909458303,"id":1507930070,"node_id":"PRRC_kwDOIQBEvs5Z4S_W","diff_hunk":"@@ -1152,6 +1160,45 @@ AS_IF([test \"x$enable_arm64_crc32\" = xyes], [\n \tAC_CHECK_FUNCS([getauxval elf_aux_info sysctlbyname])\n ])\n \n+# LoongArch Intrinsics define CRC32 functions in larchintrin.h.\n+# These are supported by at least GCC and Clang.\n+AC_MSG_CHECKING([if LoongArch CRC32 instruction is usable])\n+AS_IF([test \"x$enable_loongarch_crc32\" = xno], [\n+\tAC_MSG_RESULT([no, --disable-loongarch-crc32 was used])\n+], [\n+\t# Set -Werror here because -Wimplicit-function-declaration was\n+\t# only a warning in GCC <= 13. This does not need to be done\n+\t# with CMake because tests will attempt to link and the error\n+\t# will be reported then.\n+\tOLD_CFLAGS=\"$CFLAGS\"\n+\tCFLAGS=\"$CFLAGS -Werror\"\n+\n+\tAC_COMPILE_IFELSE([AC_LANG_SOURCE([[\n+#include <larchintrin.h>\n+#include <stdint.h>","path":"configure.ac","commit_id":"9282d42b4b81c271222ab93fe0e6fc8196fa8c0b","original_commit_id":"4023849b644a3df3e170cba4a551e11737192447","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":"Done.","created_at":"2024-02-29T17:19:49Z","updated_at":"2024-02-29T17:19:49Z","html_url":"https://github.com/tukaani-project/xz/pull/86#discussion_r1507930070","pull_request_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","author_association":"NONE","_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507930070"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86#discussion_r1507930070"},"pull_request":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"}},"reactions":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507930070/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"start_line":null,"original_start_line":null,"start_side":null,"line":null,"original_line":1178,"side":"RIGHT","in_reply_to_id":1507879564,"original_position":34,"position":null,"subject_type":"line"},"pull_request":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","id":1742149263,"node_id":"PR_kwDOIQBEvs5n1xaP","html_url":"https://github.com/tukaani-project/xz/pull/86","diff_url":"https://github.com/tukaani-project/xz/pull/86.diff","patch_url":"https://github.com/tukaani-project/xz/pull/86.patch","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/86","number":86,"state":"open","locked":false,"title":"Speed up CRC32 calculation on LoongArch","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":"## Pull request checklist\r\n\r\nPlease check if your PR fulfills the following requirements:\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been reviewed and added / updated if needed (for bug fixes / features)\r\n- [x] Build was run locally and without warnings or errors\r\n- [x] All previous and new tests pass\r\n\r\n\r\n## Pull request type\r\n\r\n<!-- Please try to limit your pull request to one type, submit multiple\r\npull requests if needed. --> \r\n\r\nPlease check the type of change your PR introduces:\r\n- [x] Feature\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying. -->\r\n\r\nOn LoongArch the generic table-based CRC32 implementation is used.\r\n\r\n<!-- Related issue this PR addresses, if applicable -->\r\nRelated Issue URL: None\r\n\r\n\r\n## What is the new behavior?\r\n\r\nThe crc.w.{b/h/w/d}.w instructions in LoongArch can calculate the CRC32 result for 1/2/4/8 bytes in a single operation, making the use of LoongArch CRC32 instructions much faster compared to the general CRC32 algorithm.\r\n\r\nOptimized CRC32 will be enabled if the kernel declares the LoongArch CRC32 instructions supported via AT_HWCAP.\r\n\r\n## Does this introduce a breaking change?\r\n\r\n- [x] No\r\n\r\n<!-- If this introduces a breaking change, please describe the impact and\r\nmigration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\n<!-- Any other information that is important to this PR. -->","created_at":"2024-02-25T12:26:01Z","updated_at":"2024-02-29T17:19:49Z","closed_at":null,"merged_at":null,"merge_commit_sha":"b84aad407d67e3a99e5c26319d40e16cf02dee77","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits","review_comments_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments","review_comment_url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/9282d42b4b81c271222ab93fe0e6fc8196fa8c0b","head":{"label":"xry111:xry111/loongarch-crc","ref":"xry111/loongarch-crc","sha":"9282d42b4b81c271222ab93fe0e6fc8196fa8c0b","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"repo":{"id":763044910,"node_id":"R_kgDOLXskLg","name":"xz","full_name":"xry111/xz","private":false,"owner":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"html_url":"https://github.com/xry111/xz","description":"XZ Utils","fork":true,"url":"https://api.github.com/repos/xry111/xz","forks_url":"https://api.github.com/repos/xry111/xz/forks","keys_url":"https://api.github.com/repos/xry111/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xry111/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xry111/xz/teams","hooks_url":"https://api.github.com/repos/xry111/xz/hooks","issue_events_url":"https://api.github.com/repos/xry111/xz/issues/events{/number}","events_url":"https://api.github.com/repos/xry111/xz/events","assignees_url":"https://api.github.com/repos/xry111/xz/assignees{/user}","branches_url":"https://api.github.com/repos/xry111/xz/branches{/branch}","tags_url":"https://api.github.com/repos/xry111/xz/tags","blobs_url":"https://api.github.com/repos/xry111/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xry111/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xry111/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/xry111/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xry111/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/xry111/xz/languages","stargazers_url":"https://api.github.com/repos/xry111/xz/stargazers","contributors_url":"https://api.github.com/repos/xry111/xz/contributors","subscribers_url":"https://api.github.com/repos/xry111/xz/subscribers","subscription_url":"https://api.github.com/repos/xry111/xz/subscription","commits_url":"https://api.github.com/repos/xry111/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/xry111/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/xry111/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/xry111/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/xry111/xz/contents/{+path}","compare_url":"https://api.github.com/repos/xry111/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xry111/xz/merges","archive_url":"https://api.github.com/repos/xry111/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xry111/xz/downloads","issues_url":"https://api.github.com/repos/xry111/xz/issues{/number}","pulls_url":"https://api.github.com/repos/xry111/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/xry111/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/xry111/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xry111/xz/labels{/name}","releases_url":"https://api.github.com/repos/xry111/xz/releases{/id}","deployments_url":"https://api.github.com/repos/xry111/xz/deployments","created_at":"2024-02-25T12:15:50Z","updated_at":"2024-02-25T12:15:50Z","pushed_at":"2024-02-29T17:18:53Z","git_url":"git://github.com/xry111/xz.git","ssh_url":"git@github.com:xry111/xz.git","clone_url":"https://github.com/xry111/xz.git","svn_url":"https://github.com/xry111/xz","homepage":"https://xz.tukaani.org/xz-utils","size":4532,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"tukaani-project:master","ref":"master","sha":"5f3d0595296cc3035eae9e7bb6c3ffb1e1267333","user":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"repo":{"id":553665726,"node_id":"R_kgDOIQBEvg","name":"xz","full_name":"tukaani-project/xz","private":false,"owner":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/tukaani-project/xz","description":"XZ Utils","fork":false,"url":"https://api.github.com/repos/tukaani-project/xz","forks_url":"https://api.github.com/repos/tukaani-project/xz/forks","keys_url":"https://api.github.com/repos/tukaani-project/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tukaani-project/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tukaani-project/xz/teams","hooks_url":"https://api.github.com/repos/tukaani-project/xz/hooks","issue_events_url":"https://api.github.com/repos/tukaani-project/xz/issues/events{/number}","events_url":"https://api.github.com/repos/tukaani-project/xz/events","assignees_url":"https://api.github.com/repos/tukaani-project/xz/assignees{/user}","branches_url":"https://api.github.com/repos/tukaani-project/xz/branches{/branch}","tags_url":"https://api.github.com/repos/tukaani-project/xz/tags","blobs_url":"https://api.github.com/repos/tukaani-project/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tukaani-project/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tukaani-project/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/tukaani-project/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/tukaani-project/xz/languages","stargazers_url":"https://api.github.com/repos/tukaani-project/xz/stargazers","contributors_url":"https://api.github.com/repos/tukaani-project/xz/contributors","subscribers_url":"https://api.github.com/repos/tukaani-project/xz/subscribers","subscription_url":"https://api.github.com/repos/tukaani-project/xz/subscription","commits_url":"https://api.github.com/repos/tukaani-project/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/tukaani-project/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/tukaani-project/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/tukaani-project/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/tukaani-project/xz/contents/{+path}","compare_url":"https://api.github.com/repos/tukaani-project/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tukaani-project/xz/merges","archive_url":"https://api.github.com/repos/tukaani-project/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tukaani-project/xz/downloads","issues_url":"https://api.github.com/repos/tukaani-project/xz/issues{/number}","pulls_url":"https://api.github.com/repos/tukaani-project/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/tukaani-project/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/tukaani-project/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tukaani-project/xz/labels{/name}","releases_url":"https://api.github.com/repos/tukaani-project/xz/releases{/id}","deployments_url":"https://api.github.com/repos/tukaani-project/xz/deployments","created_at":"2022-10-18T15:11:36Z","updated_at":"2024-02-29T06:25:51Z","pushed_at":"2024-02-29T17:18:55Z","git_url":"git://github.com/tukaani-project/xz.git","ssh_url":"git@github.com:tukaani-project/xz.git","clone_url":"https://github.com/tukaani-project/xz.git","svn_url":"https://github.com/tukaani-project/xz","homepage":"https://xz.tukaani.org/xz-utils","size":5032,"stargazers_count":154,"watchers_count":154,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":47,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":7,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","cli","compression","library"],"visibility":"public","forks":47,"open_issues":7,"watchers":154,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86"},"issue":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86"},"comments":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments"},"review_comments":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments"},"review_comment":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits"},"statuses":{"href":"https://api.github.com/repos/tukaani-project/xz/statuses/9282d42b4b81c271222ab93fe0e6fc8196fa8c0b"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2024-02-29T17:19:49Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"36134796522","type":"PullRequestReviewEvent","actor":{"id":8733039,"login":"xry111","display_login":"xry111","gravatar_id":"","url":"https://api.github.com/users/xry111","avatar_url":"https://avatars.githubusercontent.com/u/8733039?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","review":{"id":1909458303,"node_id":"PRR_kwDOIQBEvs5x0AV_","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":null,"commit_id":"4023849b644a3df3e170cba4a551e11737192447","submitted_at":"2024-02-29T17:19:49Z","state":"commented","html_url":"https://github.com/tukaani-project/xz/pull/86#pullrequestreview-1909458303","pull_request_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","author_association":"NONE","_links":{"html":{"href":"https://github.com/tukaani-project/xz/pull/86#pullrequestreview-1909458303"},"pull_request":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"}}},"pull_request":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","id":1742149263,"node_id":"PR_kwDOIQBEvs5n1xaP","html_url":"https://github.com/tukaani-project/xz/pull/86","diff_url":"https://github.com/tukaani-project/xz/pull/86.diff","patch_url":"https://github.com/tukaani-project/xz/pull/86.patch","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/86","number":86,"state":"open","locked":false,"title":"Speed up CRC32 calculation on LoongArch","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":"## Pull request checklist\r\n\r\nPlease check if your PR fulfills the following requirements:\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been reviewed and added / updated if needed (for bug fixes / features)\r\n- [x] Build was run locally and without warnings or errors\r\n- [x] All previous and new tests pass\r\n\r\n\r\n## Pull request type\r\n\r\n<!-- Please try to limit your pull request to one type, submit multiple\r\npull requests if needed. --> \r\n\r\nPlease check the type of change your PR introduces:\r\n- [x] Feature\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying. -->\r\n\r\nOn LoongArch the generic table-based CRC32 implementation is used.\r\n\r\n<!-- Related issue this PR addresses, if applicable -->\r\nRelated Issue URL: None\r\n\r\n\r\n## What is the new behavior?\r\n\r\nThe crc.w.{b/h/w/d}.w instructions in LoongArch can calculate the CRC32 result for 1/2/4/8 bytes in a single operation, making the use of LoongArch CRC32 instructions much faster compared to the general CRC32 algorithm.\r\n\r\nOptimized CRC32 will be enabled if the kernel declares the LoongArch CRC32 instructions supported via AT_HWCAP.\r\n\r\n## Does this introduce a breaking change?\r\n\r\n- [x] No\r\n\r\n<!-- If this introduces a breaking change, please describe the impact and\r\nmigration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\n<!-- Any other information that is important to this PR. -->","created_at":"2024-02-25T12:26:01Z","updated_at":"2024-02-29T17:19:49Z","closed_at":null,"merged_at":null,"merge_commit_sha":"b84aad407d67e3a99e5c26319d40e16cf02dee77","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits","review_comments_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments","review_comment_url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/9282d42b4b81c271222ab93fe0e6fc8196fa8c0b","head":{"label":"xry111:xry111/loongarch-crc","ref":"xry111/loongarch-crc","sha":"9282d42b4b81c271222ab93fe0e6fc8196fa8c0b","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"repo":{"id":763044910,"node_id":"R_kgDOLXskLg","name":"xz","full_name":"xry111/xz","private":false,"owner":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"html_url":"https://github.com/xry111/xz","description":"XZ Utils","fork":true,"url":"https://api.github.com/repos/xry111/xz","forks_url":"https://api.github.com/repos/xry111/xz/forks","keys_url":"https://api.github.com/repos/xry111/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xry111/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xry111/xz/teams","hooks_url":"https://api.github.com/repos/xry111/xz/hooks","issue_events_url":"https://api.github.com/repos/xry111/xz/issues/events{/number}","events_url":"https://api.github.com/repos/xry111/xz/events","assignees_url":"https://api.github.com/repos/xry111/xz/assignees{/user}","branches_url":"https://api.github.com/repos/xry111/xz/branches{/branch}","tags_url":"https://api.github.com/repos/xry111/xz/tags","blobs_url":"https://api.github.com/repos/xry111/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xry111/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xry111/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/xry111/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xry111/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/xry111/xz/languages","stargazers_url":"https://api.github.com/repos/xry111/xz/stargazers","contributors_url":"https://api.github.com/repos/xry111/xz/contributors","subscribers_url":"https://api.github.com/repos/xry111/xz/subscribers","subscription_url":"https://api.github.com/repos/xry111/xz/subscription","commits_url":"https://api.github.com/repos/xry111/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/xry111/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/xry111/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/xry111/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/xry111/xz/contents/{+path}","compare_url":"https://api.github.com/repos/xry111/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xry111/xz/merges","archive_url":"https://api.github.com/repos/xry111/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xry111/xz/downloads","issues_url":"https://api.github.com/repos/xry111/xz/issues{/number}","pulls_url":"https://api.github.com/repos/xry111/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/xry111/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/xry111/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xry111/xz/labels{/name}","releases_url":"https://api.github.com/repos/xry111/xz/releases{/id}","deployments_url":"https://api.github.com/repos/xry111/xz/deployments","created_at":"2024-02-25T12:15:50Z","updated_at":"2024-02-25T12:15:50Z","pushed_at":"2024-02-29T17:18:53Z","git_url":"git://github.com/xry111/xz.git","ssh_url":"git@github.com:xry111/xz.git","clone_url":"https://github.com/xry111/xz.git","svn_url":"https://github.com/xry111/xz","homepage":"https://xz.tukaani.org/xz-utils","size":4532,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"tukaani-project:master","ref":"master","sha":"5f3d0595296cc3035eae9e7bb6c3ffb1e1267333","user":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"repo":{"id":553665726,"node_id":"R_kgDOIQBEvg","name":"xz","full_name":"tukaani-project/xz","private":false,"owner":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/tukaani-project/xz","description":"XZ Utils","fork":false,"url":"https://api.github.com/repos/tukaani-project/xz","forks_url":"https://api.github.com/repos/tukaani-project/xz/forks","keys_url":"https://api.github.com/repos/tukaani-project/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tukaani-project/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tukaani-project/xz/teams","hooks_url":"https://api.github.com/repos/tukaani-project/xz/hooks","issue_events_url":"https://api.github.com/repos/tukaani-project/xz/issues/events{/number}","events_url":"https://api.github.com/repos/tukaani-project/xz/events","assignees_url":"https://api.github.com/repos/tukaani-project/xz/assignees{/user}","branches_url":"https://api.github.com/repos/tukaani-project/xz/branches{/branch}","tags_url":"https://api.github.com/repos/tukaani-project/xz/tags","blobs_url":"https://api.github.com/repos/tukaani-project/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tukaani-project/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tukaani-project/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/tukaani-project/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/tukaani-project/xz/languages","stargazers_url":"https://api.github.com/repos/tukaani-project/xz/stargazers","contributors_url":"https://api.github.com/repos/tukaani-project/xz/contributors","subscribers_url":"https://api.github.com/repos/tukaani-project/xz/subscribers","subscription_url":"https://api.github.com/repos/tukaani-project/xz/subscription","commits_url":"https://api.github.com/repos/tukaani-project/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/tukaani-project/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/tukaani-project/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/tukaani-project/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/tukaani-project/xz/contents/{+path}","compare_url":"https://api.github.com/repos/tukaani-project/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tukaani-project/xz/merges","archive_url":"https://api.github.com/repos/tukaani-project/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tukaani-project/xz/downloads","issues_url":"https://api.github.com/repos/tukaani-project/xz/issues{/number}","pulls_url":"https://api.github.com/repos/tukaani-project/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/tukaani-project/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/tukaani-project/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tukaani-project/xz/labels{/name}","releases_url":"https://api.github.com/repos/tukaani-project/xz/releases{/id}","deployments_url":"https://api.github.com/repos/tukaani-project/xz/deployments","created_at":"2022-10-18T15:11:36Z","updated_at":"2024-02-29T06:25:51Z","pushed_at":"2024-02-29T17:18:55Z","git_url":"git://github.com/tukaani-project/xz.git","ssh_url":"git@github.com:tukaani-project/xz.git","clone_url":"https://github.com/tukaani-project/xz.git","svn_url":"https://github.com/tukaani-project/xz","homepage":"https://xz.tukaani.org/xz-utils","size":5032,"stargazers_count":154,"watchers_count":154,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":47,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":7,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","cli","compression","library"],"visibility":"public","forks":47,"open_issues":7,"watchers":154,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86"},"issue":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86"},"comments":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments"},"review_comments":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments"},"review_comment":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits"},"statuses":{"href":"https://api.github.com/repos/tukaani-project/xz/statuses/9282d42b4b81c271222ab93fe0e6fc8196fa8c0b"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2024-02-29T17:19:50Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"36134831985","type":"PullRequestReviewCommentEvent","actor":{"id":8733039,"login":"xry111","display_login":"xry111","gravatar_id":"","url":"https://api.github.com/users/xry111","avatar_url":"https://avatars.githubusercontent.com/u/8733039?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507931307","pull_request_review_id":1909460231,"id":1507931307,"node_id":"PRRC_kwDOIQBEvs5Z4TSr","diff_hunk":"","path":"CMakeLists.txt","commit_id":"4023849b644a3df3e170cba4a551e11737192447","original_commit_id":"4023849b644a3df3e170cba4a551e11737192447","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":"Done.","created_at":"2024-02-29T17:20:50Z","updated_at":"2024-02-29T17:20:50Z","html_url":"https://github.com/tukaani-project/xz/pull/86#discussion_r1507931307","pull_request_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","author_association":"NONE","_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507931307"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86#discussion_r1507931307"},"pull_request":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"}},"reactions":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507931307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"start_line":null,"original_start_line":null,"start_side":null,"line":1,"original_line":1,"side":"RIGHT","in_reply_to_id":1507891253,"original_position":1,"position":1,"subject_type":"file"},"pull_request":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","id":1742149263,"node_id":"PR_kwDOIQBEvs5n1xaP","html_url":"https://github.com/tukaani-project/xz/pull/86","diff_url":"https://github.com/tukaani-project/xz/pull/86.diff","patch_url":"https://github.com/tukaani-project/xz/pull/86.patch","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/86","number":86,"state":"open","locked":false,"title":"Speed up CRC32 calculation on LoongArch","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":"## Pull request checklist\r\n\r\nPlease check if your PR fulfills the following requirements:\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been reviewed and added / updated if needed (for bug fixes / features)\r\n- [x] Build was run locally and without warnings or errors\r\n- [x] All previous and new tests pass\r\n\r\n\r\n## Pull request type\r\n\r\n<!-- Please try to limit your pull request to one type, submit multiple\r\npull requests if needed. --> \r\n\r\nPlease check the type of change your PR introduces:\r\n- [x] Feature\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying. -->\r\n\r\nOn LoongArch the generic table-based CRC32 implementation is used.\r\n\r\n<!-- Related issue this PR addresses, if applicable -->\r\nRelated Issue URL: None\r\n\r\n\r\n## What is the new behavior?\r\n\r\nThe crc.w.{b/h/w/d}.w instructions in LoongArch can calculate the CRC32 result for 1/2/4/8 bytes in a single operation, making the use of LoongArch CRC32 instructions much faster compared to the general CRC32 algorithm.\r\n\r\nOptimized CRC32 will be enabled if the kernel declares the LoongArch CRC32 instructions supported via AT_HWCAP.\r\n\r\n## Does this introduce a breaking change?\r\n\r\n- [x] No\r\n\r\n<!-- If this introduces a breaking change, please describe the impact and\r\nmigration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\n<!-- Any other information that is important to this PR. -->","created_at":"2024-02-25T12:26:01Z","updated_at":"2024-02-29T17:20:50Z","closed_at":null,"merged_at":null,"merge_commit_sha":"b84aad407d67e3a99e5c26319d40e16cf02dee77","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits","review_comments_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments","review_comment_url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/9282d42b4b81c271222ab93fe0e6fc8196fa8c0b","head":{"label":"xry111:xry111/loongarch-crc","ref":"xry111/loongarch-crc","sha":"9282d42b4b81c271222ab93fe0e6fc8196fa8c0b","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"repo":{"id":763044910,"node_id":"R_kgDOLXskLg","name":"xz","full_name":"xry111/xz","private":false,"owner":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"html_url":"https://github.com/xry111/xz","description":"XZ Utils","fork":true,"url":"https://api.github.com/repos/xry111/xz","forks_url":"https://api.github.com/repos/xry111/xz/forks","keys_url":"https://api.github.com/repos/xry111/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xry111/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xry111/xz/teams","hooks_url":"https://api.github.com/repos/xry111/xz/hooks","issue_events_url":"https://api.github.com/repos/xry111/xz/issues/events{/number}","events_url":"https://api.github.com/repos/xry111/xz/events","assignees_url":"https://api.github.com/repos/xry111/xz/assignees{/user}","branches_url":"https://api.github.com/repos/xry111/xz/branches{/branch}","tags_url":"https://api.github.com/repos/xry111/xz/tags","blobs_url":"https://api.github.com/repos/xry111/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xry111/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xry111/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/xry111/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xry111/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/xry111/xz/languages","stargazers_url":"https://api.github.com/repos/xry111/xz/stargazers","contributors_url":"https://api.github.com/repos/xry111/xz/contributors","subscribers_url":"https://api.github.com/repos/xry111/xz/subscribers","subscription_url":"https://api.github.com/repos/xry111/xz/subscription","commits_url":"https://api.github.com/repos/xry111/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/xry111/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/xry111/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/xry111/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/xry111/xz/contents/{+path}","compare_url":"https://api.github.com/repos/xry111/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xry111/xz/merges","archive_url":"https://api.github.com/repos/xry111/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xry111/xz/downloads","issues_url":"https://api.github.com/repos/xry111/xz/issues{/number}","pulls_url":"https://api.github.com/repos/xry111/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/xry111/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/xry111/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xry111/xz/labels{/name}","releases_url":"https://api.github.com/repos/xry111/xz/releases{/id}","deployments_url":"https://api.github.com/repos/xry111/xz/deployments","created_at":"2024-02-25T12:15:50Z","updated_at":"2024-02-25T12:15:50Z","pushed_at":"2024-02-29T17:18:53Z","git_url":"git://github.com/xry111/xz.git","ssh_url":"git@github.com:xry111/xz.git","clone_url":"https://github.com/xry111/xz.git","svn_url":"https://github.com/xry111/xz","homepage":"https://xz.tukaani.org/xz-utils","size":4532,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"tukaani-project:master","ref":"master","sha":"5f3d0595296cc3035eae9e7bb6c3ffb1e1267333","user":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"repo":{"id":553665726,"node_id":"R_kgDOIQBEvg","name":"xz","full_name":"tukaani-project/xz","private":false,"owner":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/tukaani-project/xz","description":"XZ Utils","fork":false,"url":"https://api.github.com/repos/tukaani-project/xz","forks_url":"https://api.github.com/repos/tukaani-project/xz/forks","keys_url":"https://api.github.com/repos/tukaani-project/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tukaani-project/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tukaani-project/xz/teams","hooks_url":"https://api.github.com/repos/tukaani-project/xz/hooks","issue_events_url":"https://api.github.com/repos/tukaani-project/xz/issues/events{/number}","events_url":"https://api.github.com/repos/tukaani-project/xz/events","assignees_url":"https://api.github.com/repos/tukaani-project/xz/assignees{/user}","branches_url":"https://api.github.com/repos/tukaani-project/xz/branches{/branch}","tags_url":"https://api.github.com/repos/tukaani-project/xz/tags","blobs_url":"https://api.github.com/repos/tukaani-project/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tukaani-project/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tukaani-project/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/tukaani-project/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/tukaani-project/xz/languages","stargazers_url":"https://api.github.com/repos/tukaani-project/xz/stargazers","contributors_url":"https://api.github.com/repos/tukaani-project/xz/contributors","subscribers_url":"https://api.github.com/repos/tukaani-project/xz/subscribers","subscription_url":"https://api.github.com/repos/tukaani-project/xz/subscription","commits_url":"https://api.github.com/repos/tukaani-project/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/tukaani-project/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/tukaani-project/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/tukaani-project/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/tukaani-project/xz/contents/{+path}","compare_url":"https://api.github.com/repos/tukaani-project/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tukaani-project/xz/merges","archive_url":"https://api.github.com/repos/tukaani-project/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tukaani-project/xz/downloads","issues_url":"https://api.github.com/repos/tukaani-project/xz/issues{/number}","pulls_url":"https://api.github.com/repos/tukaani-project/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/tukaani-project/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/tukaani-project/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tukaani-project/xz/labels{/name}","releases_url":"https://api.github.com/repos/tukaani-project/xz/releases{/id}","deployments_url":"https://api.github.com/repos/tukaani-project/xz/deployments","created_at":"2022-10-18T15:11:36Z","updated_at":"2024-02-29T06:25:51Z","pushed_at":"2024-02-29T17:18:55Z","git_url":"git://github.com/tukaani-project/xz.git","ssh_url":"git@github.com:tukaani-project/xz.git","clone_url":"https://github.com/tukaani-project/xz.git","svn_url":"https://github.com/tukaani-project/xz","homepage":"https://xz.tukaani.org/xz-utils","size":5032,"stargazers_count":154,"watchers_count":154,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":47,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":7,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","cli","compression","library"],"visibility":"public","forks":47,"open_issues":7,"watchers":154,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86"},"issue":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86"},"comments":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments"},"review_comments":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments"},"review_comment":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits"},"statuses":{"href":"https://api.github.com/repos/tukaani-project/xz/statuses/9282d42b4b81c271222ab93fe0e6fc8196fa8c0b"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2024-02-29T17:20:50Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"36134886746","type":"PullRequestReviewCommentEvent","actor":{"id":8733039,"login":"xry111","display_login":"xry111","gravatar_id":"","url":"https://api.github.com/users/xry111","avatar_url":"https://avatars.githubusercontent.com/u/8733039?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507933169","pull_request_review_id":1909463337,"id":1507933169,"node_id":"PRRC_kwDOIQBEvs5Z4Tvx","diff_hunk":"@@ -0,0 +1,107 @@\n+// SPDX-License-Identifier: 0BSD\n+\n+///////////////////////////////////////////////////////////////////////////////\n+//\n+/// \\file       crc32_loongarch.h\n+/// \\brief      CRC32 calculation with LoongArch optimization\n+//\n+//  Authors:    Xi Ruoyao\n+//\n+///////////////////////////////////////////////////////////////////////////////\n+\n+\n+#ifndef LZMA_CRC32_LOONGARCH_H\n+#define LZMA_CRC32_LOONGARCH_H\n+\n+#include <larchintrin.h>\n+#include <sys/auxv.h>\n+\n+// Defined in section 9.1 of\n+// \"Software Development and Build Convention for LoongArch Architectures\"\n+// (https://github.com/loongson/la-softdev-convention/).  Hard code it\n+// instead of including <bits/hwcap.h> for compatibility with Glibc <= 2.37.\n+#define HWCAP_LOONGARCH_CRC32 (1 << 6)","path":"src/liblzma/check/crc32_loongarch.h","commit_id":"9282d42b4b81c271222ab93fe0e6fc8196fa8c0b","original_commit_id":"4023849b644a3df3e170cba4a551e11737192447","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":"`<sys/auxv.h>` does not define `HWCAP_LOONGARCH_*`, it only defines `getauxval()`.\r\n\r\nIf you still think we should add an `#ifdef` here in case `HWCAP_LOONGARCH_*` is added into `auxv.h` in the future I can add it.","created_at":"2024-02-29T17:22:29Z","updated_at":"2024-02-29T17:22:29Z","html_url":"https://github.com/tukaani-project/xz/pull/86#discussion_r1507933169","pull_request_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","author_association":"NONE","_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507933169"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86#discussion_r1507933169"},"pull_request":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"}},"reactions":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507933169/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"start_line":null,"original_start_line":null,"start_side":null,"line":23,"original_line":23,"side":"RIGHT","in_reply_to_id":1507898651,"original_position":23,"position":23,"subject_type":"line"},"pull_request":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","id":1742149263,"node_id":"PR_kwDOIQBEvs5n1xaP","html_url":"https://github.com/tukaani-project/xz/pull/86","diff_url":"https://github.com/tukaani-project/xz/pull/86.diff","patch_url":"https://github.com/tukaani-project/xz/pull/86.patch","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/86","number":86,"state":"open","locked":false,"title":"Speed up CRC32 calculation on LoongArch","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":"## Pull request checklist\r\n\r\nPlease check if your PR fulfills the following requirements:\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been reviewed and added / updated if needed (for bug fixes / features)\r\n- [x] Build was run locally and without warnings or errors\r\n- [x] All previous and new tests pass\r\n\r\n\r\n## Pull request type\r\n\r\n<!-- Please try to limit your pull request to one type, submit multiple\r\npull requests if needed. --> \r\n\r\nPlease check the type of change your PR introduces:\r\n- [x] Feature\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying. -->\r\n\r\nOn LoongArch the generic table-based CRC32 implementation is used.\r\n\r\n<!-- Related issue this PR addresses, if applicable -->\r\nRelated Issue URL: None\r\n\r\n\r\n## What is the new behavior?\r\n\r\nThe crc.w.{b/h/w/d}.w instructions in LoongArch can calculate the CRC32 result for 1/2/4/8 bytes in a single operation, making the use of LoongArch CRC32 instructions much faster compared to the general CRC32 algorithm.\r\n\r\nOptimized CRC32 will be enabled if the kernel declares the LoongArch CRC32 instructions supported via AT_HWCAP.\r\n\r\n## Does this introduce a breaking change?\r\n\r\n- [x] No\r\n\r\n<!-- If this introduces a breaking change, please describe the impact and\r\nmigration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\n<!-- Any other information that is important to this PR. -->","created_at":"2024-02-25T12:26:01Z","updated_at":"2024-02-29T17:22:29Z","closed_at":null,"merged_at":null,"merge_commit_sha":"b84aad407d67e3a99e5c26319d40e16cf02dee77","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits","review_comments_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments","review_comment_url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/9282d42b4b81c271222ab93fe0e6fc8196fa8c0b","head":{"label":"xry111:xry111/loongarch-crc","ref":"xry111/loongarch-crc","sha":"9282d42b4b81c271222ab93fe0e6fc8196fa8c0b","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"repo":{"id":763044910,"node_id":"R_kgDOLXskLg","name":"xz","full_name":"xry111/xz","private":false,"owner":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"html_url":"https://github.com/xry111/xz","description":"XZ Utils","fork":true,"url":"https://api.github.com/repos/xry111/xz","forks_url":"https://api.github.com/repos/xry111/xz/forks","keys_url":"https://api.github.com/repos/xry111/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xry111/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xry111/xz/teams","hooks_url":"https://api.github.com/repos/xry111/xz/hooks","issue_events_url":"https://api.github.com/repos/xry111/xz/issues/events{/number}","events_url":"https://api.github.com/repos/xry111/xz/events","assignees_url":"https://api.github.com/repos/xry111/xz/assignees{/user}","branches_url":"https://api.github.com/repos/xry111/xz/branches{/branch}","tags_url":"https://api.github.com/repos/xry111/xz/tags","blobs_url":"https://api.github.com/repos/xry111/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xry111/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xry111/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/xry111/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xry111/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/xry111/xz/languages","stargazers_url":"https://api.github.com/repos/xry111/xz/stargazers","contributors_url":"https://api.github.com/repos/xry111/xz/contributors","subscribers_url":"https://api.github.com/repos/xry111/xz/subscribers","subscription_url":"https://api.github.com/repos/xry111/xz/subscription","commits_url":"https://api.github.com/repos/xry111/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/xry111/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/xry111/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/xry111/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/xry111/xz/contents/{+path}","compare_url":"https://api.github.com/repos/xry111/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xry111/xz/merges","archive_url":"https://api.github.com/repos/xry111/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xry111/xz/downloads","issues_url":"https://api.github.com/repos/xry111/xz/issues{/number}","pulls_url":"https://api.github.com/repos/xry111/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/xry111/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/xry111/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xry111/xz/labels{/name}","releases_url":"https://api.github.com/repos/xry111/xz/releases{/id}","deployments_url":"https://api.github.com/repos/xry111/xz/deployments","created_at":"2024-02-25T12:15:50Z","updated_at":"2024-02-25T12:15:50Z","pushed_at":"2024-02-29T17:18:53Z","git_url":"git://github.com/xry111/xz.git","ssh_url":"git@github.com:xry111/xz.git","clone_url":"https://github.com/xry111/xz.git","svn_url":"https://github.com/xry111/xz","homepage":"https://xz.tukaani.org/xz-utils","size":4532,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"tukaani-project:master","ref":"master","sha":"5f3d0595296cc3035eae9e7bb6c3ffb1e1267333","user":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"repo":{"id":553665726,"node_id":"R_kgDOIQBEvg","name":"xz","full_name":"tukaani-project/xz","private":false,"owner":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/tukaani-project/xz","description":"XZ Utils","fork":false,"url":"https://api.github.com/repos/tukaani-project/xz","forks_url":"https://api.github.com/repos/tukaani-project/xz/forks","keys_url":"https://api.github.com/repos/tukaani-project/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tukaani-project/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tukaani-project/xz/teams","hooks_url":"https://api.github.com/repos/tukaani-project/xz/hooks","issue_events_url":"https://api.github.com/repos/tukaani-project/xz/issues/events{/number}","events_url":"https://api.github.com/repos/tukaani-project/xz/events","assignees_url":"https://api.github.com/repos/tukaani-project/xz/assignees{/user}","branches_url":"https://api.github.com/repos/tukaani-project/xz/branches{/branch}","tags_url":"https://api.github.com/repos/tukaani-project/xz/tags","blobs_url":"https://api.github.com/repos/tukaani-project/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tukaani-project/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tukaani-project/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/tukaani-project/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/tukaani-project/xz/languages","stargazers_url":"https://api.github.com/repos/tukaani-project/xz/stargazers","contributors_url":"https://api.github.com/repos/tukaani-project/xz/contributors","subscribers_url":"https://api.github.com/repos/tukaani-project/xz/subscribers","subscription_url":"https://api.github.com/repos/tukaani-project/xz/subscription","commits_url":"https://api.github.com/repos/tukaani-project/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/tukaani-project/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/tukaani-project/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/tukaani-project/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/tukaani-project/xz/contents/{+path}","compare_url":"https://api.github.com/repos/tukaani-project/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tukaani-project/xz/merges","archive_url":"https://api.github.com/repos/tukaani-project/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tukaani-project/xz/downloads","issues_url":"https://api.github.com/repos/tukaani-project/xz/issues{/number}","pulls_url":"https://api.github.com/repos/tukaani-project/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/tukaani-project/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/tukaani-project/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tukaani-project/xz/labels{/name}","releases_url":"https://api.github.com/repos/tukaani-project/xz/releases{/id}","deployments_url":"https://api.github.com/repos/tukaani-project/xz/deployments","created_at":"2022-10-18T15:11:36Z","updated_at":"2024-02-29T06:25:51Z","pushed_at":"2024-02-29T17:18:55Z","git_url":"git://github.com/tukaani-project/xz.git","ssh_url":"git@github.com:tukaani-project/xz.git","clone_url":"https://github.com/tukaani-project/xz.git","svn_url":"https://github.com/tukaani-project/xz","homepage":"https://xz.tukaani.org/xz-utils","size":5032,"stargazers_count":154,"watchers_count":154,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":47,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":7,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","cli","compression","library"],"visibility":"public","forks":47,"open_issues":7,"watchers":154,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86"},"issue":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86"},"comments":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments"},"review_comments":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments"},"review_comment":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits"},"statuses":{"href":"https://api.github.com/repos/tukaani-project/xz/statuses/9282d42b4b81c271222ab93fe0e6fc8196fa8c0b"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2024-02-29T17:22:29Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"36134886688","type":"PullRequestReviewEvent","actor":{"id":8733039,"login":"xry111","display_login":"xry111","gravatar_id":"","url":"https://api.github.com/users/xry111","avatar_url":"https://avatars.githubusercontent.com/u/8733039?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","review":{"id":1909463337,"node_id":"PRR_kwDOIQBEvs5x0Bkp","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":null,"commit_id":"4023849b644a3df3e170cba4a551e11737192447","submitted_at":"2024-02-29T17:22:29Z","state":"commented","html_url":"https://github.com/tukaani-project/xz/pull/86#pullrequestreview-1909463337","pull_request_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","author_association":"NONE","_links":{"html":{"href":"https://github.com/tukaani-project/xz/pull/86#pullrequestreview-1909463337"},"pull_request":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"}}},"pull_request":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","id":1742149263,"node_id":"PR_kwDOIQBEvs5n1xaP","html_url":"https://github.com/tukaani-project/xz/pull/86","diff_url":"https://github.com/tukaani-project/xz/pull/86.diff","patch_url":"https://github.com/tukaani-project/xz/pull/86.patch","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/86","number":86,"state":"open","locked":false,"title":"Speed up CRC32 calculation on LoongArch","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":"## Pull request checklist\r\n\r\nPlease check if your PR fulfills the following requirements:\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been reviewed and added / updated if needed (for bug fixes / features)\r\n- [x] Build was run locally and without warnings or errors\r\n- [x] All previous and new tests pass\r\n\r\n\r\n## Pull request type\r\n\r\n<!-- Please try to limit your pull request to one type, submit multiple\r\npull requests if needed. --> \r\n\r\nPlease check the type of change your PR introduces:\r\n- [x] Feature\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying. -->\r\n\r\nOn LoongArch the generic table-based CRC32 implementation is used.\r\n\r\n<!-- Related issue this PR addresses, if applicable -->\r\nRelated Issue URL: None\r\n\r\n\r\n## What is the new behavior?\r\n\r\nThe crc.w.{b/h/w/d}.w instructions in LoongArch can calculate the CRC32 result for 1/2/4/8 bytes in a single operation, making the use of LoongArch CRC32 instructions much faster compared to the general CRC32 algorithm.\r\n\r\nOptimized CRC32 will be enabled if the kernel declares the LoongArch CRC32 instructions supported via AT_HWCAP.\r\n\r\n## Does this introduce a breaking change?\r\n\r\n- [x] No\r\n\r\n<!-- If this introduces a breaking change, please describe the impact and\r\nmigration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\n<!-- Any other information that is important to this PR. -->","created_at":"2024-02-25T12:26:01Z","updated_at":"2024-02-29T17:22:29Z","closed_at":null,"merged_at":null,"merge_commit_sha":"b84aad407d67e3a99e5c26319d40e16cf02dee77","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits","review_comments_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments","review_comment_url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/9282d42b4b81c271222ab93fe0e6fc8196fa8c0b","head":{"label":"xry111:xry111/loongarch-crc","ref":"xry111/loongarch-crc","sha":"9282d42b4b81c271222ab93fe0e6fc8196fa8c0b","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"repo":{"id":763044910,"node_id":"R_kgDOLXskLg","name":"xz","full_name":"xry111/xz","private":false,"owner":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"html_url":"https://github.com/xry111/xz","description":"XZ Utils","fork":true,"url":"https://api.github.com/repos/xry111/xz","forks_url":"https://api.github.com/repos/xry111/xz/forks","keys_url":"https://api.github.com/repos/xry111/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xry111/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xry111/xz/teams","hooks_url":"https://api.github.com/repos/xry111/xz/hooks","issue_events_url":"https://api.github.com/repos/xry111/xz/issues/events{/number}","events_url":"https://api.github.com/repos/xry111/xz/events","assignees_url":"https://api.github.com/repos/xry111/xz/assignees{/user}","branches_url":"https://api.github.com/repos/xry111/xz/branches{/branch}","tags_url":"https://api.github.com/repos/xry111/xz/tags","blobs_url":"https://api.github.com/repos/xry111/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xry111/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xry111/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/xry111/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xry111/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/xry111/xz/languages","stargazers_url":"https://api.github.com/repos/xry111/xz/stargazers","contributors_url":"https://api.github.com/repos/xry111/xz/contributors","subscribers_url":"https://api.github.com/repos/xry111/xz/subscribers","subscription_url":"https://api.github.com/repos/xry111/xz/subscription","commits_url":"https://api.github.com/repos/xry111/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/xry111/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/xry111/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/xry111/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/xry111/xz/contents/{+path}","compare_url":"https://api.github.com/repos/xry111/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xry111/xz/merges","archive_url":"https://api.github.com/repos/xry111/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xry111/xz/downloads","issues_url":"https://api.github.com/repos/xry111/xz/issues{/number}","pulls_url":"https://api.github.com/repos/xry111/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/xry111/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/xry111/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xry111/xz/labels{/name}","releases_url":"https://api.github.com/repos/xry111/xz/releases{/id}","deployments_url":"https://api.github.com/repos/xry111/xz/deployments","created_at":"2024-02-25T12:15:50Z","updated_at":"2024-02-25T12:15:50Z","pushed_at":"2024-02-29T17:18:53Z","git_url":"git://github.com/xry111/xz.git","ssh_url":"git@github.com:xry111/xz.git","clone_url":"https://github.com/xry111/xz.git","svn_url":"https://github.com/xry111/xz","homepage":"https://xz.tukaani.org/xz-utils","size":4532,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"tukaani-project:master","ref":"master","sha":"5f3d0595296cc3035eae9e7bb6c3ffb1e1267333","user":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"repo":{"id":553665726,"node_id":"R_kgDOIQBEvg","name":"xz","full_name":"tukaani-project/xz","private":false,"owner":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/tukaani-project/xz","description":"XZ Utils","fork":false,"url":"https://api.github.com/repos/tukaani-project/xz","forks_url":"https://api.github.com/repos/tukaani-project/xz/forks","keys_url":"https://api.github.com/repos/tukaani-project/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tukaani-project/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tukaani-project/xz/teams","hooks_url":"https://api.github.com/repos/tukaani-project/xz/hooks","issue_events_url":"https://api.github.com/repos/tukaani-project/xz/issues/events{/number}","events_url":"https://api.github.com/repos/tukaani-project/xz/events","assignees_url":"https://api.github.com/repos/tukaani-project/xz/assignees{/user}","branches_url":"https://api.github.com/repos/tukaani-project/xz/branches{/branch}","tags_url":"https://api.github.com/repos/tukaani-project/xz/tags","blobs_url":"https://api.github.com/repos/tukaani-project/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tukaani-project/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tukaani-project/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/tukaani-project/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/tukaani-project/xz/languages","stargazers_url":"https://api.github.com/repos/tukaani-project/xz/stargazers","contributors_url":"https://api.github.com/repos/tukaani-project/xz/contributors","subscribers_url":"https://api.github.com/repos/tukaani-project/xz/subscribers","subscription_url":"https://api.github.com/repos/tukaani-project/xz/subscription","commits_url":"https://api.github.com/repos/tukaani-project/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/tukaani-project/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/tukaani-project/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/tukaani-project/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/tukaani-project/xz/contents/{+path}","compare_url":"https://api.github.com/repos/tukaani-project/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tukaani-project/xz/merges","archive_url":"https://api.github.com/repos/tukaani-project/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tukaani-project/xz/downloads","issues_url":"https://api.github.com/repos/tukaani-project/xz/issues{/number}","pulls_url":"https://api.github.com/repos/tukaani-project/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/tukaani-project/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/tukaani-project/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tukaani-project/xz/labels{/name}","releases_url":"https://api.github.com/repos/tukaani-project/xz/releases{/id}","deployments_url":"https://api.github.com/repos/tukaani-project/xz/deployments","created_at":"2022-10-18T15:11:36Z","updated_at":"2024-02-29T06:25:51Z","pushed_at":"2024-02-29T17:18:55Z","git_url":"git://github.com/tukaani-project/xz.git","ssh_url":"git@github.com:tukaani-project/xz.git","clone_url":"https://github.com/tukaani-project/xz.git","svn_url":"https://github.com/tukaani-project/xz","homepage":"https://xz.tukaani.org/xz-utils","size":5032,"stargazers_count":154,"watchers_count":154,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":47,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":7,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","cli","compression","library"],"visibility":"public","forks":47,"open_issues":7,"watchers":154,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86"},"issue":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86"},"comments":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments"},"review_comments":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments"},"review_comment":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits"},"statuses":{"href":"https://api.github.com/repos/tukaani-project/xz/statuses/9282d42b4b81c271222ab93fe0e6fc8196fa8c0b"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2024-02-29T17:22:30Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"36134897674","type":"PullRequestReviewEvent","actor":{"id":8733039,"login":"xry111","display_login":"xry111","gravatar_id":"","url":"https://api.github.com/users/xry111","avatar_url":"https://avatars.githubusercontent.com/u/8733039?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","review":{"id":1909464170,"node_id":"PRR_kwDOIQBEvs5x0Bxq","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":null,"commit_id":"4023849b644a3df3e170cba4a551e11737192447","submitted_at":"2024-02-29T17:22:51Z","state":"commented","html_url":"https://github.com/tukaani-project/xz/pull/86#pullrequestreview-1909464170","pull_request_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","author_association":"NONE","_links":{"html":{"href":"https://github.com/tukaani-project/xz/pull/86#pullrequestreview-1909464170"},"pull_request":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"}}},"pull_request":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","id":1742149263,"node_id":"PR_kwDOIQBEvs5n1xaP","html_url":"https://github.com/tukaani-project/xz/pull/86","diff_url":"https://github.com/tukaani-project/xz/pull/86.diff","patch_url":"https://github.com/tukaani-project/xz/pull/86.patch","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/86","number":86,"state":"open","locked":false,"title":"Speed up CRC32 calculation on LoongArch","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":"## Pull request checklist\r\n\r\nPlease check if your PR fulfills the following requirements:\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been reviewed and added / updated if needed (for bug fixes / features)\r\n- [x] Build was run locally and without warnings or errors\r\n- [x] All previous and new tests pass\r\n\r\n\r\n## Pull request type\r\n\r\n<!-- Please try to limit your pull request to one type, submit multiple\r\npull requests if needed. --> \r\n\r\nPlease check the type of change your PR introduces:\r\n- [x] Feature\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying. -->\r\n\r\nOn LoongArch the generic table-based CRC32 implementation is used.\r\n\r\n<!-- Related issue this PR addresses, if applicable -->\r\nRelated Issue URL: None\r\n\r\n\r\n## What is the new behavior?\r\n\r\nThe crc.w.{b/h/w/d}.w instructions in LoongArch can calculate the CRC32 result for 1/2/4/8 bytes in a single operation, making the use of LoongArch CRC32 instructions much faster compared to the general CRC32 algorithm.\r\n\r\nOptimized CRC32 will be enabled if the kernel declares the LoongArch CRC32 instructions supported via AT_HWCAP.\r\n\r\n## Does this introduce a breaking change?\r\n\r\n- [x] No\r\n\r\n<!-- If this introduces a breaking change, please describe the impact and\r\nmigration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\n<!-- Any other information that is important to this PR. -->","created_at":"2024-02-25T12:26:01Z","updated_at":"2024-02-29T17:22:51Z","closed_at":null,"merged_at":null,"merge_commit_sha":"b84aad407d67e3a99e5c26319d40e16cf02dee77","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits","review_comments_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments","review_comment_url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/9282d42b4b81c271222ab93fe0e6fc8196fa8c0b","head":{"label":"xry111:xry111/loongarch-crc","ref":"xry111/loongarch-crc","sha":"9282d42b4b81c271222ab93fe0e6fc8196fa8c0b","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"repo":{"id":763044910,"node_id":"R_kgDOLXskLg","name":"xz","full_name":"xry111/xz","private":false,"owner":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"html_url":"https://github.com/xry111/xz","description":"XZ Utils","fork":true,"url":"https://api.github.com/repos/xry111/xz","forks_url":"https://api.github.com/repos/xry111/xz/forks","keys_url":"https://api.github.com/repos/xry111/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xry111/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xry111/xz/teams","hooks_url":"https://api.github.com/repos/xry111/xz/hooks","issue_events_url":"https://api.github.com/repos/xry111/xz/issues/events{/number}","events_url":"https://api.github.com/repos/xry111/xz/events","assignees_url":"https://api.github.com/repos/xry111/xz/assignees{/user}","branches_url":"https://api.github.com/repos/xry111/xz/branches{/branch}","tags_url":"https://api.github.com/repos/xry111/xz/tags","blobs_url":"https://api.github.com/repos/xry111/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xry111/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xry111/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/xry111/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xry111/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/xry111/xz/languages","stargazers_url":"https://api.github.com/repos/xry111/xz/stargazers","contributors_url":"https://api.github.com/repos/xry111/xz/contributors","subscribers_url":"https://api.github.com/repos/xry111/xz/subscribers","subscription_url":"https://api.github.com/repos/xry111/xz/subscription","commits_url":"https://api.github.com/repos/xry111/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/xry111/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/xry111/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/xry111/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/xry111/xz/contents/{+path}","compare_url":"https://api.github.com/repos/xry111/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xry111/xz/merges","archive_url":"https://api.github.com/repos/xry111/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xry111/xz/downloads","issues_url":"https://api.github.com/repos/xry111/xz/issues{/number}","pulls_url":"https://api.github.com/repos/xry111/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/xry111/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/xry111/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xry111/xz/labels{/name}","releases_url":"https://api.github.com/repos/xry111/xz/releases{/id}","deployments_url":"https://api.github.com/repos/xry111/xz/deployments","created_at":"2024-02-25T12:15:50Z","updated_at":"2024-02-25T12:15:50Z","pushed_at":"2024-02-29T17:18:53Z","git_url":"git://github.com/xry111/xz.git","ssh_url":"git@github.com:xry111/xz.git","clone_url":"https://github.com/xry111/xz.git","svn_url":"https://github.com/xry111/xz","homepage":"https://xz.tukaani.org/xz-utils","size":4532,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"tukaani-project:master","ref":"master","sha":"5f3d0595296cc3035eae9e7bb6c3ffb1e1267333","user":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"repo":{"id":553665726,"node_id":"R_kgDOIQBEvg","name":"xz","full_name":"tukaani-project/xz","private":false,"owner":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/tukaani-project/xz","description":"XZ Utils","fork":false,"url":"https://api.github.com/repos/tukaani-project/xz","forks_url":"https://api.github.com/repos/tukaani-project/xz/forks","keys_url":"https://api.github.com/repos/tukaani-project/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tukaani-project/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tukaani-project/xz/teams","hooks_url":"https://api.github.com/repos/tukaani-project/xz/hooks","issue_events_url":"https://api.github.com/repos/tukaani-project/xz/issues/events{/number}","events_url":"https://api.github.com/repos/tukaani-project/xz/events","assignees_url":"https://api.github.com/repos/tukaani-project/xz/assignees{/user}","branches_url":"https://api.github.com/repos/tukaani-project/xz/branches{/branch}","tags_url":"https://api.github.com/repos/tukaani-project/xz/tags","blobs_url":"https://api.github.com/repos/tukaani-project/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tukaani-project/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tukaani-project/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/tukaani-project/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/tukaani-project/xz/languages","stargazers_url":"https://api.github.com/repos/tukaani-project/xz/stargazers","contributors_url":"https://api.github.com/repos/tukaani-project/xz/contributors","subscribers_url":"https://api.github.com/repos/tukaani-project/xz/subscribers","subscription_url":"https://api.github.com/repos/tukaani-project/xz/subscription","commits_url":"https://api.github.com/repos/tukaani-project/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/tukaani-project/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/tukaani-project/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/tukaani-project/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/tukaani-project/xz/contents/{+path}","compare_url":"https://api.github.com/repos/tukaani-project/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tukaani-project/xz/merges","archive_url":"https://api.github.com/repos/tukaani-project/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tukaani-project/xz/downloads","issues_url":"https://api.github.com/repos/tukaani-project/xz/issues{/number}","pulls_url":"https://api.github.com/repos/tukaani-project/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/tukaani-project/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/tukaani-project/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tukaani-project/xz/labels{/name}","releases_url":"https://api.github.com/repos/tukaani-project/xz/releases{/id}","deployments_url":"https://api.github.com/repos/tukaani-project/xz/deployments","created_at":"2022-10-18T15:11:36Z","updated_at":"2024-02-29T06:25:51Z","pushed_at":"2024-02-29T17:18:55Z","git_url":"git://github.com/tukaani-project/xz.git","ssh_url":"git@github.com:tukaani-project/xz.git","clone_url":"https://github.com/tukaani-project/xz.git","svn_url":"https://github.com/tukaani-project/xz","homepage":"https://xz.tukaani.org/xz-utils","size":5032,"stargazers_count":154,"watchers_count":154,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":47,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":7,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","cli","compression","library"],"visibility":"public","forks":47,"open_issues":7,"watchers":154,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86"},"issue":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86"},"comments":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments"},"review_comments":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments"},"review_comment":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits"},"statuses":{"href":"https://api.github.com/repos/tukaani-project/xz/statuses/9282d42b4b81c271222ab93fe0e6fc8196fa8c0b"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2024-02-29T17:22:51Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"36134897741","type":"PullRequestReviewCommentEvent","actor":{"id":8733039,"login":"xry111","display_login":"xry111","gravatar_id":"","url":"https://api.github.com/users/xry111","avatar_url":"https://avatars.githubusercontent.com/u/8733039?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507933611","pull_request_review_id":1909464170,"id":1507933611,"node_id":"PRRC_kwDOIQBEvs5Z4T2r","diff_hunk":"@@ -0,0 +1,107 @@\n+// SPDX-License-Identifier: 0BSD\n+\n+///////////////////////////////////////////////////////////////////////////////\n+//\n+/// \\file       crc32_loongarch.h\n+/// \\brief      CRC32 calculation with LoongArch optimization\n+//\n+//  Authors:    Xi Ruoyao\n+//\n+///////////////////////////////////////////////////////////////////////////////\n+\n+\n+#ifndef LZMA_CRC32_LOONGARCH_H\n+#define LZMA_CRC32_LOONGARCH_H\n+\n+#include <larchintrin.h>\n+#include <sys/auxv.h>\n+\n+// Defined in section 9.1 of\n+// \"Software Development and Build Convention for LoongArch Architectures\"\n+// (https://github.com/loongson/la-softdev-convention/).  Hard code it\n+// instead of including <bits/hwcap.h> for compatibility with Glibc <= 2.37.\n+#define HWCAP_LOONGARCH_CRC32 (1 << 6)\n+\n+#if __loongarch_grlen >= 64\n+#  define UNIT_SIZE 8\n+#  define CRC_UNIT(buf, crc) __crc_w_d_w((int64_t)aligned_read64le(buf), crc)\n+#else\n+#  define UNIT_SIZE 4\n+#  define CRC_UNIT(buf, crc) __crc_w_w_w((int32_t)aligned_read32le(buf), crc)\n+#endif\n+\n+static uint32_t\n+crc32_arch_optimized(const uint8_t *buf, size_t size, uint32_t _crc)\n+{\n+\tint32_t crc = (int32_t)~_crc;\n+\n+\t// Align the input buffer because this was shown to be\n+\t// significantly faster than unaligned accesses.\n+\tconst size_t align_amount = my_min(size,\n+\t\t\t(UNIT_SIZE - (uintptr_t)buf) & (UNIT_SIZE - 1));\n+\n+\tif (align_amount & 1)\n+\t\tcrc = __crc_w_b_w((int8_t)*buf++, crc);\n+\n+\tif (align_amount & 2) {\n+\t\tcrc = __crc_w_h_w((int16_t)aligned_read16le(buf), crc);\n+\t\tbuf += 2;\n+\t}\n+\n+#if UNIT_SIZE == 8\n+\tif (align_amount & 4) {\n+\t\tcrc = __crc_w_w_w((int32_t)aligned_read32le(buf), crc);\n+\t\tbuf += 4;\n+\t}\n+#endif\n+\n+\tsize -= align_amount;\n+\n+\t// Process UNIT_SIZE bytes at a time. The end point is determined by\n+\t// ignoring the least significant log2(UNIT_SIZE) bits of size to ensure\n+\t// we do not process past the bounds of the buffer. This guarantees\n+\t// that limit is a multiple of UNIT_SIZE and is strictly less than size.\n+\tfor (const uint8_t *limit = buf + (size & ~((size_t)UNIT_SIZE - 1));\n+\t\t\tbuf < limit; buf += UNIT_SIZE)\n+\t\tcrc = CRC_UNIT(buf, crc);\n+\n+\t// Process the remaining bytes that are not 8 byte aligned.\n+\tconst size_t remaining_amount = size & (UNIT_SIZE - 1);\n+\n+#if UNIT_SIZE == 8\n+\tif (remaining_amount & 4) {\n+\t\tcrc = __crc_w_w_w((int32_t)aligned_read32le(buf), crc);\n+\t\tbuf += 4;\n+\t}\n+#endif\n+\n+\tif (remaining_amount & 2) {\n+\t\tcrc = __crc_w_h_w((int16_t)aligned_read16le(buf), crc);\n+\t\tbuf += 2;\n+\t}\n+\n+\tif (remaining_amount & 1)\n+\t\tcrc = __crc_w_b_w((int8_t)*buf, crc);\n+\n+\treturn (uint32_t)~crc;\n+}\n+","path":"src/liblzma/check/crc32_loongarch.h","commit_id":"9282d42b4b81c271222ab93fe0e6fc8196fa8c0b","original_commit_id":"4023849b644a3df3e170cba4a551e11737192447","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":"Done.","created_at":"2024-02-29T17:22:51Z","updated_at":"2024-02-29T17:22:51Z","html_url":"https://github.com/tukaani-project/xz/pull/86#discussion_r1507933611","pull_request_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","author_association":"NONE","_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507933611"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86#discussion_r1507933611"},"pull_request":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"}},"reactions":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507933611/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"start_line":null,"original_start_line":null,"start_side":null,"line":88,"original_line":88,"side":"RIGHT","in_reply_to_id":1507899271,"original_position":88,"position":88,"subject_type":"line"},"pull_request":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","id":1742149263,"node_id":"PR_kwDOIQBEvs5n1xaP","html_url":"https://github.com/tukaani-project/xz/pull/86","diff_url":"https://github.com/tukaani-project/xz/pull/86.diff","patch_url":"https://github.com/tukaani-project/xz/pull/86.patch","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/86","number":86,"state":"open","locked":false,"title":"Speed up CRC32 calculation on LoongArch","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":"## Pull request checklist\r\n\r\nPlease check if your PR fulfills the following requirements:\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been reviewed and added / updated if needed (for bug fixes / features)\r\n- [x] Build was run locally and without warnings or errors\r\n- [x] All previous and new tests pass\r\n\r\n\r\n## Pull request type\r\n\r\n<!-- Please try to limit your pull request to one type, submit multiple\r\npull requests if needed. --> \r\n\r\nPlease check the type of change your PR introduces:\r\n- [x] Feature\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying. -->\r\n\r\nOn LoongArch the generic table-based CRC32 implementation is used.\r\n\r\n<!-- Related issue this PR addresses, if applicable -->\r\nRelated Issue URL: None\r\n\r\n\r\n## What is the new behavior?\r\n\r\nThe crc.w.{b/h/w/d}.w instructions in LoongArch can calculate the CRC32 result for 1/2/4/8 bytes in a single operation, making the use of LoongArch CRC32 instructions much faster compared to the general CRC32 algorithm.\r\n\r\nOptimized CRC32 will be enabled if the kernel declares the LoongArch CRC32 instructions supported via AT_HWCAP.\r\n\r\n## Does this introduce a breaking change?\r\n\r\n- [x] No\r\n\r\n<!-- If this introduces a breaking change, please describe the impact and\r\nmigration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\n<!-- Any other information that is important to this PR. -->","created_at":"2024-02-25T12:26:01Z","updated_at":"2024-02-29T17:22:51Z","closed_at":null,"merged_at":null,"merge_commit_sha":"b84aad407d67e3a99e5c26319d40e16cf02dee77","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits","review_comments_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments","review_comment_url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/9282d42b4b81c271222ab93fe0e6fc8196fa8c0b","head":{"label":"xry111:xry111/loongarch-crc","ref":"xry111/loongarch-crc","sha":"9282d42b4b81c271222ab93fe0e6fc8196fa8c0b","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"repo":{"id":763044910,"node_id":"R_kgDOLXskLg","name":"xz","full_name":"xry111/xz","private":false,"owner":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"html_url":"https://github.com/xry111/xz","description":"XZ Utils","fork":true,"url":"https://api.github.com/repos/xry111/xz","forks_url":"https://api.github.com/repos/xry111/xz/forks","keys_url":"https://api.github.com/repos/xry111/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xry111/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xry111/xz/teams","hooks_url":"https://api.github.com/repos/xry111/xz/hooks","issue_events_url":"https://api.github.com/repos/xry111/xz/issues/events{/number}","events_url":"https://api.github.com/repos/xry111/xz/events","assignees_url":"https://api.github.com/repos/xry111/xz/assignees{/user}","branches_url":"https://api.github.com/repos/xry111/xz/branches{/branch}","tags_url":"https://api.github.com/repos/xry111/xz/tags","blobs_url":"https://api.github.com/repos/xry111/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xry111/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xry111/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/xry111/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xry111/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/xry111/xz/languages","stargazers_url":"https://api.github.com/repos/xry111/xz/stargazers","contributors_url":"https://api.github.com/repos/xry111/xz/contributors","subscribers_url":"https://api.github.com/repos/xry111/xz/subscribers","subscription_url":"https://api.github.com/repos/xry111/xz/subscription","commits_url":"https://api.github.com/repos/xry111/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/xry111/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/xry111/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/xry111/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/xry111/xz/contents/{+path}","compare_url":"https://api.github.com/repos/xry111/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xry111/xz/merges","archive_url":"https://api.github.com/repos/xry111/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xry111/xz/downloads","issues_url":"https://api.github.com/repos/xry111/xz/issues{/number}","pulls_url":"https://api.github.com/repos/xry111/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/xry111/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/xry111/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xry111/xz/labels{/name}","releases_url":"https://api.github.com/repos/xry111/xz/releases{/id}","deployments_url":"https://api.github.com/repos/xry111/xz/deployments","created_at":"2024-02-25T12:15:50Z","updated_at":"2024-02-25T12:15:50Z","pushed_at":"2024-02-29T17:18:53Z","git_url":"git://github.com/xry111/xz.git","ssh_url":"git@github.com:xry111/xz.git","clone_url":"https://github.com/xry111/xz.git","svn_url":"https://github.com/xry111/xz","homepage":"https://xz.tukaani.org/xz-utils","size":4532,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"tukaani-project:master","ref":"master","sha":"5f3d0595296cc3035eae9e7bb6c3ffb1e1267333","user":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"repo":{"id":553665726,"node_id":"R_kgDOIQBEvg","name":"xz","full_name":"tukaani-project/xz","private":false,"owner":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/tukaani-project/xz","description":"XZ Utils","fork":false,"url":"https://api.github.com/repos/tukaani-project/xz","forks_url":"https://api.github.com/repos/tukaani-project/xz/forks","keys_url":"https://api.github.com/repos/tukaani-project/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tukaani-project/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tukaani-project/xz/teams","hooks_url":"https://api.github.com/repos/tukaani-project/xz/hooks","issue_events_url":"https://api.github.com/repos/tukaani-project/xz/issues/events{/number}","events_url":"https://api.github.com/repos/tukaani-project/xz/events","assignees_url":"https://api.github.com/repos/tukaani-project/xz/assignees{/user}","branches_url":"https://api.github.com/repos/tukaani-project/xz/branches{/branch}","tags_url":"https://api.github.com/repos/tukaani-project/xz/tags","blobs_url":"https://api.github.com/repos/tukaani-project/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tukaani-project/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tukaani-project/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/tukaani-project/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/tukaani-project/xz/languages","stargazers_url":"https://api.github.com/repos/tukaani-project/xz/stargazers","contributors_url":"https://api.github.com/repos/tukaani-project/xz/contributors","subscribers_url":"https://api.github.com/repos/tukaani-project/xz/subscribers","subscription_url":"https://api.github.com/repos/tukaani-project/xz/subscription","commits_url":"https://api.github.com/repos/tukaani-project/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/tukaani-project/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/tukaani-project/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/tukaani-project/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/tukaani-project/xz/contents/{+path}","compare_url":"https://api.github.com/repos/tukaani-project/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tukaani-project/xz/merges","archive_url":"https://api.github.com/repos/tukaani-project/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tukaani-project/xz/downloads","issues_url":"https://api.github.com/repos/tukaani-project/xz/issues{/number}","pulls_url":"https://api.github.com/repos/tukaani-project/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/tukaani-project/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/tukaani-project/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tukaani-project/xz/labels{/name}","releases_url":"https://api.github.com/repos/tukaani-project/xz/releases{/id}","deployments_url":"https://api.github.com/repos/tukaani-project/xz/deployments","created_at":"2022-10-18T15:11:36Z","updated_at":"2024-02-29T06:25:51Z","pushed_at":"2024-02-29T17:18:55Z","git_url":"git://github.com/tukaani-project/xz.git","ssh_url":"git@github.com:tukaani-project/xz.git","clone_url":"https://github.com/tukaani-project/xz.git","svn_url":"https://github.com/tukaani-project/xz","homepage":"https://xz.tukaani.org/xz-utils","size":5032,"stargazers_count":154,"watchers_count":154,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":47,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":7,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","cli","compression","library"],"visibility":"public","forks":47,"open_issues":7,"watchers":154,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86"},"issue":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86"},"comments":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments"},"review_comments":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments"},"review_comment":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits"},"statuses":{"href":"https://api.github.com/repos/tukaani-project/xz/statuses/9282d42b4b81c271222ab93fe0e6fc8196fa8c0b"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2024-02-29T17:22:51Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"36134901679","type":"PullRequestReviewCommentEvent","actor":{"id":8733039,"login":"xry111","display_login":"xry111","gravatar_id":"","url":"https://api.github.com/users/xry111","avatar_url":"https://avatars.githubusercontent.com/u/8733039?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507933770","pull_request_review_id":1909464441,"id":1507933770,"node_id":"PRRC_kwDOIQBEvs5Z4T5K","diff_hunk":"@@ -0,0 +1,107 @@\n+// SPDX-License-Identifier: 0BSD\n+\n+///////////////////////////////////////////////////////////////////////////////\n+//\n+/// \\file       crc32_loongarch.h\n+/// \\brief      CRC32 calculation with LoongArch optimization\n+//\n+//  Authors:    Xi Ruoyao\n+//\n+///////////////////////////////////////////////////////////////////////////////\n+\n+\n+#ifndef LZMA_CRC32_LOONGARCH_H\n+#define LZMA_CRC32_LOONGARCH_H\n+\n+#include <larchintrin.h>\n+#include <sys/auxv.h>\n+\n+// Defined in section 9.1 of\n+// \"Software Development and Build Convention for LoongArch Architectures\"\n+// (https://github.com/loongson/la-softdev-convention/).  Hard code it\n+// instead of including <bits/hwcap.h> for compatibility with Glibc <= 2.37.\n+#define HWCAP_LOONGARCH_CRC32 (1 << 6)\n+\n+#if __loongarch_grlen >= 64\n+#  define UNIT_SIZE 8\n+#  define CRC_UNIT(buf, crc) __crc_w_d_w((int64_t)aligned_read64le(buf), crc)\n+#else\n+#  define UNIT_SIZE 4\n+#  define CRC_UNIT(buf, crc) __crc_w_w_w((int32_t)aligned_read32le(buf), crc)\n+#endif\n+\n+static uint32_t\n+crc32_arch_optimized(const uint8_t *buf, size_t size, uint32_t _crc)\n+{\n+\tint32_t crc = (int32_t)~_crc;\n+\n+\t// Align the input buffer because this was shown to be\n+\t// significantly faster than unaligned accesses.\n+\tconst size_t align_amount = my_min(size,\n+\t\t\t(UNIT_SIZE - (uintptr_t)buf) & (UNIT_SIZE - 1));\n+\n+\tif (align_amount & 1)\n+\t\tcrc = __crc_w_b_w((int8_t)*buf++, crc);\n+\n+\tif (align_amount & 2) {\n+\t\tcrc = __crc_w_h_w((int16_t)aligned_read16le(buf), crc);\n+\t\tbuf += 2;\n+\t}\n+\n+#if UNIT_SIZE == 8\n+\tif (align_amount & 4) {\n+\t\tcrc = __crc_w_w_w((int32_t)aligned_read32le(buf), crc);\n+\t\tbuf += 4;\n+\t}\n+#endif\n+\n+\tsize -= align_amount;\n+\n+\t// Process UNIT_SIZE bytes at a time. The end point is determined by\n+\t// ignoring the least significant log2(UNIT_SIZE) bits of size to ensure\n+\t// we do not process past the bounds of the buffer. This guarantees\n+\t// that limit is a multiple of UNIT_SIZE and is strictly less than size.\n+\tfor (const uint8_t *limit = buf + (size & ~((size_t)UNIT_SIZE - 1));\n+\t\t\tbuf < limit; buf += UNIT_SIZE)\n+\t\tcrc = CRC_UNIT(buf, crc);\n+\n+\t// Process the remaining bytes that are not 8 byte aligned.","path":"src/liblzma/check/crc32_loongarch.h","commit_id":"9282d42b4b81c271222ab93fe0e6fc8196fa8c0b","original_commit_id":"4023849b644a3df3e170cba4a551e11737192447","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":"Done.","created_at":"2024-02-29T17:22:58Z","updated_at":"2024-02-29T17:22:58Z","html_url":"https://github.com/tukaani-project/xz/pull/86#discussion_r1507933770","pull_request_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","author_association":"NONE","_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507933770"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86#discussion_r1507933770"},"pull_request":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"}},"reactions":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507933770/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"start_line":null,"original_start_line":null,"start_side":null,"line":null,"original_line":68,"side":"RIGHT","in_reply_to_id":1507900586,"original_position":68,"position":null,"subject_type":"line"},"pull_request":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","id":1742149263,"node_id":"PR_kwDOIQBEvs5n1xaP","html_url":"https://github.com/tukaani-project/xz/pull/86","diff_url":"https://github.com/tukaani-project/xz/pull/86.diff","patch_url":"https://github.com/tukaani-project/xz/pull/86.patch","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/86","number":86,"state":"open","locked":false,"title":"Speed up CRC32 calculation on LoongArch","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":"## Pull request checklist\r\n\r\nPlease check if your PR fulfills the following requirements:\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been reviewed and added / updated if needed (for bug fixes / features)\r\n- [x] Build was run locally and without warnings or errors\r\n- [x] All previous and new tests pass\r\n\r\n\r\n## Pull request type\r\n\r\n<!-- Please try to limit your pull request to one type, submit multiple\r\npull requests if needed. --> \r\n\r\nPlease check the type of change your PR introduces:\r\n- [x] Feature\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying. -->\r\n\r\nOn LoongArch the generic table-based CRC32 implementation is used.\r\n\r\n<!-- Related issue this PR addresses, if applicable -->\r\nRelated Issue URL: None\r\n\r\n\r\n## What is the new behavior?\r\n\r\nThe crc.w.{b/h/w/d}.w instructions in LoongArch can calculate the CRC32 result for 1/2/4/8 bytes in a single operation, making the use of LoongArch CRC32 instructions much faster compared to the general CRC32 algorithm.\r\n\r\nOptimized CRC32 will be enabled if the kernel declares the LoongArch CRC32 instructions supported via AT_HWCAP.\r\n\r\n## Does this introduce a breaking change?\r\n\r\n- [x] No\r\n\r\n<!-- If this introduces a breaking change, please describe the impact and\r\nmigration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\n<!-- Any other information that is important to this PR. -->","created_at":"2024-02-25T12:26:01Z","updated_at":"2024-02-29T17:22:58Z","closed_at":null,"merged_at":null,"merge_commit_sha":"b84aad407d67e3a99e5c26319d40e16cf02dee77","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits","review_comments_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments","review_comment_url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/9282d42b4b81c271222ab93fe0e6fc8196fa8c0b","head":{"label":"xry111:xry111/loongarch-crc","ref":"xry111/loongarch-crc","sha":"9282d42b4b81c271222ab93fe0e6fc8196fa8c0b","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"repo":{"id":763044910,"node_id":"R_kgDOLXskLg","name":"xz","full_name":"xry111/xz","private":false,"owner":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"html_url":"https://github.com/xry111/xz","description":"XZ Utils","fork":true,"url":"https://api.github.com/repos/xry111/xz","forks_url":"https://api.github.com/repos/xry111/xz/forks","keys_url":"https://api.github.com/repos/xry111/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xry111/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xry111/xz/teams","hooks_url":"https://api.github.com/repos/xry111/xz/hooks","issue_events_url":"https://api.github.com/repos/xry111/xz/issues/events{/number}","events_url":"https://api.github.com/repos/xry111/xz/events","assignees_url":"https://api.github.com/repos/xry111/xz/assignees{/user}","branches_url":"https://api.github.com/repos/xry111/xz/branches{/branch}","tags_url":"https://api.github.com/repos/xry111/xz/tags","blobs_url":"https://api.github.com/repos/xry111/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xry111/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xry111/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/xry111/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xry111/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/xry111/xz/languages","stargazers_url":"https://api.github.com/repos/xry111/xz/stargazers","contributors_url":"https://api.github.com/repos/xry111/xz/contributors","subscribers_url":"https://api.github.com/repos/xry111/xz/subscribers","subscription_url":"https://api.github.com/repos/xry111/xz/subscription","commits_url":"https://api.github.com/repos/xry111/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/xry111/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/xry111/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/xry111/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/xry111/xz/contents/{+path}","compare_url":"https://api.github.com/repos/xry111/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xry111/xz/merges","archive_url":"https://api.github.com/repos/xry111/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xry111/xz/downloads","issues_url":"https://api.github.com/repos/xry111/xz/issues{/number}","pulls_url":"https://api.github.com/repos/xry111/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/xry111/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/xry111/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xry111/xz/labels{/name}","releases_url":"https://api.github.com/repos/xry111/xz/releases{/id}","deployments_url":"https://api.github.com/repos/xry111/xz/deployments","created_at":"2024-02-25T12:15:50Z","updated_at":"2024-02-25T12:15:50Z","pushed_at":"2024-02-29T17:18:53Z","git_url":"git://github.com/xry111/xz.git","ssh_url":"git@github.com:xry111/xz.git","clone_url":"https://github.com/xry111/xz.git","svn_url":"https://github.com/xry111/xz","homepage":"https://xz.tukaani.org/xz-utils","size":4532,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"tukaani-project:master","ref":"master","sha":"5f3d0595296cc3035eae9e7bb6c3ffb1e1267333","user":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"repo":{"id":553665726,"node_id":"R_kgDOIQBEvg","name":"xz","full_name":"tukaani-project/xz","private":false,"owner":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/tukaani-project/xz","description":"XZ Utils","fork":false,"url":"https://api.github.com/repos/tukaani-project/xz","forks_url":"https://api.github.com/repos/tukaani-project/xz/forks","keys_url":"https://api.github.com/repos/tukaani-project/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tukaani-project/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tukaani-project/xz/teams","hooks_url":"https://api.github.com/repos/tukaani-project/xz/hooks","issue_events_url":"https://api.github.com/repos/tukaani-project/xz/issues/events{/number}","events_url":"https://api.github.com/repos/tukaani-project/xz/events","assignees_url":"https://api.github.com/repos/tukaani-project/xz/assignees{/user}","branches_url":"https://api.github.com/repos/tukaani-project/xz/branches{/branch}","tags_url":"https://api.github.com/repos/tukaani-project/xz/tags","blobs_url":"https://api.github.com/repos/tukaani-project/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tukaani-project/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tukaani-project/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/tukaani-project/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/tukaani-project/xz/languages","stargazers_url":"https://api.github.com/repos/tukaani-project/xz/stargazers","contributors_url":"https://api.github.com/repos/tukaani-project/xz/contributors","subscribers_url":"https://api.github.com/repos/tukaani-project/xz/subscribers","subscription_url":"https://api.github.com/repos/tukaani-project/xz/subscription","commits_url":"https://api.github.com/repos/tukaani-project/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/tukaani-project/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/tukaani-project/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/tukaani-project/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/tukaani-project/xz/contents/{+path}","compare_url":"https://api.github.com/repos/tukaani-project/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tukaani-project/xz/merges","archive_url":"https://api.github.com/repos/tukaani-project/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tukaani-project/xz/downloads","issues_url":"https://api.github.com/repos/tukaani-project/xz/issues{/number}","pulls_url":"https://api.github.com/repos/tukaani-project/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/tukaani-project/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/tukaani-project/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tukaani-project/xz/labels{/name}","releases_url":"https://api.github.com/repos/tukaani-project/xz/releases{/id}","deployments_url":"https://api.github.com/repos/tukaani-project/xz/deployments","created_at":"2022-10-18T15:11:36Z","updated_at":"2024-02-29T06:25:51Z","pushed_at":"2024-02-29T17:18:55Z","git_url":"git://github.com/tukaani-project/xz.git","ssh_url":"git@github.com:tukaani-project/xz.git","clone_url":"https://github.com/tukaani-project/xz.git","svn_url":"https://github.com/tukaani-project/xz","homepage":"https://xz.tukaani.org/xz-utils","size":5032,"stargazers_count":154,"watchers_count":154,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":47,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":7,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","cli","compression","library"],"visibility":"public","forks":47,"open_issues":7,"watchers":154,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86"},"issue":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86"},"comments":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments"},"review_comments":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments"},"review_comment":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits"},"statuses":{"href":"https://api.github.com/repos/tukaani-project/xz/statuses/9282d42b4b81c271222ab93fe0e6fc8196fa8c0b"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2024-02-29T17:22:58Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"36134901578","type":"PullRequestReviewEvent","actor":{"id":8733039,"login":"xry111","display_login":"xry111","gravatar_id":"","url":"https://api.github.com/users/xry111","avatar_url":"https://avatars.githubusercontent.com/u/8733039?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","review":{"id":1909464441,"node_id":"PRR_kwDOIQBEvs5x0B15","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":null,"commit_id":"4023849b644a3df3e170cba4a551e11737192447","submitted_at":"2024-02-29T17:22:58Z","state":"commented","html_url":"https://github.com/tukaani-project/xz/pull/86#pullrequestreview-1909464441","pull_request_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","author_association":"NONE","_links":{"html":{"href":"https://github.com/tukaani-project/xz/pull/86#pullrequestreview-1909464441"},"pull_request":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"}}},"pull_request":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","id":1742149263,"node_id":"PR_kwDOIQBEvs5n1xaP","html_url":"https://github.com/tukaani-project/xz/pull/86","diff_url":"https://github.com/tukaani-project/xz/pull/86.diff","patch_url":"https://github.com/tukaani-project/xz/pull/86.patch","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/86","number":86,"state":"open","locked":false,"title":"Speed up CRC32 calculation on LoongArch","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":"## Pull request checklist\r\n\r\nPlease check if your PR fulfills the following requirements:\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been reviewed and added / updated if needed (for bug fixes / features)\r\n- [x] Build was run locally and without warnings or errors\r\n- [x] All previous and new tests pass\r\n\r\n\r\n## Pull request type\r\n\r\n<!-- Please try to limit your pull request to one type, submit multiple\r\npull requests if needed. --> \r\n\r\nPlease check the type of change your PR introduces:\r\n- [x] Feature\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying. -->\r\n\r\nOn LoongArch the generic table-based CRC32 implementation is used.\r\n\r\n<!-- Related issue this PR addresses, if applicable -->\r\nRelated Issue URL: None\r\n\r\n\r\n## What is the new behavior?\r\n\r\nThe crc.w.{b/h/w/d}.w instructions in LoongArch can calculate the CRC32 result for 1/2/4/8 bytes in a single operation, making the use of LoongArch CRC32 instructions much faster compared to the general CRC32 algorithm.\r\n\r\nOptimized CRC32 will be enabled if the kernel declares the LoongArch CRC32 instructions supported via AT_HWCAP.\r\n\r\n## Does this introduce a breaking change?\r\n\r\n- [x] No\r\n\r\n<!-- If this introduces a breaking change, please describe the impact and\r\nmigration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\n<!-- Any other information that is important to this PR. -->","created_at":"2024-02-25T12:26:01Z","updated_at":"2024-02-29T17:22:58Z","closed_at":null,"merged_at":null,"merge_commit_sha":"b84aad407d67e3a99e5c26319d40e16cf02dee77","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits","review_comments_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments","review_comment_url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/9282d42b4b81c271222ab93fe0e6fc8196fa8c0b","head":{"label":"xry111:xry111/loongarch-crc","ref":"xry111/loongarch-crc","sha":"9282d42b4b81c271222ab93fe0e6fc8196fa8c0b","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"repo":{"id":763044910,"node_id":"R_kgDOLXskLg","name":"xz","full_name":"xry111/xz","private":false,"owner":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"html_url":"https://github.com/xry111/xz","description":"XZ Utils","fork":true,"url":"https://api.github.com/repos/xry111/xz","forks_url":"https://api.github.com/repos/xry111/xz/forks","keys_url":"https://api.github.com/repos/xry111/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xry111/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xry111/xz/teams","hooks_url":"https://api.github.com/repos/xry111/xz/hooks","issue_events_url":"https://api.github.com/repos/xry111/xz/issues/events{/number}","events_url":"https://api.github.com/repos/xry111/xz/events","assignees_url":"https://api.github.com/repos/xry111/xz/assignees{/user}","branches_url":"https://api.github.com/repos/xry111/xz/branches{/branch}","tags_url":"https://api.github.com/repos/xry111/xz/tags","blobs_url":"https://api.github.com/repos/xry111/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xry111/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xry111/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/xry111/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xry111/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/xry111/xz/languages","stargazers_url":"https://api.github.com/repos/xry111/xz/stargazers","contributors_url":"https://api.github.com/repos/xry111/xz/contributors","subscribers_url":"https://api.github.com/repos/xry111/xz/subscribers","subscription_url":"https://api.github.com/repos/xry111/xz/subscription","commits_url":"https://api.github.com/repos/xry111/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/xry111/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/xry111/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/xry111/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/xry111/xz/contents/{+path}","compare_url":"https://api.github.com/repos/xry111/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xry111/xz/merges","archive_url":"https://api.github.com/repos/xry111/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xry111/xz/downloads","issues_url":"https://api.github.com/repos/xry111/xz/issues{/number}","pulls_url":"https://api.github.com/repos/xry111/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/xry111/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/xry111/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xry111/xz/labels{/name}","releases_url":"https://api.github.com/repos/xry111/xz/releases{/id}","deployments_url":"https://api.github.com/repos/xry111/xz/deployments","created_at":"2024-02-25T12:15:50Z","updated_at":"2024-02-25T12:15:50Z","pushed_at":"2024-02-29T17:18:53Z","git_url":"git://github.com/xry111/xz.git","ssh_url":"git@github.com:xry111/xz.git","clone_url":"https://github.com/xry111/xz.git","svn_url":"https://github.com/xry111/xz","homepage":"https://xz.tukaani.org/xz-utils","size":4532,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"tukaani-project:master","ref":"master","sha":"5f3d0595296cc3035eae9e7bb6c3ffb1e1267333","user":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"repo":{"id":553665726,"node_id":"R_kgDOIQBEvg","name":"xz","full_name":"tukaani-project/xz","private":false,"owner":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/tukaani-project/xz","description":"XZ Utils","fork":false,"url":"https://api.github.com/repos/tukaani-project/xz","forks_url":"https://api.github.com/repos/tukaani-project/xz/forks","keys_url":"https://api.github.com/repos/tukaani-project/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tukaani-project/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tukaani-project/xz/teams","hooks_url":"https://api.github.com/repos/tukaani-project/xz/hooks","issue_events_url":"https://api.github.com/repos/tukaani-project/xz/issues/events{/number}","events_url":"https://api.github.com/repos/tukaani-project/xz/events","assignees_url":"https://api.github.com/repos/tukaani-project/xz/assignees{/user}","branches_url":"https://api.github.com/repos/tukaani-project/xz/branches{/branch}","tags_url":"https://api.github.com/repos/tukaani-project/xz/tags","blobs_url":"https://api.github.com/repos/tukaani-project/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tukaani-project/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tukaani-project/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/tukaani-project/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/tukaani-project/xz/languages","stargazers_url":"https://api.github.com/repos/tukaani-project/xz/stargazers","contributors_url":"https://api.github.com/repos/tukaani-project/xz/contributors","subscribers_url":"https://api.github.com/repos/tukaani-project/xz/subscribers","subscription_url":"https://api.github.com/repos/tukaani-project/xz/subscription","commits_url":"https://api.github.com/repos/tukaani-project/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/tukaani-project/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/tukaani-project/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/tukaani-project/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/tukaani-project/xz/contents/{+path}","compare_url":"https://api.github.com/repos/tukaani-project/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tukaani-project/xz/merges","archive_url":"https://api.github.com/repos/tukaani-project/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tukaani-project/xz/downloads","issues_url":"https://api.github.com/repos/tukaani-project/xz/issues{/number}","pulls_url":"https://api.github.com/repos/tukaani-project/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/tukaani-project/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/tukaani-project/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tukaani-project/xz/labels{/name}","releases_url":"https://api.github.com/repos/tukaani-project/xz/releases{/id}","deployments_url":"https://api.github.com/repos/tukaani-project/xz/deployments","created_at":"2022-10-18T15:11:36Z","updated_at":"2024-02-29T06:25:51Z","pushed_at":"2024-02-29T17:18:55Z","git_url":"git://github.com/tukaani-project/xz.git","ssh_url":"git@github.com:tukaani-project/xz.git","clone_url":"https://github.com/tukaani-project/xz.git","svn_url":"https://github.com/tukaani-project/xz","homepage":"https://xz.tukaani.org/xz-utils","size":5032,"stargazers_count":154,"watchers_count":154,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":47,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":7,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","cli","compression","library"],"visibility":"public","forks":47,"open_issues":7,"watchers":154,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86"},"issue":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86"},"comments":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments"},"review_comments":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments"},"review_comment":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits"},"statuses":{"href":"https://api.github.com/repos/tukaani-project/xz/statuses/9282d42b4b81c271222ab93fe0e6fc8196fa8c0b"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2024-02-29T17:22:59Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"36134926117","type":"PullRequestReviewCommentEvent","actor":{"id":8733039,"login":"xry111","display_login":"xry111","gravatar_id":"","url":"https://api.github.com/users/xry111","avatar_url":"https://avatars.githubusercontent.com/u/8733039?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507934680","pull_request_review_id":1909465929,"id":1507934680,"node_id":"PRRC_kwDOIQBEvs5Z4UHY","diff_hunk":"","path":"configure.ac","commit_id":"4023849b644a3df3e170cba4a551e11737192447","original_commit_id":"4023849b644a3df3e170cba4a551e11737192447","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":"Done.","created_at":"2024-02-29T17:23:46Z","updated_at":"2024-02-29T17:23:46Z","html_url":"https://github.com/tukaani-project/xz/pull/86#discussion_r1507934680","pull_request_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","author_association":"NONE","_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507934680"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86#discussion_r1507934680"},"pull_request":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"}},"reactions":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507934680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"start_line":null,"original_start_line":null,"start_side":null,"line":1,"original_line":1,"side":"RIGHT","in_reply_to_id":1507883948,"original_position":1,"position":1,"subject_type":"file"},"pull_request":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","id":1742149263,"node_id":"PR_kwDOIQBEvs5n1xaP","html_url":"https://github.com/tukaani-project/xz/pull/86","diff_url":"https://github.com/tukaani-project/xz/pull/86.diff","patch_url":"https://github.com/tukaani-project/xz/pull/86.patch","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/86","number":86,"state":"open","locked":false,"title":"Speed up CRC32 calculation on LoongArch","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":"## Pull request checklist\r\n\r\nPlease check if your PR fulfills the following requirements:\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been reviewed and added / updated if needed (for bug fixes / features)\r\n- [x] Build was run locally and without warnings or errors\r\n- [x] All previous and new tests pass\r\n\r\n\r\n## Pull request type\r\n\r\n<!-- Please try to limit your pull request to one type, submit multiple\r\npull requests if needed. --> \r\n\r\nPlease check the type of change your PR introduces:\r\n- [x] Feature\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying. -->\r\n\r\nOn LoongArch the generic table-based CRC32 implementation is used.\r\n\r\n<!-- Related issue this PR addresses, if applicable -->\r\nRelated Issue URL: None\r\n\r\n\r\n## What is the new behavior?\r\n\r\nThe crc.w.{b/h/w/d}.w instructions in LoongArch can calculate the CRC32 result for 1/2/4/8 bytes in a single operation, making the use of LoongArch CRC32 instructions much faster compared to the general CRC32 algorithm.\r\n\r\nOptimized CRC32 will be enabled if the kernel declares the LoongArch CRC32 instructions supported via AT_HWCAP.\r\n\r\n## Does this introduce a breaking change?\r\n\r\n- [x] No\r\n\r\n<!-- If this introduces a breaking change, please describe the impact and\r\nmigration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\n<!-- Any other information that is important to this PR. -->","created_at":"2024-02-25T12:26:01Z","updated_at":"2024-02-29T17:23:46Z","closed_at":null,"merged_at":null,"merge_commit_sha":"37a1bda07e0a2f66edff362b446ba6ffaeabd312","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits","review_comments_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments","review_comment_url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/dab983cd87f00742f781457fb3abbd91a30a9a2f","head":{"label":"xry111:xry111/loongarch-crc","ref":"xry111/loongarch-crc","sha":"dab983cd87f00742f781457fb3abbd91a30a9a2f","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"repo":{"id":763044910,"node_id":"R_kgDOLXskLg","name":"xz","full_name":"xry111/xz","private":false,"owner":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"html_url":"https://github.com/xry111/xz","description":"XZ Utils","fork":true,"url":"https://api.github.com/repos/xry111/xz","forks_url":"https://api.github.com/repos/xry111/xz/forks","keys_url":"https://api.github.com/repos/xry111/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xry111/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xry111/xz/teams","hooks_url":"https://api.github.com/repos/xry111/xz/hooks","issue_events_url":"https://api.github.com/repos/xry111/xz/issues/events{/number}","events_url":"https://api.github.com/repos/xry111/xz/events","assignees_url":"https://api.github.com/repos/xry111/xz/assignees{/user}","branches_url":"https://api.github.com/repos/xry111/xz/branches{/branch}","tags_url":"https://api.github.com/repos/xry111/xz/tags","blobs_url":"https://api.github.com/repos/xry111/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xry111/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xry111/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/xry111/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xry111/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/xry111/xz/languages","stargazers_url":"https://api.github.com/repos/xry111/xz/stargazers","contributors_url":"https://api.github.com/repos/xry111/xz/contributors","subscribers_url":"https://api.github.com/repos/xry111/xz/subscribers","subscription_url":"https://api.github.com/repos/xry111/xz/subscription","commits_url":"https://api.github.com/repos/xry111/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/xry111/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/xry111/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/xry111/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/xry111/xz/contents/{+path}","compare_url":"https://api.github.com/repos/xry111/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xry111/xz/merges","archive_url":"https://api.github.com/repos/xry111/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xry111/xz/downloads","issues_url":"https://api.github.com/repos/xry111/xz/issues{/number}","pulls_url":"https://api.github.com/repos/xry111/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/xry111/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/xry111/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xry111/xz/labels{/name}","releases_url":"https://api.github.com/repos/xry111/xz/releases{/id}","deployments_url":"https://api.github.com/repos/xry111/xz/deployments","created_at":"2024-02-25T12:15:50Z","updated_at":"2024-02-25T12:15:50Z","pushed_at":"2024-02-29T17:23:35Z","git_url":"git://github.com/xry111/xz.git","ssh_url":"git@github.com:xry111/xz.git","clone_url":"https://github.com/xry111/xz.git","svn_url":"https://github.com/xry111/xz","homepage":"https://xz.tukaani.org/xz-utils","size":4532,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"tukaani-project:master","ref":"master","sha":"5f3d0595296cc3035eae9e7bb6c3ffb1e1267333","user":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"repo":{"id":553665726,"node_id":"R_kgDOIQBEvg","name":"xz","full_name":"tukaani-project/xz","private":false,"owner":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/tukaani-project/xz","description":"XZ Utils","fork":false,"url":"https://api.github.com/repos/tukaani-project/xz","forks_url":"https://api.github.com/repos/tukaani-project/xz/forks","keys_url":"https://api.github.com/repos/tukaani-project/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tukaani-project/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tukaani-project/xz/teams","hooks_url":"https://api.github.com/repos/tukaani-project/xz/hooks","issue_events_url":"https://api.github.com/repos/tukaani-project/xz/issues/events{/number}","events_url":"https://api.github.com/repos/tukaani-project/xz/events","assignees_url":"https://api.github.com/repos/tukaani-project/xz/assignees{/user}","branches_url":"https://api.github.com/repos/tukaani-project/xz/branches{/branch}","tags_url":"https://api.github.com/repos/tukaani-project/xz/tags","blobs_url":"https://api.github.com/repos/tukaani-project/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tukaani-project/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tukaani-project/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/tukaani-project/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/tukaani-project/xz/languages","stargazers_url":"https://api.github.com/repos/tukaani-project/xz/stargazers","contributors_url":"https://api.github.com/repos/tukaani-project/xz/contributors","subscribers_url":"https://api.github.com/repos/tukaani-project/xz/subscribers","subscription_url":"https://api.github.com/repos/tukaani-project/xz/subscription","commits_url":"https://api.github.com/repos/tukaani-project/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/tukaani-project/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/tukaani-project/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/tukaani-project/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/tukaani-project/xz/contents/{+path}","compare_url":"https://api.github.com/repos/tukaani-project/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tukaani-project/xz/merges","archive_url":"https://api.github.com/repos/tukaani-project/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tukaani-project/xz/downloads","issues_url":"https://api.github.com/repos/tukaani-project/xz/issues{/number}","pulls_url":"https://api.github.com/repos/tukaani-project/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/tukaani-project/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/tukaani-project/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tukaani-project/xz/labels{/name}","releases_url":"https://api.github.com/repos/tukaani-project/xz/releases{/id}","deployments_url":"https://api.github.com/repos/tukaani-project/xz/deployments","created_at":"2022-10-18T15:11:36Z","updated_at":"2024-02-29T06:25:51Z","pushed_at":"2024-02-29T17:23:38Z","git_url":"git://github.com/tukaani-project/xz.git","ssh_url":"git@github.com:tukaani-project/xz.git","clone_url":"https://github.com/tukaani-project/xz.git","svn_url":"https://github.com/tukaani-project/xz","homepage":"https://xz.tukaani.org/xz-utils","size":5032,"stargazers_count":154,"watchers_count":154,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":47,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":7,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","cli","compression","library"],"visibility":"public","forks":47,"open_issues":7,"watchers":154,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86"},"issue":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86"},"comments":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments"},"review_comments":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments"},"review_comment":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits"},"statuses":{"href":"https://api.github.com/repos/tukaani-project/xz/statuses/dab983cd87f00742f781457fb3abbd91a30a9a2f"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2024-02-29T17:23:46Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"36134926080","type":"PullRequestReviewEvent","actor":{"id":8733039,"login":"xry111","display_login":"xry111","gravatar_id":"","url":"https://api.github.com/users/xry111","avatar_url":"https://avatars.githubusercontent.com/u/8733039?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","review":{"id":1909465929,"node_id":"PRR_kwDOIQBEvs5x0CNJ","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":null,"commit_id":"4023849b644a3df3e170cba4a551e11737192447","submitted_at":"2024-02-29T17:23:46Z","state":"commented","html_url":"https://github.com/tukaani-project/xz/pull/86#pullrequestreview-1909465929","pull_request_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","author_association":"NONE","_links":{"html":{"href":"https://github.com/tukaani-project/xz/pull/86#pullrequestreview-1909465929"},"pull_request":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"}}},"pull_request":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","id":1742149263,"node_id":"PR_kwDOIQBEvs5n1xaP","html_url":"https://github.com/tukaani-project/xz/pull/86","diff_url":"https://github.com/tukaani-project/xz/pull/86.diff","patch_url":"https://github.com/tukaani-project/xz/pull/86.patch","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/86","number":86,"state":"open","locked":false,"title":"Speed up CRC32 calculation on LoongArch","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":"## Pull request checklist\r\n\r\nPlease check if your PR fulfills the following requirements:\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been reviewed and added / updated if needed (for bug fixes / features)\r\n- [x] Build was run locally and without warnings or errors\r\n- [x] All previous and new tests pass\r\n\r\n\r\n## Pull request type\r\n\r\n<!-- Please try to limit your pull request to one type, submit multiple\r\npull requests if needed. --> \r\n\r\nPlease check the type of change your PR introduces:\r\n- [x] Feature\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying. -->\r\n\r\nOn LoongArch the generic table-based CRC32 implementation is used.\r\n\r\n<!-- Related issue this PR addresses, if applicable -->\r\nRelated Issue URL: None\r\n\r\n\r\n## What is the new behavior?\r\n\r\nThe crc.w.{b/h/w/d}.w instructions in LoongArch can calculate the CRC32 result for 1/2/4/8 bytes in a single operation, making the use of LoongArch CRC32 instructions much faster compared to the general CRC32 algorithm.\r\n\r\nOptimized CRC32 will be enabled if the kernel declares the LoongArch CRC32 instructions supported via AT_HWCAP.\r\n\r\n## Does this introduce a breaking change?\r\n\r\n- [x] No\r\n\r\n<!-- If this introduces a breaking change, please describe the impact and\r\nmigration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\n<!-- Any other information that is important to this PR. -->","created_at":"2024-02-25T12:26:01Z","updated_at":"2024-02-29T17:23:46Z","closed_at":null,"merged_at":null,"merge_commit_sha":"37a1bda07e0a2f66edff362b446ba6ffaeabd312","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits","review_comments_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments","review_comment_url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/dab983cd87f00742f781457fb3abbd91a30a9a2f","head":{"label":"xry111:xry111/loongarch-crc","ref":"xry111/loongarch-crc","sha":"dab983cd87f00742f781457fb3abbd91a30a9a2f","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"repo":{"id":763044910,"node_id":"R_kgDOLXskLg","name":"xz","full_name":"xry111/xz","private":false,"owner":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"html_url":"https://github.com/xry111/xz","description":"XZ Utils","fork":true,"url":"https://api.github.com/repos/xry111/xz","forks_url":"https://api.github.com/repos/xry111/xz/forks","keys_url":"https://api.github.com/repos/xry111/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xry111/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xry111/xz/teams","hooks_url":"https://api.github.com/repos/xry111/xz/hooks","issue_events_url":"https://api.github.com/repos/xry111/xz/issues/events{/number}","events_url":"https://api.github.com/repos/xry111/xz/events","assignees_url":"https://api.github.com/repos/xry111/xz/assignees{/user}","branches_url":"https://api.github.com/repos/xry111/xz/branches{/branch}","tags_url":"https://api.github.com/repos/xry111/xz/tags","blobs_url":"https://api.github.com/repos/xry111/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xry111/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xry111/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/xry111/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xry111/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/xry111/xz/languages","stargazers_url":"https://api.github.com/repos/xry111/xz/stargazers","contributors_url":"https://api.github.com/repos/xry111/xz/contributors","subscribers_url":"https://api.github.com/repos/xry111/xz/subscribers","subscription_url":"https://api.github.com/repos/xry111/xz/subscription","commits_url":"https://api.github.com/repos/xry111/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/xry111/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/xry111/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/xry111/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/xry111/xz/contents/{+path}","compare_url":"https://api.github.com/repos/xry111/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xry111/xz/merges","archive_url":"https://api.github.com/repos/xry111/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xry111/xz/downloads","issues_url":"https://api.github.com/repos/xry111/xz/issues{/number}","pulls_url":"https://api.github.com/repos/xry111/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/xry111/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/xry111/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xry111/xz/labels{/name}","releases_url":"https://api.github.com/repos/xry111/xz/releases{/id}","deployments_url":"https://api.github.com/repos/xry111/xz/deployments","created_at":"2024-02-25T12:15:50Z","updated_at":"2024-02-25T12:15:50Z","pushed_at":"2024-02-29T17:23:35Z","git_url":"git://github.com/xry111/xz.git","ssh_url":"git@github.com:xry111/xz.git","clone_url":"https://github.com/xry111/xz.git","svn_url":"https://github.com/xry111/xz","homepage":"https://xz.tukaani.org/xz-utils","size":4532,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"tukaani-project:master","ref":"master","sha":"5f3d0595296cc3035eae9e7bb6c3ffb1e1267333","user":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"repo":{"id":553665726,"node_id":"R_kgDOIQBEvg","name":"xz","full_name":"tukaani-project/xz","private":false,"owner":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/tukaani-project/xz","description":"XZ Utils","fork":false,"url":"https://api.github.com/repos/tukaani-project/xz","forks_url":"https://api.github.com/repos/tukaani-project/xz/forks","keys_url":"https://api.github.com/repos/tukaani-project/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tukaani-project/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tukaani-project/xz/teams","hooks_url":"https://api.github.com/repos/tukaani-project/xz/hooks","issue_events_url":"https://api.github.com/repos/tukaani-project/xz/issues/events{/number}","events_url":"https://api.github.com/repos/tukaani-project/xz/events","assignees_url":"https://api.github.com/repos/tukaani-project/xz/assignees{/user}","branches_url":"https://api.github.com/repos/tukaani-project/xz/branches{/branch}","tags_url":"https://api.github.com/repos/tukaani-project/xz/tags","blobs_url":"https://api.github.com/repos/tukaani-project/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tukaani-project/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tukaani-project/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/tukaani-project/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/tukaani-project/xz/languages","stargazers_url":"https://api.github.com/repos/tukaani-project/xz/stargazers","contributors_url":"https://api.github.com/repos/tukaani-project/xz/contributors","subscribers_url":"https://api.github.com/repos/tukaani-project/xz/subscribers","subscription_url":"https://api.github.com/repos/tukaani-project/xz/subscription","commits_url":"https://api.github.com/repos/tukaani-project/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/tukaani-project/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/tukaani-project/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/tukaani-project/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/tukaani-project/xz/contents/{+path}","compare_url":"https://api.github.com/repos/tukaani-project/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tukaani-project/xz/merges","archive_url":"https://api.github.com/repos/tukaani-project/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tukaani-project/xz/downloads","issues_url":"https://api.github.com/repos/tukaani-project/xz/issues{/number}","pulls_url":"https://api.github.com/repos/tukaani-project/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/tukaani-project/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/tukaani-project/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tukaani-project/xz/labels{/name}","releases_url":"https://api.github.com/repos/tukaani-project/xz/releases{/id}","deployments_url":"https://api.github.com/repos/tukaani-project/xz/deployments","created_at":"2022-10-18T15:11:36Z","updated_at":"2024-02-29T06:25:51Z","pushed_at":"2024-02-29T17:23:38Z","git_url":"git://github.com/tukaani-project/xz.git","ssh_url":"git@github.com:tukaani-project/xz.git","clone_url":"https://github.com/tukaani-project/xz.git","svn_url":"https://github.com/tukaani-project/xz","homepage":"https://xz.tukaani.org/xz-utils","size":5032,"stargazers_count":154,"watchers_count":154,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":47,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":7,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","cli","compression","library"],"visibility":"public","forks":47,"open_issues":7,"watchers":154,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86"},"issue":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86"},"comments":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments"},"review_comments":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments"},"review_comment":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits"},"statuses":{"href":"https://api.github.com/repos/tukaani-project/xz/statuses/dab983cd87f00742f781457fb3abbd91a30a9a2f"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2024-02-29T17:23:47Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"36135068810","type":"IssueCommentEvent","actor":{"id":8733039,"login":"xry111","display_login":"xry111","gravatar_id":"","url":"https://api.github.com/users/xry111","avatar_url":"https://avatars.githubusercontent.com/u/8733039?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/tukaani-project/xz/issues/86","repository_url":"https://api.github.com/repos/tukaani-project/xz","labels_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/labels{/name}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments","events_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/events","html_url":"https://github.com/tukaani-project/xz/pull/86","id":2152741002,"node_id":"PR_kwDOIQBEvs5n1xaP","number":86,"title":"Speed up CRC32 calculation on LoongArch","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2024-02-25T12:26:01Z","updated_at":"2024-02-29T17:28:28Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","html_url":"https://github.com/tukaani-project/xz/pull/86","diff_url":"https://github.com/tukaani-project/xz/pull/86.diff","patch_url":"https://github.com/tukaani-project/xz/pull/86.patch","merged_at":null},"body":"## Pull request checklist\r\n\r\nPlease check if your PR fulfills the following requirements:\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been reviewed and added / updated if needed (for bug fixes / features)\r\n- [x] Build was run locally and without warnings or errors\r\n- [x] All previous and new tests pass\r\n\r\n\r\n## Pull request type\r\n\r\n<!-- Please try to limit your pull request to one type, submit multiple\r\npull requests if needed. --> \r\n\r\nPlease check the type of change your PR introduces:\r\n- [x] Feature\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying. -->\r\n\r\nOn LoongArch the generic table-based CRC32 implementation is used.\r\n\r\n<!-- Related issue this PR addresses, if applicable -->\r\nRelated Issue URL: None\r\n\r\n\r\n## What is the new behavior?\r\n\r\nThe crc.w.{b/h/w/d}.w instructions in LoongArch can calculate the CRC32 result for 1/2/4/8 bytes in a single operation, making the use of LoongArch CRC32 instructions much faster compared to the general CRC32 algorithm.\r\n\r\nOptimized CRC32 will be enabled if the kernel declares the LoongArch CRC32 instructions supported via AT_HWCAP.\r\n\r\n## Does this introduce a breaking change?\r\n\r\n- [x] No\r\n\r\n<!-- If this introduces a breaking change, please describe the impact and\r\nmigration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\n<!-- Any other information that is important to this PR. -->","reactions":{"url":"https://api.github.com/repos/tukaani-project/xz/issues/86/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/tukaani-project/xz/issues/comments/1971619970","html_url":"https://github.com/tukaani-project/xz/pull/86#issuecomment-1971619970","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/86","id":1971619970,"node_id":"IC_kwDOIQBEvs51hIiC","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"created_at":"2024-02-29T17:28:26Z","updated_at":"2024-02-29T17:28:26Z","author_association":"NONE","body":"> Hello! Thanks for the PR. Overall it looks like you did a great job with this.\r\n> \r\n> Can you provide benchmarks to show the speed increase from this? Specifically, can you show one version with the alignment adjustment in `crc32_arch_optimized()` and one without? I just want to be sure the alignment adjustment code is worth it for LoongArch. It would be great to vary the input buffer size to see how the speed improvements scale.\r\n\r\nI'll do it tomorrow.\r\n\r\n> Also, how necessary are the runtime detection checks? Are there LoongArch chips that do not have the CRC32 instruction?\r\n\r\nThe specification says 64-bit LoongArch chips shall implement CRC32 instructions, but 32-bit LoongArch chips may lack them (though no 32-bit LoongArch chips have been launched as at now).","reactions":{"url":"https://api.github.com/repos/tukaani-project/xz/issues/comments/1971619970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2024-02-29T17:28:28Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"36135094522","type":"PullRequestReviewEvent","actor":{"id":8733039,"login":"xry111","display_login":"xry111","gravatar_id":"","url":"https://api.github.com/users/xry111","avatar_url":"https://avatars.githubusercontent.com/u/8733039?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","review":{"id":1909476817,"node_id":"PRR_kwDOIQBEvs5x0E3R","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":null,"commit_id":"4023849b644a3df3e170cba4a551e11737192447","submitted_at":"2024-02-29T17:29:20Z","state":"commented","html_url":"https://github.com/tukaani-project/xz/pull/86#pullrequestreview-1909476817","pull_request_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","author_association":"NONE","_links":{"html":{"href":"https://github.com/tukaani-project/xz/pull/86#pullrequestreview-1909476817"},"pull_request":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"}}},"pull_request":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","id":1742149263,"node_id":"PR_kwDOIQBEvs5n1xaP","html_url":"https://github.com/tukaani-project/xz/pull/86","diff_url":"https://github.com/tukaani-project/xz/pull/86.diff","patch_url":"https://github.com/tukaani-project/xz/pull/86.patch","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/86","number":86,"state":"open","locked":false,"title":"Speed up CRC32 calculation on LoongArch","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":"## Pull request checklist\r\n\r\nPlease check if your PR fulfills the following requirements:\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been reviewed and added / updated if needed (for bug fixes / features)\r\n- [x] Build was run locally and without warnings or errors\r\n- [x] All previous and new tests pass\r\n\r\n\r\n## Pull request type\r\n\r\n<!-- Please try to limit your pull request to one type, submit multiple\r\npull requests if needed. --> \r\n\r\nPlease check the type of change your PR introduces:\r\n- [x] Feature\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying. -->\r\n\r\nOn LoongArch the generic table-based CRC32 implementation is used.\r\n\r\n<!-- Related issue this PR addresses, if applicable -->\r\nRelated Issue URL: None\r\n\r\n\r\n## What is the new behavior?\r\n\r\nThe crc.w.{b/h/w/d}.w instructions in LoongArch can calculate the CRC32 result for 1/2/4/8 bytes in a single operation, making the use of LoongArch CRC32 instructions much faster compared to the general CRC32 algorithm.\r\n\r\nOptimized CRC32 will be enabled if the kernel declares the LoongArch CRC32 instructions supported via AT_HWCAP.\r\n\r\n## Does this introduce a breaking change?\r\n\r\n- [x] No\r\n\r\n<!-- If this introduces a breaking change, please describe the impact and\r\nmigration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\n<!-- Any other information that is important to this PR. -->","created_at":"2024-02-25T12:26:01Z","updated_at":"2024-02-29T17:29:20Z","closed_at":null,"merged_at":null,"merge_commit_sha":"cc7245599c6e0b23021436c8eb0365229ffd66b0","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits","review_comments_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments","review_comment_url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/f2c25106a6e6ddf6a300ac900c5d6dd21038aa95","head":{"label":"xry111:xry111/loongarch-crc","ref":"xry111/loongarch-crc","sha":"f2c25106a6e6ddf6a300ac900c5d6dd21038aa95","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"repo":{"id":763044910,"node_id":"R_kgDOLXskLg","name":"xz","full_name":"xry111/xz","private":false,"owner":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"html_url":"https://github.com/xry111/xz","description":"XZ Utils","fork":true,"url":"https://api.github.com/repos/xry111/xz","forks_url":"https://api.github.com/repos/xry111/xz/forks","keys_url":"https://api.github.com/repos/xry111/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xry111/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xry111/xz/teams","hooks_url":"https://api.github.com/repos/xry111/xz/hooks","issue_events_url":"https://api.github.com/repos/xry111/xz/issues/events{/number}","events_url":"https://api.github.com/repos/xry111/xz/events","assignees_url":"https://api.github.com/repos/xry111/xz/assignees{/user}","branches_url":"https://api.github.com/repos/xry111/xz/branches{/branch}","tags_url":"https://api.github.com/repos/xry111/xz/tags","blobs_url":"https://api.github.com/repos/xry111/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xry111/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xry111/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/xry111/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xry111/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/xry111/xz/languages","stargazers_url":"https://api.github.com/repos/xry111/xz/stargazers","contributors_url":"https://api.github.com/repos/xry111/xz/contributors","subscribers_url":"https://api.github.com/repos/xry111/xz/subscribers","subscription_url":"https://api.github.com/repos/xry111/xz/subscription","commits_url":"https://api.github.com/repos/xry111/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/xry111/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/xry111/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/xry111/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/xry111/xz/contents/{+path}","compare_url":"https://api.github.com/repos/xry111/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xry111/xz/merges","archive_url":"https://api.github.com/repos/xry111/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xry111/xz/downloads","issues_url":"https://api.github.com/repos/xry111/xz/issues{/number}","pulls_url":"https://api.github.com/repos/xry111/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/xry111/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/xry111/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xry111/xz/labels{/name}","releases_url":"https://api.github.com/repos/xry111/xz/releases{/id}","deployments_url":"https://api.github.com/repos/xry111/xz/deployments","created_at":"2024-02-25T12:15:50Z","updated_at":"2024-02-25T12:15:50Z","pushed_at":"2024-02-29T17:29:16Z","git_url":"git://github.com/xry111/xz.git","ssh_url":"git@github.com:xry111/xz.git","clone_url":"https://github.com/xry111/xz.git","svn_url":"https://github.com/xry111/xz","homepage":"https://xz.tukaani.org/xz-utils","size":4532,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"tukaani-project:master","ref":"master","sha":"5f3d0595296cc3035eae9e7bb6c3ffb1e1267333","user":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"repo":{"id":553665726,"node_id":"R_kgDOIQBEvg","name":"xz","full_name":"tukaani-project/xz","private":false,"owner":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/tukaani-project/xz","description":"XZ Utils","fork":false,"url":"https://api.github.com/repos/tukaani-project/xz","forks_url":"https://api.github.com/repos/tukaani-project/xz/forks","keys_url":"https://api.github.com/repos/tukaani-project/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tukaani-project/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tukaani-project/xz/teams","hooks_url":"https://api.github.com/repos/tukaani-project/xz/hooks","issue_events_url":"https://api.github.com/repos/tukaani-project/xz/issues/events{/number}","events_url":"https://api.github.com/repos/tukaani-project/xz/events","assignees_url":"https://api.github.com/repos/tukaani-project/xz/assignees{/user}","branches_url":"https://api.github.com/repos/tukaani-project/xz/branches{/branch}","tags_url":"https://api.github.com/repos/tukaani-project/xz/tags","blobs_url":"https://api.github.com/repos/tukaani-project/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tukaani-project/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tukaani-project/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/tukaani-project/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/tukaani-project/xz/languages","stargazers_url":"https://api.github.com/repos/tukaani-project/xz/stargazers","contributors_url":"https://api.github.com/repos/tukaani-project/xz/contributors","subscribers_url":"https://api.github.com/repos/tukaani-project/xz/subscribers","subscription_url":"https://api.github.com/repos/tukaani-project/xz/subscription","commits_url":"https://api.github.com/repos/tukaani-project/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/tukaani-project/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/tukaani-project/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/tukaani-project/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/tukaani-project/xz/contents/{+path}","compare_url":"https://api.github.com/repos/tukaani-project/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tukaani-project/xz/merges","archive_url":"https://api.github.com/repos/tukaani-project/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tukaani-project/xz/downloads","issues_url":"https://api.github.com/repos/tukaani-project/xz/issues{/number}","pulls_url":"https://api.github.com/repos/tukaani-project/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/tukaani-project/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/tukaani-project/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tukaani-project/xz/labels{/name}","releases_url":"https://api.github.com/repos/tukaani-project/xz/releases{/id}","deployments_url":"https://api.github.com/repos/tukaani-project/xz/deployments","created_at":"2022-10-18T15:11:36Z","updated_at":"2024-02-29T06:25:51Z","pushed_at":"2024-02-29T17:29:18Z","git_url":"git://github.com/tukaani-project/xz.git","ssh_url":"git@github.com:tukaani-project/xz.git","clone_url":"https://github.com/tukaani-project/xz.git","svn_url":"https://github.com/tukaani-project/xz","homepage":"https://xz.tukaani.org/xz-utils","size":5032,"stargazers_count":154,"watchers_count":154,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":47,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":7,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","cli","compression","library"],"visibility":"public","forks":47,"open_issues":7,"watchers":154,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86"},"issue":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86"},"comments":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments"},"review_comments":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments"},"review_comment":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits"},"statuses":{"href":"https://api.github.com/repos/tukaani-project/xz/statuses/f2c25106a6e6ddf6a300ac900c5d6dd21038aa95"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2024-02-29T17:29:20Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"36135094615","type":"PullRequestReviewCommentEvent","actor":{"id":8733039,"login":"xry111","display_login":"xry111","gravatar_id":"","url":"https://api.github.com/users/xry111","avatar_url":"https://avatars.githubusercontent.com/u/8733039?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507941289","pull_request_review_id":1909476817,"id":1507941289,"node_id":"PRRC_kwDOIQBEvs5Z4Vup","diff_hunk":"@@ -0,0 +1,107 @@\n+// SPDX-License-Identifier: 0BSD\n+\n+///////////////////////////////////////////////////////////////////////////////\n+//\n+/// \\file       crc32_loongarch.h\n+/// \\brief      CRC32 calculation with LoongArch optimization\n+//\n+//  Authors:    Xi Ruoyao\n+//\n+///////////////////////////////////////////////////////////////////////////////\n+\n+\n+#ifndef LZMA_CRC32_LOONGARCH_H\n+#define LZMA_CRC32_LOONGARCH_H\n+\n+#include <larchintrin.h>\n+#include <sys/auxv.h>\n+\n+// Defined in section 9.1 of\n+// \"Software Development and Build Convention for LoongArch Architectures\"\n+// (https://github.com/loongson/la-softdev-convention/).  Hard code it\n+// instead of including <bits/hwcap.h> for compatibility with Glibc <= 2.37.\n+#define HWCAP_LOONGARCH_CRC32 (1 << 6)\n+\n+#if __loongarch_grlen >= 64\n+#  define UNIT_SIZE 8\n+#  define CRC_UNIT(buf, crc) __crc_w_d_w((int64_t)aligned_read64le(buf), crc)\n+#else\n+#  define UNIT_SIZE 4\n+#  define CRC_UNIT(buf, crc) __crc_w_w_w((int32_t)aligned_read32le(buf), crc)\n+#endif\n+\n+static uint32_t","path":"src/liblzma/check/crc32_loongarch.h","commit_id":"f2c25106a6e6ddf6a300ac900c5d6dd21038aa95","original_commit_id":"4023849b644a3df3e170cba4a551e11737192447","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":"Done.","created_at":"2024-02-29T17:29:20Z","updated_at":"2024-02-29T17:29:20Z","html_url":"https://github.com/tukaani-project/xz/pull/86#discussion_r1507941289","pull_request_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","author_association":"NONE","_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507941289"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86#discussion_r1507941289"},"pull_request":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"}},"reactions":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments/1507941289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"start_line":null,"original_start_line":null,"start_side":null,"line":34,"original_line":34,"side":"RIGHT","in_reply_to_id":1507894274,"original_position":33,"position":34,"subject_type":"line"},"pull_request":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","id":1742149263,"node_id":"PR_kwDOIQBEvs5n1xaP","html_url":"https://github.com/tukaani-project/xz/pull/86","diff_url":"https://github.com/tukaani-project/xz/pull/86.diff","patch_url":"https://github.com/tukaani-project/xz/pull/86.patch","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/86","number":86,"state":"open","locked":false,"title":"Speed up CRC32 calculation on LoongArch","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"body":"## Pull request checklist\r\n\r\nPlease check if your PR fulfills the following requirements:\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been reviewed and added / updated if needed (for bug fixes / features)\r\n- [x] Build was run locally and without warnings or errors\r\n- [x] All previous and new tests pass\r\n\r\n\r\n## Pull request type\r\n\r\n<!-- Please try to limit your pull request to one type, submit multiple\r\npull requests if needed. --> \r\n\r\nPlease check the type of change your PR introduces:\r\n- [x] Feature\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying. -->\r\n\r\nOn LoongArch the generic table-based CRC32 implementation is used.\r\n\r\n<!-- Related issue this PR addresses, if applicable -->\r\nRelated Issue URL: None\r\n\r\n\r\n## What is the new behavior?\r\n\r\nThe crc.w.{b/h/w/d}.w instructions in LoongArch can calculate the CRC32 result for 1/2/4/8 bytes in a single operation, making the use of LoongArch CRC32 instructions much faster compared to the general CRC32 algorithm.\r\n\r\nOptimized CRC32 will be enabled if the kernel declares the LoongArch CRC32 instructions supported via AT_HWCAP.\r\n\r\n## Does this introduce a breaking change?\r\n\r\n- [x] No\r\n\r\n<!-- If this introduces a breaking change, please describe the impact and\r\nmigration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\n<!-- Any other information that is important to this PR. -->","created_at":"2024-02-25T12:26:01Z","updated_at":"2024-02-29T17:29:20Z","closed_at":null,"merged_at":null,"merge_commit_sha":"cc7245599c6e0b23021436c8eb0365229ffd66b0","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits","review_comments_url":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments","review_comment_url":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/f2c25106a6e6ddf6a300ac900c5d6dd21038aa95","head":{"label":"xry111:xry111/loongarch-crc","ref":"xry111/loongarch-crc","sha":"f2c25106a6e6ddf6a300ac900c5d6dd21038aa95","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"repo":{"id":763044910,"node_id":"R_kgDOLXskLg","name":"xz","full_name":"xry111/xz","private":false,"owner":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"html_url":"https://github.com/xry111/xz","description":"XZ Utils","fork":true,"url":"https://api.github.com/repos/xry111/xz","forks_url":"https://api.github.com/repos/xry111/xz/forks","keys_url":"https://api.github.com/repos/xry111/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/xry111/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/xry111/xz/teams","hooks_url":"https://api.github.com/repos/xry111/xz/hooks","issue_events_url":"https://api.github.com/repos/xry111/xz/issues/events{/number}","events_url":"https://api.github.com/repos/xry111/xz/events","assignees_url":"https://api.github.com/repos/xry111/xz/assignees{/user}","branches_url":"https://api.github.com/repos/xry111/xz/branches{/branch}","tags_url":"https://api.github.com/repos/xry111/xz/tags","blobs_url":"https://api.github.com/repos/xry111/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/xry111/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/xry111/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/xry111/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/xry111/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/xry111/xz/languages","stargazers_url":"https://api.github.com/repos/xry111/xz/stargazers","contributors_url":"https://api.github.com/repos/xry111/xz/contributors","subscribers_url":"https://api.github.com/repos/xry111/xz/subscribers","subscription_url":"https://api.github.com/repos/xry111/xz/subscription","commits_url":"https://api.github.com/repos/xry111/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/xry111/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/xry111/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/xry111/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/xry111/xz/contents/{+path}","compare_url":"https://api.github.com/repos/xry111/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/xry111/xz/merges","archive_url":"https://api.github.com/repos/xry111/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/xry111/xz/downloads","issues_url":"https://api.github.com/repos/xry111/xz/issues{/number}","pulls_url":"https://api.github.com/repos/xry111/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/xry111/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/xry111/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/xry111/xz/labels{/name}","releases_url":"https://api.github.com/repos/xry111/xz/releases{/id}","deployments_url":"https://api.github.com/repos/xry111/xz/deployments","created_at":"2024-02-25T12:15:50Z","updated_at":"2024-02-25T12:15:50Z","pushed_at":"2024-02-29T17:29:16Z","git_url":"git://github.com/xry111/xz.git","ssh_url":"git@github.com:xry111/xz.git","clone_url":"https://github.com/xry111/xz.git","svn_url":"https://github.com/xry111/xz","homepage":"https://xz.tukaani.org/xz-utils","size":4532,"stargazers_count":0,"watchers_count":0,"language":null,"has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"master"}},"base":{"label":"tukaani-project:master","ref":"master","sha":"5f3d0595296cc3035eae9e7bb6c3ffb1e1267333","user":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"repo":{"id":553665726,"node_id":"R_kgDOIQBEvg","name":"xz","full_name":"tukaani-project/xz","private":false,"owner":{"login":"tukaani-project","id":116083088,"node_id":"O_kgDOButJkA","avatar_url":"https://avatars.githubusercontent.com/u/116083088?v=4","gravatar_id":"","url":"https://api.github.com/users/tukaani-project","html_url":"https://github.com/tukaani-project","followers_url":"https://api.github.com/users/tukaani-project/followers","following_url":"https://api.github.com/users/tukaani-project/following{/other_user}","gists_url":"https://api.github.com/users/tukaani-project/gists{/gist_id}","starred_url":"https://api.github.com/users/tukaani-project/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tukaani-project/subscriptions","organizations_url":"https://api.github.com/users/tukaani-project/orgs","repos_url":"https://api.github.com/users/tukaani-project/repos","events_url":"https://api.github.com/users/tukaani-project/events{/privacy}","received_events_url":"https://api.github.com/users/tukaani-project/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/tukaani-project/xz","description":"XZ Utils","fork":false,"url":"https://api.github.com/repos/tukaani-project/xz","forks_url":"https://api.github.com/repos/tukaani-project/xz/forks","keys_url":"https://api.github.com/repos/tukaani-project/xz/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tukaani-project/xz/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tukaani-project/xz/teams","hooks_url":"https://api.github.com/repos/tukaani-project/xz/hooks","issue_events_url":"https://api.github.com/repos/tukaani-project/xz/issues/events{/number}","events_url":"https://api.github.com/repos/tukaani-project/xz/events","assignees_url":"https://api.github.com/repos/tukaani-project/xz/assignees{/user}","branches_url":"https://api.github.com/repos/tukaani-project/xz/branches{/branch}","tags_url":"https://api.github.com/repos/tukaani-project/xz/tags","blobs_url":"https://api.github.com/repos/tukaani-project/xz/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tukaani-project/xz/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tukaani-project/xz/git/refs{/sha}","trees_url":"https://api.github.com/repos/tukaani-project/xz/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tukaani-project/xz/statuses/{sha}","languages_url":"https://api.github.com/repos/tukaani-project/xz/languages","stargazers_url":"https://api.github.com/repos/tukaani-project/xz/stargazers","contributors_url":"https://api.github.com/repos/tukaani-project/xz/contributors","subscribers_url":"https://api.github.com/repos/tukaani-project/xz/subscribers","subscription_url":"https://api.github.com/repos/tukaani-project/xz/subscription","commits_url":"https://api.github.com/repos/tukaani-project/xz/commits{/sha}","git_commits_url":"https://api.github.com/repos/tukaani-project/xz/git/commits{/sha}","comments_url":"https://api.github.com/repos/tukaani-project/xz/comments{/number}","issue_comment_url":"https://api.github.com/repos/tukaani-project/xz/issues/comments{/number}","contents_url":"https://api.github.com/repos/tukaani-project/xz/contents/{+path}","compare_url":"https://api.github.com/repos/tukaani-project/xz/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tukaani-project/xz/merges","archive_url":"https://api.github.com/repos/tukaani-project/xz/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tukaani-project/xz/downloads","issues_url":"https://api.github.com/repos/tukaani-project/xz/issues{/number}","pulls_url":"https://api.github.com/repos/tukaani-project/xz/pulls{/number}","milestones_url":"https://api.github.com/repos/tukaani-project/xz/milestones{/number}","notifications_url":"https://api.github.com/repos/tukaani-project/xz/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tukaani-project/xz/labels{/name}","releases_url":"https://api.github.com/repos/tukaani-project/xz/releases{/id}","deployments_url":"https://api.github.com/repos/tukaani-project/xz/deployments","created_at":"2022-10-18T15:11:36Z","updated_at":"2024-02-29T06:25:51Z","pushed_at":"2024-02-29T17:29:18Z","git_url":"git://github.com/tukaani-project/xz.git","ssh_url":"git@github.com:tukaani-project/xz.git","clone_url":"https://github.com/tukaani-project/xz.git","svn_url":"https://github.com/tukaani-project/xz","homepage":"https://xz.tukaani.org/xz-utils","size":5032,"stargazers_count":154,"watchers_count":154,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":47,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":7,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c","cli","compression","library"],"visibility":"public","forks":47,"open_issues":7,"watchers":154,"default_branch":"master"}},"_links":{"self":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86"},"html":{"href":"https://github.com/tukaani-project/xz/pull/86"},"issue":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86"},"comments":{"href":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments"},"review_comments":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/comments"},"review_comment":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/tukaani-project/xz/pulls/86/commits"},"statuses":{"href":"https://api.github.com/repos/tukaani-project/xz/statuses/f2c25106a6e6ddf6a300ac900c5d6dd21038aa95"}},"author_association":"NONE","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2024-02-29T17:29:20Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"36135286918","type":"IssueCommentEvent","actor":{"id":78042786,"login":"JiaT75","display_login":"JiaT75","gravatar_id":"","url":"https://api.github.com/users/JiaT75","avatar_url":"https://avatars.githubusercontent.com/u/78042786?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/tukaani-project/xz/issues/86","repository_url":"https://api.github.com/repos/tukaani-project/xz","labels_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/labels{/name}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/comments","events_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/events","html_url":"https://github.com/tukaani-project/xz/pull/86","id":2152741002,"node_id":"PR_kwDOIQBEvs5n1xaP","number":86,"title":"Speed up CRC32 calculation on LoongArch","user":{"login":"xry111","id":8733039,"node_id":"MDQ6VXNlcjg3MzMwMzk=","avatar_url":"https://avatars.githubusercontent.com/u/8733039?v=4","gravatar_id":"","url":"https://api.github.com/users/xry111","html_url":"https://github.com/xry111","followers_url":"https://api.github.com/users/xry111/followers","following_url":"https://api.github.com/users/xry111/following{/other_user}","gists_url":"https://api.github.com/users/xry111/gists{/gist_id}","starred_url":"https://api.github.com/users/xry111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xry111/subscriptions","organizations_url":"https://api.github.com/users/xry111/orgs","repos_url":"https://api.github.com/users/xry111/repos","events_url":"https://api.github.com/users/xry111/events{/privacy}","received_events_url":"https://api.github.com/users/xry111/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2024-02-25T12:26:01Z","updated_at":"2024-02-29T17:35:39Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/tukaani-project/xz/pulls/86","html_url":"https://github.com/tukaani-project/xz/pull/86","diff_url":"https://github.com/tukaani-project/xz/pull/86.diff","patch_url":"https://github.com/tukaani-project/xz/pull/86.patch","merged_at":null},"body":"## Pull request checklist\r\n\r\nPlease check if your PR fulfills the following requirements:\r\n- [ ] Tests for the changes have been added (for bug fixes / features)\r\n- [ ] Docs have been reviewed and added / updated if needed (for bug fixes / features)\r\n- [x] Build was run locally and without warnings or errors\r\n- [x] All previous and new tests pass\r\n\r\n\r\n## Pull request type\r\n\r\n<!-- Please try to limit your pull request to one type, submit multiple\r\npull requests if needed. --> \r\n\r\nPlease check the type of change your PR introduces:\r\n- [x] Feature\r\n\r\n## What is the current behavior?\r\n<!-- Please describe the current behavior that you are modifying. -->\r\n\r\nOn LoongArch the generic table-based CRC32 implementation is used.\r\n\r\n<!-- Related issue this PR addresses, if applicable -->\r\nRelated Issue URL: None\r\n\r\n\r\n## What is the new behavior?\r\n\r\nThe crc.w.{b/h/w/d}.w instructions in LoongArch can calculate the CRC32 result for 1/2/4/8 bytes in a single operation, making the use of LoongArch CRC32 instructions much faster compared to the general CRC32 algorithm.\r\n\r\nOptimized CRC32 will be enabled if the kernel declares the LoongArch CRC32 instructions supported via AT_HWCAP.\r\n\r\n## Does this introduce a breaking change?\r\n\r\n- [x] No\r\n\r\n<!-- If this introduces a breaking change, please describe the impact and\r\nmigration path for existing applications below. -->\r\n\r\n\r\n## Other information\r\n\r\n<!-- Any other information that is important to this PR. -->","reactions":{"url":"https://api.github.com/repos/tukaani-project/xz/issues/86/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tukaani-project/xz/issues/86/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/tukaani-project/xz/issues/comments/1971631816","html_url":"https://github.com/tukaani-project/xz/pull/86#issuecomment-1971631816","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/86","id":1971631816,"node_id":"IC_kwDOIQBEvs51hLbI","user":{"login":"JiaT75","id":78042786,"node_id":"MDQ6VXNlcjc4MDQyNzg2","avatar_url":"https://avatars.githubusercontent.com/u/78042786?v=4","gravatar_id":"","url":"https://api.github.com/users/JiaT75","html_url":"https://github.com/JiaT75","followers_url":"https://api.github.com/users/JiaT75/followers","following_url":"https://api.github.com/users/JiaT75/following{/other_user}","gists_url":"https://api.github.com/users/JiaT75/gists{/gist_id}","starred_url":"https://api.github.com/users/JiaT75/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JiaT75/subscriptions","organizations_url":"https://api.github.com/users/JiaT75/orgs","repos_url":"https://api.github.com/users/JiaT75/repos","events_url":"https://api.github.com/users/JiaT75/events{/privacy}","received_events_url":"https://api.github.com/users/JiaT75/received_events","type":"User","site_admin":false},"created_at":"2024-02-29T17:35:38Z","updated_at":"2024-02-29T17:35:38Z","author_association":"MEMBER","body":"> I'll do it tomorrow.\r\n\r\nThanks!\r\n \r\n> The specification says 64-bit LoongArch chips shall implement CRC32 instructions, but 32-bit LoongArch chips may lack them (though no 32-bit LoongArch chips have been launched as at now).\r\n\r\nOk that is great to know. I had not found any references to 32-bit LoongArch chips, so that makes sense. Is it likely that 32-bit chips will be made? Otherwise it will simplify things to just design the code for 64-bit LoongArch and not bother with the runtime checks at all. Future 32-bit LoongArch may need extra compiler flags or a function `__attribute__()` so the code wouldn't be able to work as-is anyway.","reactions":{"url":"https://api.github.com/repos/tukaani-project/xz/issues/comments/1971631816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2024-02-29T17:35:39Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
