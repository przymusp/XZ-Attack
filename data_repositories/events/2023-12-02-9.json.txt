{"id":"33814280864","type":"IssueCommentEvent","actor":{"id":79351,"login":"mojavelinux","display_login":"mojavelinux","gravatar_id":"","url":"https://api.github.com/users/mojavelinux","avatar_url":"https://avatars.githubusercontent.com/u/79351?"},"repo":{"id":4523235,"name":"asciidoctor/asciidoctor","url":"https://api.github.com/repos/asciidoctor/asciidoctor"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4523","repository_url":"https://api.github.com/repos/asciidoctor/asciidoctor","labels_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4523/labels{/name}","comments_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4523/comments","events_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4523/events","html_url":"https://github.com/asciidoctor/asciidoctor/issues/4523","id":2021653406,"node_id":"I_kwDOAEUE4854f_ue","number":4523,"title":"Stylesheet: Avoid a second border below the main heading","user":{"login":"Larhzu","id":120408189,"node_id":"U_kgDOBy1IfQ","avatar_url":"https://avatars.githubusercontent.com/u/120408189?v=4","gravatar_id":"","url":"https://api.github.com/users/Larhzu","html_url":"https://github.com/Larhzu","followers_url":"https://api.github.com/users/Larhzu/followers","following_url":"https://api.github.com/users/Larhzu/following{/other_user}","gists_url":"https://api.github.com/users/Larhzu/gists{/gist_id}","starred_url":"https://api.github.com/users/Larhzu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Larhzu/subscriptions","organizations_url":"https://api.github.com/users/Larhzu/orgs","repos_url":"https://api.github.com/users/Larhzu/repos","events_url":"https://api.github.com/users/Larhzu/events{/privacy}","received_events_url":"https://api.github.com/users/Larhzu/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2023-12-01T22:10:41Z","updated_at":"2023-12-02T09:46:12Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"These apply to both v2.0.x and main branches.\r\n\r\nIf `<div class=\"details\">` is missing when using `:toc: left` or `:toc: right`, an extra border is drawn below the main heading if the viewport is narrow (when the TOC is shown below the heading).\r\n\r\nA minimal test case (use a narrow browser window):\r\n\r\n```\r\n:toc: left\r\n\r\n= Foo\r\n\r\n== Bar\r\n```\r\n\r\nIt seems simple to fix based on `toc` vs. `toc2` class:\r\n\r\n```\r\n-#header > h1:first-child + #toc {\r\n+#header > h1:first-child + #toc.toc {\r\n```\r\n\r\nI tried to test that it doesn't break any other combinations and didn't find any issues but of course it's possbile that I missed a corner case still.\r\n\r\nUnrelated but it's so tiny thing that I mention it here anyway: The following could be added for consistency with `sup.footnote a:active` (and `#toc a:active`).\r\n\r\n```\r\n#footnotes .footnote a:first-of-type:active {\r\n  text-decoration: underline;\r\n}\r\n```\r\n\r\nThanks!\r\n","reactions":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4523/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4523/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/comments/1837105700","html_url":"https://github.com/asciidoctor/asciidoctor/issues/4523#issuecomment-1837105700","issue_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4523","id":1837105700,"node_id":"IC_kwDOAEUE485tgAIk","user":{"login":"mojavelinux","id":79351,"node_id":"MDQ6VXNlcjc5MzUx","avatar_url":"https://avatars.githubusercontent.com/u/79351?v=4","gravatar_id":"","url":"https://api.github.com/users/mojavelinux","html_url":"https://github.com/mojavelinux","followers_url":"https://api.github.com/users/mojavelinux/followers","following_url":"https://api.github.com/users/mojavelinux/following{/other_user}","gists_url":"https://api.github.com/users/mojavelinux/gists{/gist_id}","starred_url":"https://api.github.com/users/mojavelinux/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mojavelinux/subscriptions","organizations_url":"https://api.github.com/users/mojavelinux/orgs","repos_url":"https://api.github.com/users/mojavelinux/repos","events_url":"https://api.github.com/users/mojavelinux/events{/privacy}","received_events_url":"https://api.github.com/users/mojavelinux/received_events","type":"User","site_admin":false},"created_at":"2023-12-02T09:46:11Z","updated_at":"2023-12-02T09:46:11Z","author_association":"MEMBER","body":"The correct fix is to only draw the bottom border when the sidebar toc appears, which means the rule should be enclosed in the same media query. That way, the extra border won't be there when the toc is collapsed into the main content.","reactions":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/comments/1837105700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-12-02T09:46:12Z","org":{"id":3137042,"login":"asciidoctor","gravatar_id":"","url":"https://api.github.com/orgs/asciidoctor","avatar_url":"https://avatars.githubusercontent.com/u/3137042?"}}
