{"id":"32107549626","type":"PushEvent","actor":{"id":120408189,"login":"Larhzu","display_login":"Larhzu","gravatar_id":"","url":"https://api.github.com/users/Larhzu","avatar_url":"https://avatars.githubusercontent.com/u/120408189?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"repository_id":553665726,"push_id":15184206519,"size":2,"distinct_size":2,"ref":"refs/heads/master","head":"9c42f936939b813f25d0ff4e99c3eb9c2d17a0d2","before":"519e47c2818acde571fadc79551294527fe6cc22","commits":[{"sha":"9f1444a8a5c0e724b2c7ef83424f642f07a95982","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"Build: Silence two Autoconf warnings.\n\nThere were two uses of AC_COMPILE_IFELSE that didn't use\nAC_LANG_SOURCE and Autoconf warned about these. The omission\nhad been intentional but it turned out that this didn't do\nwhat I thought it would.\n\nAutoconf 2.71 manual gives an impression that AC_LANG_SOURCE\ninserts all #defines that have been made with AC_DEFINE so\nfar (confdefs.h). The idea was that omitting AC_LANG_SOURCE\nwould mean that only the exact code included in the\nAC_COMPILE_IFELSE call would be compiled.\n\nWith C programs this is not true: the #defines get added without\nAC_LANG_SOURCE too. There seems to be no neat way to avoid this.\nThus, with the C language at least, adding AC_LANG_SOURCE makes\nno other difference than silencing a warning from Autoconf. The\ngenerated \"configure\" remains identical. (Docs of AC_LANG_CONFTEST\nsay that the #defines have been inserted since Autoconf 2.63b and\nthat AC_COMPILE_IFELSE uses AC_LANG_CONFTEST. So the behavior is\ndocumented if one also reads the docs of macros that one isn't\ncalling directly.)\n\nAny extra code, including #defines, can cause problems for\nthese two tests because these tests must use -Werror.\nCC=clang CFLAGS=-Weverything is the most extreme example.\nIt enables -Wreserved-macro-identifier which warns about\n#define __EXTENSIONS__ 1 because it begins with two underscores.\nIt's possible to write a test file that passes -Weverything but\nit becomes impossible when Autoconf inserts confdefs.h.\n\nSo this commit adds AC_LANG_SOURCE to silence Autoconf warnings.\nA different solution is needed for -Werror tests.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/9f1444a8a5c0e724b2c7ef83424f642f07a95982"},{"sha":"9c42f936939b813f25d0ff4e99c3eb9c2d17a0d2","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"Build: Fix underquoted AC_LANG_SOURCE.\n\nIt made no practical difference in this case.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/9c42f936939b813f25d0ff4e99c3eb9c2d17a0d2"}]},"public":true,"created_at":"2023-09-26T10:53:44Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
