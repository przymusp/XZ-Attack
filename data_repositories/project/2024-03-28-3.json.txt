{"id":"36953057633","type":"IssueCommentEvent","actor":{"id":13152803,"login":"ivq","display_login":"ivq","gravatar_id":"","url":"https://api.github.com/users/ivq","avatar_url":"https://avatars.githubusercontent.com/u/13152803?"},"repo":{"id":81598961,"name":"python/cpython","url":"https://api.github.com/repos/python/cpython"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/python/cpython/issues/115989","repository_url":"https://api.github.com/repos/python/cpython","labels_url":"https://api.github.com/repos/python/cpython/issues/115989/labels{/name}","comments_url":"https://api.github.com/repos/python/cpython/issues/115989/comments","events_url":"https://api.github.com/repos/python/cpython/issues/115989/events","html_url":"https://github.com/python/cpython/pull/115989","id":2156572354,"node_id":"PR_kwDOBN0Z8c5oC0vh","number":115989,"title":"gh-115988: Add missing ARM64 and RISCV filter in lzma module","user":{"login":"ivq","id":13152803,"node_id":"MDQ6VXNlcjEzMTUyODAz","avatar_url":"https://avatars.githubusercontent.com/u/13152803?v=4","gravatar_id":"","url":"https://api.github.com/users/ivq","html_url":"https://github.com/ivq","followers_url":"https://api.github.com/users/ivq/followers","following_url":"https://api.github.com/users/ivq/following{/other_user}","gists_url":"https://api.github.com/users/ivq/gists{/gist_id}","starred_url":"https://api.github.com/users/ivq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivq/subscriptions","organizations_url":"https://api.github.com/users/ivq/orgs","repos_url":"https://api.github.com/users/ivq/repos","events_url":"https://api.github.com/users/ivq/events{/privacy}","received_events_url":"https://api.github.com/users/ivq/received_events","type":"User","site_admin":false},"labels":[{"id":666980059,"node_id":"MDU6TGFiZWw2NjY5ODAwNTk=","url":"https://api.github.com/repos/python/cpython/labels/awaiting%20merge","name":"awaiting merge","color":"fbca04","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":13,"created_at":"2024-02-27T13:17:46Z","updated_at":"2024-03-28T03:42:39Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/python/cpython/pulls/115989","html_url":"https://github.com/python/cpython/pull/115989","diff_url":"https://github.com/python/cpython/pull/115989.diff","patch_url":"https://github.com/python/cpython/pull/115989.patch","merged_at":null},"body":"#115988 \r\n\r\nExample:\r\n```python\r\nimport lzma\r\n\r\nfilter = [\r\n    { \"id\": lzma.FILTER_RISCV },\r\n    { \"id\": lzma.FILTER_LZMA2 },\r\n]\r\n\r\nin_fn = \"in.bin\"\r\nout_fn = \"out.bin\"\r\n\r\nwith open(in_fn, mode=\"rb\") as f:\r\n    in_data = f.read()\r\n\r\nwith lzma.open(out_fn, mode=\"wb\", filters=filter) as f:\r\n    f.write(in_data)\r\n\r\n```\r\n\r\n<!-- readthedocs-preview cpython-previews start -->\r\n----\nðŸ“š Documentation preview ðŸ“š: https://cpython-previews--115989.org.readthedocs.build/\n\r\n<!-- readthedocs-preview cpython-previews end -->","reactions":{"url":"https://api.github.com/repos/python/cpython/issues/115989/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/python/cpython/issues/115989/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/python/cpython/issues/comments/2024341676","html_url":"https://github.com/python/cpython/pull/115989#issuecomment-2024341676","issue_url":"https://api.github.com/repos/python/cpython/issues/115989","id":2024341676,"node_id":"IC_kwDOBN0Z8c54qQCs","user":{"login":"ivq","id":13152803,"node_id":"MDQ6VXNlcjEzMTUyODAz","avatar_url":"https://avatars.githubusercontent.com/u/13152803?v=4","gravatar_id":"","url":"https://api.github.com/users/ivq","html_url":"https://github.com/ivq","followers_url":"https://api.github.com/users/ivq/followers","following_url":"https://api.github.com/users/ivq/following{/other_user}","gists_url":"https://api.github.com/users/ivq/gists{/gist_id}","starred_url":"https://api.github.com/users/ivq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivq/subscriptions","organizations_url":"https://api.github.com/users/ivq/orgs","repos_url":"https://api.github.com/users/ivq/repos","events_url":"https://api.github.com/users/ivq/events{/privacy}","received_events_url":"https://api.github.com/users/ivq/received_events","type":"User","site_admin":false},"created_at":"2024-03-28T03:42:39Z","updated_at":"2024-03-28T03:42:39Z","author_association":"NONE","body":"> It all LGTM, and I can merge it at any moment. Thank you for your contribution @ivq.\r\n> \r\n> But it touches some other issues.\r\n> \r\n>     * Data for `lzma` tests. Currently it is inlined in the Python code, and it takes up a lot of space (many hundreds lines). Your PR is correct, you follow the existing practice, but it may be better to save them as separate files (and do the same for `gzip` and `bz2` tests). Some of `zipfile` and `tarfile` test data is already saved as separate files, other is inlined.\r\n> \r\n>     * You exposed the version of the `lzma` library as strings. This is the same as what was done for `zlib`, so it all is fine. But a structured version info is actually more useful, and it is what is needed for tests. We should consider to add structured version objects for `gzip`, `lzma`, and other libraries.\r\n> \r\n> \r\n> I will try to resolve these issues separately. If I do this in the near future, this PR will need to be reworked (I can do it, or you can if you want). If it takes a long time, I will merge this PR as is.\r\n\r\nOK. It's up to your schedule. I am willing to help.\r\nI did consider structured version info but thought string should be just enough as normal use cases would not care about\r\nlibrary version. Note that lzma version string may contain more info: https://github.com/tukaani-project/xz/blob/master/src/liblzma/api/lzma/version.h#L99","reactions":{"url":"https://api.github.com/repos/python/cpython/issues/comments/2024341676/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2024-03-28T03:42:40Z","org":{"id":1525981,"login":"python","gravatar_id":"","url":"https://api.github.com/orgs/python","avatar_url":"https://avatars.githubusercontent.com/u/1525981?"}}
