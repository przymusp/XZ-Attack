{"id":"36611938783","type":"PushEvent","actor":{"id":120408189,"login":"Larhzu","display_login":"Larhzu","gravatar_id":"","url":"https://api.github.com/users/Larhzu","avatar_url":"https://avatars.githubusercontent.com/u/120408189?"},"repo":{"id":553669853,"name":"tukaani-project/xz-embedded","url":"https://api.github.com/repos/tukaani-project/xz-embedded"},"payload":{"repository_id":553669853,"push_id":17573903235,"size":17,"distinct_size":17,"ref":"refs/heads/misc","head":"20a8047af46c4c7ddc262bb73bdcb5cf2b8361cc","before":"2f37cf5fc0fa01bf86880f4957fb393304de2fda","commits":[{"sha":"0fc2a555c3c775d5632d0005120faacaee6d0835","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"Add linux/MAINTAINERS.\n\nIt includes only the lines that are relevant to this project.\nHaving the file here works as a reminder that those lines need\nto be updated in Linux if the information becomes outdated.\n\nNote that the file list (F: entries) must be in case-insensitive\nalphabetical order to make checkpatch.pl happy.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz-embedded/commits/0fc2a555c3c775d5632d0005120faacaee6d0835"},{"sha":"7eb418ffbbaf8d60e530fa6a6d2669d633921c8a","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"Switch to BSD Zero Clause License.\n\nThis adds the file AUTHORS. The file COPYING now contains\nonly the copyright notice and license text.\n\nThe switch to 0BSD is done because public domain has\n(real or perceived) legal issues in some jurisdictions.\nAll people mentioned in AUTHORS have confirmed that\ntheir works included in this project can be distributed\nunder the 0BSD license.\n\nThe SPDX license identifiers use /* */ or // comments\nas required by Documentation/process/license-rules.rst\nin Linux: // for .c files, /* */ for .h files.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz-embedded/commits/7eb418ffbbaf8d60e530fa6a6d2669d633921c8a"},{"sha":"ce1588771baab1a84a84bbb7b4a233213eacb179","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"userspace/Makefile: Switch from -std=gnu89 to -std=gnu11.\n\nLinux moved from -std=gnu89 to -std=gnu11 in 2022 so now we need\nmuch fewer extensions than in the past (long long, stdint.h, and\nstdbool.h are standard C99 and later).\n\nThe option is -Wdeclaration-after-statement there for now because\nmixed declarations and statements aren't used at the moment\n(even though I like those) but it's not worth it to change those\nat this point.\n\nThese are the known things that don't conform to C99/C11:\n\n  - Null pointer + 0 is assumed to be well defined:\n\n        char *p = NULL; p += 0; assert(p == NULL);\n\n    It's required if a pointer in struct xz_buf is NULL\n    and thus the matching foo_size is 0.\n\n  - LZMA decoder accesses arrays inside structures in a way that\n    goes beyond the array bounds (while still staying within\n    the structure). The initialization thing could be neatly\n    cleaned up with C11's anonymous union.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz-embedded/commits/ce1588771baab1a84a84bbb7b4a233213eacb179"},{"sha":"0340d6eca8cc894fc39ece241af259b667795644","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"userspace/xz_config.h: Remove the stdbool.h workaround for MSVC.\n\nMSVC 2013 and newer have stdbool.h. Support for the older versions\nhas ended.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz-embedded/commits/0340d6eca8cc894fc39ece241af259b667795644"},{"sha":"0c1ec82a63536d3529a570b85d9c54b5d43f109f","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"lib/decompress_unxz.c: Fix style and comments.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz-embedded/commits/0c1ec82a63536d3529a570b85d9c54b5d43f109f"},{"sha":"212f5d9089530946ea7d48a031c270f819ba80d6","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"userspace/boottest.c: Make it build with the new __decompress API.\n\nThe __decompress() function takes a new extra argument to specify\noutput buffer size. Some decompressors in Linux use it, some don't.\nThose that don't, assume that output buffer is SIZE_MAX. It's not\na security problem because the code is used for decompressing the\nkernel image only but it was still one of odd things in the API design.\n\nBuffer sizes are now long instead of int (but not size_t)\nso that initramfs larger than 2 GiB works too.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz-embedded/commits/212f5d9089530946ea7d48a031c270f819ba80d6"},{"sha":"c08e2d12d9c63e633c8528319d6148c565ee76c0","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"userspace/boottest.c: #undef XZ_DEC_ANY_CHECK.\n\nIt's not defined in Linux and decompress_unxz.c doesn't check for it.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz-embedded/commits/c08e2d12d9c63e633c8528319d6148c565ee76c0"},{"sha":"60933d583bb1f8d309e4c41c45859793fe2b8829","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"Use a fallthrough macro instead of a fall through comment.\n\nThis change was made in Linux in 2020.\n\nThe macro name \"fallthrough\" might be problematic outside of Linux\nif XZ Embedded code is mixed with C23 code that uses [[fallthrough]]\nbut let's not worry about that for now.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz-embedded/commits/60933d583bb1f8d309e4c41c45859793fe2b8829"},{"sha":"2cab5c7b4b2592b9ce51d6100486e342f59d0591","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"Replace xz.txt with xz.rst and update the contents.\n\nThe old xz.txt had been moved and trivially converted to xz.rst\nin Linux already without changing the contents. This updates\nthe content too as some of it was outdated. The SPDX license\nidentifier was added too.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz-embedded/commits/2cab5c7b4b2592b9ce51d6100486e342f59d0591"},{"sha":"4985fe186c77a1b86bd31f7b9cbee75ad0f29dc7","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"Update the path to xz.rst in Kconfig.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz-embedded/commits/4985fe186c77a1b86bd31f7b9cbee75ad0f29dc7"},{"sha":"0fc75467bf03bead49c1b82bc522e22bc5e0c998","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"Update the path to xz.rst in README.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz-embedded/commits/0fc75467bf03bead49c1b82bc522e22bc5e0c998"},{"sha":"d952657f2c9110fc1b3980689fc3ee55c016d4a8","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"Optimize the ARM64 BCJ decoder for-loop condition.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz-embedded/commits/d952657f2c9110fc1b3980689fc3ee55c016d4a8"},{"sha":"90cfe196a5b978bd7b1b92931dff1e996b939799","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"Optimize five other BCJ decoder for-loop conditions.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz-embedded/commits/90cfe196a5b978bd7b1b92931dff1e996b939799"},{"sha":"5f2e0e70933c174c8ab9a020b84a28add7bf190c","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"Add RISC-V BCJ decoder.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz-embedded/commits/5f2e0e70933c174c8ab9a020b84a28add7bf190c"},{"sha":"74b924a23759b79f472bb2ef46c2b40ee0c30c3b","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"Update xz_dec.ko MODULE_AUTHOR and MODULE_VERSION.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz-embedded/commits/74b924a23759b79f472bb2ef46c2b40ee0c30c3b"},{"sha":"5637badd6b1d3bb4b8389b98c356e956257d8188","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"xz_wrap.sh: Use 128 MiB dictionary and force single-threaded mode.\n\nDesktop kernels on x86-64 are already around 60 MiB. Using\na dictionary larger than 32 MiB has no downsides nowadays\nas anyone building the kernel will have plenty of RAM.\n128 MiB dictionary needs 1346 MiB of RAM with xz 5.6.1\nin single-threaded mode. Kernel decompression is done\nin single-call mode so larger dictionary doesn't\naffect boot-time memory requirements.\n\nxz 5.6.1 uses multithreaded mode by default which compresses\nslightly worse than single-threaded mode. With kernel compression,\ngetting the smallest size is the likely reason to choose XZ over\nthe other options so slower compression should be acceptable in\ntypical cases. In practice this makes no difference because with\nthe old 32 MiB dictionary size setting the default block size was\n96 MiB in multithreaded mode. So only a single thread was used\nanyway unless the kernel was over 96 MiB.\n\nEspecially with the new larger dictionary size, the benefit of\nforcing single-threaded mode is reduced RAM usage.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz-embedded/commits/5637badd6b1d3bb4b8389b98c356e956257d8188"},{"sha":"20a8047af46c4c7ddc262bb73bdcb5cf2b8361cc","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"xz_wrap.sh: Revise BCJ filter and LZMA2 options selection.\n\nThanks to Jubin Zhong for pointing out that CONFIG_THUMB2_KERNEL\nshould be used to detect which BCJ filter is used on 32-bit ARM.\n\n    https://lkml.org/lkml/2021/11/19/978\n\nIt never got accepted into Linux, no feedback either. But it\nwill be tried again with a bit different code this time.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz-embedded/commits/20a8047af46c4c7ddc262bb73bdcb5cf2b8361cc"}]},"public":true,"created_at":"2024-03-16T18:43:41Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
