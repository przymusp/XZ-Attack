<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: [xz-devel] [BUG] Issue with xz-java: Unknown Filter ID</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#00669" id="c">
<link rel="index" href="maillist.html#00669" id="i">
<link rel="prev" href="msg00668.html" id="p">
<link rel="next" href="msg00672.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/xz-devel@tukaani.org/msg00669.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=xz-devel@tukaani.org&amp;q=subject:%22Re%5C%3A+%5C%5Bxz%5C-devel%5C%5D+%5C%5BBUG%5C%5D+Issue+with+xz%5C-java%5C%3A+Unknown+Filter+ID%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: [xz-devel] [BUG] Issue with xz-java: Unknown Filter ID</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=xz-devel@tukaani.org&amp;q=from:%22Dennis+Ens%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Dennis Ens</span></span></a></span>
<span class="date"><a href="/search?l=xz-devel@tukaani.org&amp;q=date:20240305" rel="nofollow">Tue, 05 Mar 2024 06:04:43 -0800</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>&gt; I hope 1.10 could be done in a month or two but I don't want to make any
&gt; promises or serious predictions. Historically those haven't been
&gt; accurate at all.</pre><pre>

I'll hope it's on the sooner side then. Is there a reason that xz-java is so 
far behind its counterpart? It seems those filters have been in that version 
for a while, and it seems strange they aren't compatible with each other. Maybe 
this should be made more clear in the README? 

I'd be happy to help out to make them compatible. I don't see anything about 
contributing on the xz-java github page. What are the best practices for 
contributing to this project?

&gt; However, Java in general is slower. Some compressors have a Java API but
&gt; the performance-critical code is native code. For example, java.util.zip
&gt; calls into native code from zlib. XZ for Java doesn't use any native
&gt; code (for now at least).

That's good to know. It seems like if it's using native code it should be 
possible to get the speeds pretty similar. It sounds like an interesting 
problem to tackle.

&gt; XZ for Java lacks threading still. Implementing it is among the most
&gt; important tasks in XZ for Java. It helps with big files like your test
&gt; file but makes compressed file a little bigger. From your numbers I'm
&gt; not certain if you used xz in threaded mode or not. The time difference
&gt; looks unusually high for single-threaded mode for both compression and
&gt; decompression. The difference for a big input file in threaded mode
&gt; looks small though (unless it had lots of trivially-compressible
&gt; sections).

&gt; XZ Utils 5.6.0 also enables threaded mode by default.

That would explain a lot of the speed difference I noticed then. I was using 
the latest code from master, so I should have been running in threaded mode. 
It's great how large an improvement that can make, although I know it's always 
complicated to implement threading without any bugs.

&gt; The encoder implementations have some minor differences which affects
&gt; both output and speed. Different releases can in theory have different
&gt; output. XZ Utils output might change in future versions too.

I see, that makes sense. I'm glad the difference is explainable and not a bug. 
Can you explain exactly what the differences are? Does xz-java always do a 
better job compressing since it resulted in a smaller file?

</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg00668.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#00669">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#00669">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg00672.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg00665.html">[xz-devel] [BUG] Issue with xz-java: Unknown Filter ID</a></span> <span class="sender italic">Dennis Ens</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg00666.html">Re: [xz-devel] [BUG] Issue with xz-java: Unknown Filter ...</a></span> <span class="sender italic">Lasse Collin</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg00667.html">Re: [xz-devel] [BUG] Issue with xz-java: Unknown Fil...</a></span> <span class="sender italic">Dennis Ens</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg00668.html">Re: [xz-devel] [BUG] Issue with xz-java: Unknown...</a></span> <span class="sender italic">Lasse Collin</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: [xz-devel] [BUG] Issue with xz-java: Unk...</span> <span class="sender italic">Dennis Ens</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg00672.html">Re: [xz-devel] [BUG] Issue with xz-java...</a></span> <span class="sender italic">Lasse Collin</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: [xz-devel] [BUG] Issue with xz-java: Unknown Filter ID">
<input type="hidden" name="msgid" value="AdABJquqZgMzrdkrFnxoe3EUg2Nm8fKtgypjLEsFGqxlnhHiNww7tdIg_m7Tu-Ym-thxhgtD98ocKJxYWCfTOrjISm_q7myzojdMepeWlu8=@protonmail.com">
<input type="hidden" name="relpath" value="xz-devel@tukaani.org/msg00669.html">
<input type="submit" value=" Dennis Ens ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="xz-devel@tukaani.org">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search xz-devel">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/xz-devel@tukaani.org/">xz-devel - all messages</a></li>
<li class="icons-about"><a href="/xz-devel@tukaani.org/info.html">xz-devel - about the list</a></li>
<li class="icons-expand"><a href="/search?l=xz-devel@tukaani.org&amp;q=subject:%22Re%5C%3A+%5C%5Bxz%5C-devel%5C%5D+%5C%5BBUG%5C%5D+Issue+with+xz%5C-java%5C%3A+Unknown+Filter+ID%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg00668.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg00672.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">AdABJquqZgMzrdkrFnxoe3EUg2Nm8fKtgypjLEsFGqxlnhHiNww7tdIg_m7Tu-Ym-thxhgtD98ocKJxYWCfTOrjISm_q7myzojdMepeWlu8=@protonmail.com</li>
</ul>
</div>
</body>
</html>
