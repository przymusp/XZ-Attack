{"id":"35056211983","type":"PushEvent","actor":{"id":120408189,"login":"Larhzu","display_login":"Larhzu","gravatar_id":"","url":"https://api.github.com/users/Larhzu","avatar_url":"https://avatars.githubusercontent.com/u/120408189?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"repository_id":553665726,"push_id":16761642790,"size":77,"distinct_size":1,"ref":"refs/heads/threads_by_default","head":"0a2bc4fe41789842b3f661b4e57c84241e45dbfa","before":"cae84bb195f34a3fa6741f310ac785cea85cd061","commits":[{"sha":"5fe1450603dc625340b8b7866fb4a83ff748ad06","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"Add NEWS for 5.4.5.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/5fe1450603dc625340b8b7866fb4a83ff748ad06"},{"sha":"2ade7246e7ba729a91460d2fab0f4c7b89d3998b","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"liblzma: Add missing comments to lz_encoder.h.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/2ade7246e7ba729a91460d2fab0f4c7b89d3998b"},{"sha":"d4f4a4d040ef47a5e82dffd0f067e92716606ddf","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Detect when all data will be written to standard out earlier.\n\nIf the -c, --stdout argument is not used, then we can still detect when\nthe data will be written to standard out if all of the provided\nfilenames are \"-\" (denoting standard in) or if no filenames are\nprovided.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/d4f4a4d040ef47a5e82dffd0f067e92716606ddf"},{"sha":"837ea40b1c9d4998cac4500b55171bf33e0c31a6","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Move suffix check after stdout mode is detected.\n\nThis fixes a bug introduced in cc5aa9ab138beeecaee5a1e81197591893ee9ca0\nwhen the suffix check was initially moved. This caused a situation that\npreviously worked:\n\n    echo foo | xz -Fraw --lzma1 | wc -c\n\nto fail because the old code knew that this would write to standard out\nso a suffix was not needed.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/837ea40b1c9d4998cac4500b55171bf33e0c31a6"},{"sha":"f481523baac946fa3bc13d79186ffaf0c0b818a7","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Refactor suffix test with raw format.\n\nThe previous version set opt_stdout, but this caused an issue with\ncopying an input file to standard out when decompressing an unknown file\ntype. The following needs to result in an error:\n\n    echo foo | xz -df\n\nsince -c, --stdout is not used. This fixes the previous error by not\nsetting opt_stdout.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/f481523baac946fa3bc13d79186ffaf0c0b818a7"},{"sha":"299920bab9ae258a247366339264e8aefca9e3ce","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"Tests: Fix typo in a comment.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/299920bab9ae258a247366339264e8aefca9e3ce"},{"sha":"2a732aba22da1b0d4a1241cb32280ed010ba03ce","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Fix a bug with --files and --files0 in raw mode without a suffix.\n\nThe following command caused a segmentation fault:\n\n    xz -Fraw --lzma1 --files=foo\n\nwhen foo was a valid file. The usage of --files or --files0 was not\nbeing checked when compressing or decompressing in raw mode without a\nsuffix. The suffix checking code was meant to validate that all files\nto be processed are \"-\" (if not writing to standard out), meaning the\ndata is only coming from standard in. In this case, there were no file\nnames to check since --files and --files0 store their file name in a\ndifferent place.\n\nLater code assumed the suffix was set and caused a segmentation fault.\nNow, the above command results in an error.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/2a732aba22da1b0d4a1241cb32280ed010ba03ce"},{"sha":"ca278eb2b7f5a4940f5ab18955297b398d423824","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"Tests: Create test_suffix.sh.\n\nThis tests some complicated interactions with the --suffix= option.\nThe suffix option must be used with --format=raw, but can optionally\nbe used to override the default .xz suffix.\n\nThis test also verifies some recent bugs have been correctly solved\nand to hopefully avoid further regressions in the future.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/ca278eb2b7f5a4940f5ab18955297b398d423824"},{"sha":"659aca0d695807c0762d4101765189e4e33d1e2c","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"xz: Move the check for --suffix with --format=raw a few lines earlier.\n\nNow it reads from argv[] instead of args->arg_names.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/659aca0d695807c0762d4101765189e4e33d1e2c"},{"sha":"6b05f827f50e686537e9a23c49c5aa4c0aa6b23d","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"tuklib_integer: Fix typo discovered by codespell.\n\nBased on internet dictionary searches, 'choise' is an outdated spelling\nof 'choice'.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/6b05f827f50e686537e9a23c49c5aa4c0aa6b23d"},{"sha":"584e3a258f32d579b1d07f99b4dc6e856c10ac7e","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Create separate is_tty() function.\n\nThe new is_tty() will report if a file descriptor is a terminal or not.\nOn POSIX systems, it is a wrapper around isatty(). However, the native\nWindows implementation of isatty() will return true for all character\ndevices, not just terminals. So is_tty() has a special case for Windows\nso it can use alternative Windows API functions to determine if a file\ndescriptor is a terminal.\n\nThis fixes a bug with MSVC and MinGW-w64 builds that refused to read from\nor write to non-terminal character devices because xz thought it was a\nterminal. For instance:\n\n    xz foo -c > /dev/null\n\nwould fail because /dev/null was assumed to be a terminal.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/584e3a258f32d579b1d07f99b4dc6e856c10ac7e"},{"sha":"2ab2e4b5a542eab93902985ce4e642719a8b7a4e","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Use is_tty() in message.c.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/2ab2e4b5a542eab93902985ce4e642719a8b7a4e"},{"sha":"12b89bcc9915090eb42ae638e565af44b6832a23","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"xz: Tweak a comment.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/12b89bcc9915090eb42ae638e565af44b6832a23"},{"sha":"ffb456593d695d70052a2f71c7a2e6269217d194","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"Build: Change --enable-ifunc handling.\n\nSome compilers support __attribute__((__ifunc__())) even though the\ndynamic linker does not. The compiler is able to create the binary\nbut it will fail on startup. So it is not enough to just test if\nthe attribute is supported.\n\nThe default value for enable_ifunc is now auto, which will attempt\nto compile a program using __attribute__((__ifunc__())). There are\nadditional checks in this program if glibc is being used or if it\nis running on FreeBSD.\n\nSetting --enable-ifunc will skip this test and always enable\n__attribute__((__ifunc__())), even if is not supported.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/ffb456593d695d70052a2f71c7a2e6269217d194"},{"sha":"20ecee40a0053fd16371ef0628046bf45e548d72","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"Docs: Update INSTALL for --enable_ifunc change.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/20ecee40a0053fd16371ef0628046bf45e548d72"},{"sha":"d4af167570f2c14b002ee18a39d5b1e7e5a892b1","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"CMake: Change __attribute__((__ifunc__())) detection.\n\nThis renames ALLOW_ATTR_IFUNC to USE_ATTR_IFUNC and applies the ifunc\ndetection changes that were made to the Autotools build.\n\nFixes: https://github.com/tukaani-project/xz/issues/70","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/d4af167570f2c14b002ee18a39d5b1e7e5a892b1"},{"sha":"ff7badef53c2cd698d4b72b945f34dfd0835e13c","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"CMake: Use consistent indentation with check_c_source_compiles().","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/ff7badef53c2cd698d4b72b945f34dfd0835e13c"},{"sha":"db2b4aa068a492c0013279a4ed43803e8ff9bb3e","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"CI: Allow ci_build.sh to set a different C compiler.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/db2b4aa068a492c0013279a4ed43803e8ff9bb3e"},{"sha":"fd170e8557727bed6bec0518c16415064d972e4e","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"CI: Test musl libc builds on Ubuntu runner.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/fd170e8557727bed6bec0518c16415064d972e4e"},{"sha":"35558adf9c45e5597f2c8dbd969885dd484038d2","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"Update THANKS.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/35558adf9c45e5597f2c8dbd969885dd484038d2"}]},"public":true,"created_at":"2024-01-23T16:23:20Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"35056452614","type":"PushEvent","actor":{"id":120408189,"login":"Larhzu","display_login":"Larhzu","gravatar_id":"","url":"https://api.github.com/users/Larhzu","avatar_url":"https://avatars.githubusercontent.com/u/120408189?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"repository_id":553665726,"push_id":16761756497,"size":1,"distinct_size":1,"ref":"refs/heads/threads_by_default","head":"6daa4d0ea46a8441f21f609149f3633158bf4704","before":"0a2bc4fe41789842b3f661b4e57c84241e45dbfa","commits":[{"sha":"6daa4d0ea46a8441f21f609149f3633158bf4704","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"xz: Use threaded mode by defaut (as if --threads=0 was used).\n\nThis hopefully does more good than bad:\n\n  + It's faster by default.\n\n  + Only the threaded compressor creates files that\n    can be decompressed in threaded mode.\n\n  - Compression ratio is worse, usually not too much though.\n    When it matters, -T1 must be used.\n\n  - Memory usage increases.\n\n  - Scripts that assume single-threaded mode but don't use -T1 will\n    possibly use too much resources, for example, if they run\n    multiple xz processes in parallel to compress multiple files.\n\n  - Output from single-threaded and multi-threaded compressors\n    differ but such changes could happen for other reasons too\n    (they just haven't happened since 5.0.0).","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/6daa4d0ea46a8441f21f609149f3633158bf4704"}]},"public":true,"created_at":"2024-01-23T16:30:24Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"35056793645","type":"PushEvent","actor":{"id":120408189,"login":"Larhzu","display_login":"Larhzu","gravatar_id":"","url":"https://api.github.com/users/Larhzu","avatar_url":"https://avatars.githubusercontent.com/u/120408189?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"repository_id":553665726,"push_id":16761910852,"size":1,"distinct_size":0,"ref":"refs/heads/master","head":"6daa4d0ea46a8441f21f609149f3633158bf4704","before":"a2dd2dc8e5307a7280bb99868bc478560facba2c","commits":[{"sha":"6daa4d0ea46a8441f21f609149f3633158bf4704","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"xz: Use threaded mode by defaut (as if --threads=0 was used).\n\nThis hopefully does more good than bad:\n\n  + It's faster by default.\n\n  + Only the threaded compressor creates files that\n    can be decompressed in threaded mode.\n\n  - Compression ratio is worse, usually not too much though.\n    When it matters, -T1 must be used.\n\n  - Memory usage increases.\n\n  - Scripts that assume single-threaded mode but don't use -T1 will\n    possibly use too much resources, for example, if they run\n    multiple xz processes in parallel to compress multiple files.\n\n  - Output from single-threaded and multi-threaded compressors\n    differ but such changes could happen for other reasons too\n    (they just haven't happened since 5.0.0).","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/6daa4d0ea46a8441f21f609149f3633158bf4704"}]},"public":true,"created_at":"2024-01-23T16:40:26Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"35056825849","type":"DeleteEvent","actor":{"id":78042786,"login":"JiaT75","display_login":"JiaT75","gravatar_id":"","url":"https://api.github.com/users/JiaT75","avatar_url":"https://avatars.githubusercontent.com/u/78042786?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"ref":"riscv_filter","ref_type":"branch","pusher_type":"user"},"public":true,"created_at":"2024-01-23T16:41:24Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
