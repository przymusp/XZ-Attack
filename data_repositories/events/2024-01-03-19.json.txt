{"id":"34552566666","type":"IssueCommentEvent","actor":{"id":120408189,"login":"Larhzu","display_login":"Larhzu","gravatar_id":"","url":"https://api.github.com/users/Larhzu","avatar_url":"https://avatars.githubusercontent.com/u/120408189?"},"repo":{"id":4523235,"name":"asciidoctor/asciidoctor","url":"https://api.github.com/repos/asciidoctor/asciidoctor"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4531","repository_url":"https://api.github.com/repos/asciidoctor/asciidoctor","labels_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4531/labels{/name}","comments_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4531/comments","events_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4531/events","html_url":"https://github.com/asciidoctor/asciidoctor/issues/4531","id":2058661276,"node_id":"I_kwDOAEUE4856tK2c","number":4531,"title":"Stylesheet: Avoid gray body text in @media print","user":{"login":"Larhzu","id":120408189,"node_id":"U_kgDOBy1IfQ","avatar_url":"https://avatars.githubusercontent.com/u/120408189?v=4","gravatar_id":"","url":"https://api.github.com/users/Larhzu","html_url":"https://github.com/Larhzu","followers_url":"https://api.github.com/users/Larhzu/followers","following_url":"https://api.github.com/users/Larhzu/following{/other_user}","gists_url":"https://api.github.com/users/Larhzu/gists{/gist_id}","starred_url":"https://api.github.com/users/Larhzu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Larhzu/subscriptions","organizations_url":"https://api.github.com/users/Larhzu/orgs","repos_url":"https://api.github.com/users/Larhzu/repos","events_url":"https://api.github.com/users/Larhzu/events{/privacy}","received_events_url":"https://api.github.com/users/Larhzu/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2023-12-28T17:18:11Z","updated_at":"2024-01-03T19:04:57Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"The body text is transparent black on white background, resulting in gray text (equivalent to `#333`):\r\n\r\n```\r\nbody {\r\n  background: #fff;\r\n  color: rgb(0 0 0 / 0.8);\r\n  ...\r\n}\r\n```\r\n\r\nThe reasons to use gray instead of black text on screen don't apply to printing. The main body text should be black (`#000`) when printing to avoid dithering.\r\n\r\nBrowsers might convert gray text to black when printing. Some printer drivers might do it too. So even now the gray text might print as black in some cases. It would be good to ensure good results in all cases still.\r\n\r\nFor example, Firefox 121 converts gray text to black if the gray color is specified as `#333` or `#666` and _Print backgrounds_ is unchecked in the Firefox' print options. However, if the same colors are specified as transparent black text like `rgb(0 0 0 / 0.8)` or `rgb(0 0 0 / 0.6)` then the text remains gray even if _Print backgrounds_ is unchecked. These can be tested by printing to PDF and taking a screenshot from a PDF viewer.\r\n\r\nI'm not sure which elements should use black text when printing. `h1`, `body`, `pre`, `code`, and the various table-related elements that use `rgb(0 0 0 / 0.8)` should probably be black when printing. But perhaps a few other elements should be black too.\r\n\r\n(A side note: I find `rgb(0 0 0 / 0.8)` (`#333`) too light on some displays (it hurts legibility). Somewhere from `rgb(0 0 0 / 0.87)` (`#222`) to `rgb(0 0 0 / 0.93)` (`#121212`) would look better to me. But I know it depends on the display, display brightness, user preference etc. so I don't dare to propose any changes.)\r\n","reactions":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4531/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/comments/1875832749","html_url":"https://github.com/asciidoctor/asciidoctor/issues/4531#issuecomment-1875832749","issue_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4531","id":1875832749,"node_id":"IC_kwDOAEUE485vzu-t","user":{"login":"Larhzu","id":120408189,"node_id":"U_kgDOBy1IfQ","avatar_url":"https://avatars.githubusercontent.com/u/120408189?v=4","gravatar_id":"","url":"https://api.github.com/users/Larhzu","html_url":"https://github.com/Larhzu","followers_url":"https://api.github.com/users/Larhzu/followers","following_url":"https://api.github.com/users/Larhzu/following{/other_user}","gists_url":"https://api.github.com/users/Larhzu/gists{/gist_id}","starred_url":"https://api.github.com/users/Larhzu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Larhzu/subscriptions","organizations_url":"https://api.github.com/users/Larhzu/orgs","repos_url":"https://api.github.com/users/Larhzu/repos","events_url":"https://api.github.com/users/Larhzu/events{/privacy}","received_events_url":"https://api.github.com/users/Larhzu/received_events","type":"User","site_admin":false},"created_at":"2024-01-03T19:04:56Z","updated_at":"2024-01-03T19:04:56Z","author_association":"CONTRIBUTOR","body":"> The point I was trying to make is that if this improvement were to be made, it would need to be done fully.\r\n\r\nI did get your point, sorry if my message wasn't clear enough. I appreciate that you are looking for complete solutions. I understand that it's not possible to cover all use cases at the same time.\r\n\r\nI'm happy enough with a simpler partial solution in my stylesheet customizations and I won't spend much time refining that part further. For the most polished prints there is asciidoctor-pdf anyway.\r\n\r\n> When that is set, the CSS would need to modify all the elements that are colorized so they use as an appropriate amount of ink to be legible (we have to think of the dark gray of the primary text as a color).\r\n\r\nFor what it's worth (probably not much), I feel the grays with the alpha values 0.8, 0.85, and 0.9 might be safest to become `#000` when printing to paper with an unknown printer (a monochrome printer might dither grays ugly, a color printer might mix color-ink to produce grays). The alpha value isn't the only thing that differs in those selectors so flattening to black isn't a too bad compromise. The alpha 0.6 could maybe become dark gray instead of black.\r\n\r\nWith color printers, having some color in the headings might even be nice, as long as it's not too light.\r\n\r\nThere are too many possibly-useful combinations.\r\n","reactions":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/comments/1875832749/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2024-01-03T19:04:57Z","org":{"id":3137042,"login":"asciidoctor","gravatar_id":"","url":"https://api.github.com/orgs/asciidoctor","avatar_url":"https://avatars.githubusercontent.com/u/3137042?"}}
