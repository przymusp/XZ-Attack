{"id":"33333663307","type":"PushEvent","actor":{"id":78042786,"login":"JiaT75","display_login":"JiaT75","gravatar_id":"","url":"https://api.github.com/users/JiaT75","avatar_url":"https://avatars.githubusercontent.com/u/78042786?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"repository_id":553665726,"push_id":15816742637,"size":2,"distinct_size":2,"ref":"refs/heads/master","head":"837ea40b1c9d4998cac4500b55171bf33e0c31a6","before":"2ade7246e7ba729a91460d2fab0f4c7b89d3998b","commits":[{"sha":"d4f4a4d040ef47a5e82dffd0f067e92716606ddf","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Detect when all data will be written to standard out earlier.\n\nIf the -c, --stdout argument is not used, then we can still detect when\nthe data will be written to standard out if all of the provided\nfilenames are \"-\" (denoting standard in) or if no filenames are\nprovided.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/d4f4a4d040ef47a5e82dffd0f067e92716606ddf"},{"sha":"837ea40b1c9d4998cac4500b55171bf33e0c31a6","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Move suffix check after stdout mode is detected.\n\nThis fixes a bug introduced in cc5aa9ab138beeecaee5a1e81197591893ee9ca0\nwhen the suffix check was initially moved. This caused a situation that\npreviously worked:\n\n    echo foo | xz -Fraw --lzma1 | wc -c\n\nto fail because the old code knew that this would write to standard out\nso a suffix was not needed.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/837ea40b1c9d4998cac4500b55171bf33e0c31a6"}]},"public":true,"created_at":"2023-11-14T12:39:56Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"33333680521","type":"PushEvent","actor":{"id":78042786,"login":"JiaT75","display_login":"JiaT75","gravatar_id":"","url":"https://api.github.com/users/JiaT75","avatar_url":"https://avatars.githubusercontent.com/u/78042786?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"repository_id":553665726,"push_id":15816751463,"size":16,"distinct_size":14,"ref":"refs/heads/xz_recursive2","head":"4bfb5dfed4b01dfb2ba40c5ced96974c5d21dda7","before":"ab523d6354af634441cbab1a8aa85bb32b921b5e","commits":[{"sha":"d4f4a4d040ef47a5e82dffd0f067e92716606ddf","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Detect when all data will be written to standard out earlier.\n\nIf the -c, --stdout argument is not used, then we can still detect when\nthe data will be written to standard out if all of the provided\nfilenames are \"-\" (denoting standard in) or if no filenames are\nprovided.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/d4f4a4d040ef47a5e82dffd0f067e92716606ddf"},{"sha":"837ea40b1c9d4998cac4500b55171bf33e0c31a6","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Move suffix check after stdout mode is detected.\n\nThis fixes a bug introduced in cc5aa9ab138beeecaee5a1e81197591893ee9ca0\nwhen the suffix check was initially moved. This caused a situation that\npreviously worked:\n\n    echo foo | xz -Fraw --lzma1 | wc -c\n\nto fail because the old code knew that this would write to standard out\nso a suffix was not needed.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/837ea40b1c9d4998cac4500b55171bf33e0c31a6"},{"sha":"7486ed6e26eb7e88608c54eda0fc51acb50a49a2","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Add a function to print Windows specific error messages.\n\nNative Windows C API functions do not use errno, but instead have to\ncall GetLastError(). There is not an easy way to convert this error\ncode into a helpful message, so this creates a wrapper around the\nslightly complicated FormatMessage() function.\n\nThe new message_windows_error() function calls message_error() under the\nhood, so it will set the exit status to 1.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/7486ed6e26eb7e88608c54eda0fc51acb50a49a2"},{"sha":"e9520436768b6093318b2d710e9a7b54a9645e00","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Move some list_file() checks to args_parse().\n\nThe checks enforce that list mode will only run on .xz files. The\nopt_format is only set during argument parsing and will not change\nafter. So we only need to check this once instead of every call to\nlist_file(). Additionally, this will cause the error to be detected\nslightly earlier.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/e9520436768b6093318b2d710e9a7b54a9645e00"},{"sha":"f2d42f37749f09de2222d959d9d41f8a13c3c83b","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Reorder #include order in private.h.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/f2d42f37749f09de2222d959d9d41f8a13c3c83b"},{"sha":"26431968b890074b43ef49d9cc8bcb5be3458c6d","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Change the way coder_run() and list_run() are called in main().\n\nPreviously, a function pointer was used to determine if coder_run() or\nlist_run() should be called in the main entry processing loop. This was\nreplaced by an extra function call to process_entry().\n\ncoder_run() and list_run() were changed to accept a file_pair * argument\ninstead of a filename. The common repeated code was moved to\nprocess_entry() instead.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/26431968b890074b43ef49d9cc8bcb5be3458c6d"},{"sha":"fd83f13f3ca070d25c13370278ccaac5fb70d0ef","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Enable -r, --recursive option.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/fd83f13f3ca070d25c13370278ccaac5fb70d0ef"},{"sha":"13ad3181a95c2862be3d83f85358f37c79de576b","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"Build: Check for dirent.h.\n\nFor both CMake and Autotools, define HAVE_DIRENT_H if the header file\nis found.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/13ad3181a95c2862be3d83f85358f37c79de576b"},{"sha":"43542b0aca73d5c5d9be7183973a59e713548457","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Allow directories in io_open_src() in recursive mode.\n\nIf the directory is a symlink, it is skipped to prevent a loop in the\ndirectory structure that would cause infinite recursion.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/43542b0aca73d5c5d9be7183973a59e713548457"},{"sha":"1112d1d24a5b83c0fd40a71e5c0649de3617bdf7","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Restrict when recursive mode can be used.\n\nIf we are not compiling with dirent.h or MSVC, then we cannot use\nrecursive mode. Unfortunatly, there is not a great portable way to parse\ndirectory contents.\n\nThere are _find_next() functions available for DOS like platforms, but\nWindows version of these functions is different. Since we do not have a\ngood way to test these functions, support will not be added at this\ntime.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/1112d1d24a5b83c0fd40a71e5c0649de3617bdf7"},{"sha":"9caf9cc818d7a0f6c5d396a4b9f1bbd5fcd5a63d","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Parse directories in recursive mode.\n\nThis directory parsing method prioritizes lower memory usage and file\ndescriptor utilization at the cost of more complicated code and a higher\nnumber of small allocations. This method makes no recursive calls and\ninstead keeps a queue of directories to parse.Only one directory file\ndescriptor is ever needed at one time.\n\nThe directory_iterator abstracts the implementation of the directory\nparsing to allow for an easy interface for both POSIX and MSVC.\n\nCurrently the MSVC builds suffers from MAX_PATH being limited to 260 by\ndefault. This restricts the usefulness of recursive mode on Windows. A\nuser can edit a registry config in Windows 10, Version 1607 and later to\nremove this low path limit. Alternatively, we can prefix the absolute\npath with \"\\\\?\\\" to also remove the restriction. Note, this restriction\nalso applies to the compatibility functions so MSVC builds cannot read\nor write to files with paths longer than 260 characters.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/9caf9cc818d7a0f6c5d396a4b9f1bbd5fcd5a63d"},{"sha":"8aa8eddb96311b21b8da1f38b071cd78f50137f0","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Hide the number of input files with recursive mode.\n\nIn recursive mode we don't know how many files to process at the\nbeginning. So just like when using --files or --files0, the number of\ntotal files will not be shown.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/8aa8eddb96311b21b8da1f38b071cd78f50137f0"},{"sha":"2c5273a488107c93cff68b20c26aff28b1ffaa2b","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Disable sandbox when recursive mode is used.\n\nThe sandbox is very restrictive when one file is being encoded/decoded\nto standard out. In recursive mode, processing a directory requires\nopening sub-files and sub-directories which would not be allowed under\nthe sandbox.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/2c5273a488107c93cff68b20c26aff28b1ffaa2b"},{"sha":"d1c3239f7d9a952a07242087696d74c965eb75f0","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Add -r,--recursive to --help and --long-help.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/d1c3239f7d9a952a07242087696d74c965eb75f0"},{"sha":"d4a04714af5fcfaa4d6ccfb6b4fceb0493696ede","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Update the man page for the -r, --recursive option.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/d4a04714af5fcfaa4d6ccfb6b4fceb0493696ede"},{"sha":"4bfb5dfed4b01dfb2ba40c5ced96974c5d21dda7","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"Tests: Add new test for xz -r, --recursive option.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/4bfb5dfed4b01dfb2ba40c5ced96974c5d21dda7"}]},"public":true,"created_at":"2023-11-14T12:40:32Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
