{"id":"38499523442","type":"IssueCommentEvent","actor":{"id":120408189,"login":"Larhzu","display_login":"Larhzu","gravatar_id":"","url":"https://api.github.com/users/Larhzu","avatar_url":"https://avatars.githubusercontent.com/u/120408189?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/tukaani-project/xz/issues/121","repository_url":"https://api.github.com/repos/tukaani-project/xz","labels_url":"https://api.github.com/repos/tukaani-project/xz/issues/121/labels{/name}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/121/comments","events_url":"https://api.github.com/repos/tukaani-project/xz/issues/121/events","html_url":"https://github.com/tukaani-project/xz/issues/121","id":2304112243,"node_id":"I_kwDOIQBEvs6JVfZz","number":121,"title":"it shouldn't be this hard.","user":{"login":"wmjb","id":77227948,"node_id":"MDQ6VXNlcjc3MjI3OTQ4","avatar_url":"https://avatars.githubusercontent.com/u/77227948?v=4","gravatar_id":"","url":"https://api.github.com/users/wmjb","html_url":"https://github.com/wmjb","followers_url":"https://api.github.com/users/wmjb/followers","following_url":"https://api.github.com/users/wmjb/following{/other_user}","gists_url":"https://api.github.com/users/wmjb/gists{/gist_id}","starred_url":"https://api.github.com/users/wmjb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wmjb/subscriptions","organizations_url":"https://api.github.com/users/wmjb/orgs","repos_url":"https://api.github.com/users/wmjb/repos","events_url":"https://api.github.com/users/wmjb/events{/privacy}","received_events_url":"https://api.github.com/users/wmjb/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-05-18T14:24:21Z","updated_at":"2024-05-18T17:23:52Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"I just wanted to compile the latest src for xz \r\n\r\nin the absence of clear instructions on the opening page of the git repo, and the INSTALL file being a TLDR nightmare, after years of experience of compiling stuff, i used my intuition to try to compile it\r\n\r\nso i `git clone https://github.com/tukaani-project/xz --depth=1`\r\n\r\n(--depth=1, because i don't want to download all the commit history, which should not be necessary to build)\r\n\r\nthen i ran ./autogen.sh\r\nand then ran ./configure\r\nthen ran make\r\n\r\n(pretty standard universal compile steps, that work with most src using cmake/make)\r\n\r\nthen i got this error \r\n\r\nlzma/lzma_decoder.c: Assembler messages:\r\nlzma/lzma_decoder.c:371: Error: no such instruction: `movzw 2(%r15),%esi'\r\nlzma/lzma_decoder.c:373: Error: no such instruction: `movzw 4(%r15),%edi'\r\nlzma/lzma_decoder.c:388: Error: no such instruction: `movzw 6(%r15),%edx'\r\nlzma/lzma_decoder.c:398: Error: no such instruction: `movzw (%r15,%r14,4),%esi'\r\nlzma/lzma_decoder.c:413: Error: no such instruction: `movzw 2(%r15,%r14,4),%edx'\r\nlzma/lzma_decoder.c:424: Error: no such instruction: `movzw (%r15,%r14,4),%edi'\r\nlzma/lzma_decoder.c:439: Error: no such instruction: `movzw 2(%r15,%r14,4),%edx'\r\nlzma/lzma_decoder.c:450: Error: no such instruction: `movzw (%r15,%r14,4),%esi'\r\nlzma/lzma_decoder.c:465: Error: no such instruction: `movzw 2(%r15,%r14,4),%edx'\r\nlzma/lzma_decoder.c:476: Error: no such instruction: `movzw (%r15,%r14,4),%edi'\r\nlzma/lzma_decoder.c:491: Error: no such instruction: `movzw 2(%r15,%r14,4),%edx'\r\nlzma/lzma_decoder.c:502: Error: no such instruction: `movzw (%r15,%r14,4),%esi'\r\nlzma/lzma_decoder.c:517: Error: no such instruction: `movzw 2(%r15,%r14,4),%edx'\r\nlzma/lzma_decoder.c:528: Error: no such instruction: `movzw (%r15,%r14,4),%edi'\r\nlzma/lzma_decoder.c:543: Error: no such instruction: `movzw 2(%r15,%r14,4),%edx'\r\nlzma/lzma_decoder.c:421: Error: no such instruction: `movzw 2(%rax),%edi'\r\nlzma/lzma_decoder.c:423: Error: no such instruction: `movzw 4(%rax),%r10d'\r\nlzma/lzma_decoder.c:438: Error: no such instruction: `movzw 6(%rax),%ecx'\r\nlzma/lzma_decoder.c:448: Error: no such instruction: `movzw (%rax,%rdx,4),%edi'\r\nlzma/lzma_decoder.c:463: Error: no such instruction: `movzw 2(%rax,%rdx,4),%ecx'\r\nlzma/lzma_decoder.c:430: Error: no such instruction: `movzw 2(%r15),%esi'\r\nlzma/lzma_decoder.c:432: Error: no such instruction: `movzw 4(%r15),%edi'\r\nlzma/lzma_decoder.c:447: Error: no such instruction: `movzw 6(%r15),%eax'\r\nlzma/lzma_decoder.c:457: Error: no such instruction: `movzw (%r15,%rdx,4),%esi'\r\nlzma/lzma_decoder.c:472: Error: no such instruction: `movzw 2(%r15,%rdx,4),%eax'\r\nlzma/lzma_decoder.c:483: Error: no such instruction: `movzw (%r15,%rdx,4),%edi'\r\nlzma/lzma_decoder.c:498: Error: no such instruction: `movzw 2(%r15,%rdx,4),%eax'\r\nlzma/lzma_decoder.c:509: Error: no such instruction: `movzw (%r15,%rdx,4),%esi'\r\nlzma/lzma_decoder.c:524: Error: no such instruction: `movzw 2(%r15,%rdx,4),%eax'\r\nlzma/lzma_decoder.c:535: Error: no such instruction: `movzw (%r15,%rdx,4),%edi'\r\nlzma/lzma_decoder.c:550: Error: no such instruction: `movzw 2(%r15,%rdx,4),%eax'\r\nlzma/lzma_decoder.c:487: Error: no such instruction: `movzw (%r15,%rdi,2),%r13d'\r\nlzma/lzma_decoder.c:379: Error: no such instruction: `movzw (%r15,%r14,2),%r10d'\r\nlzma/lzma_decoder.c:411: Error: no such instruction: `movzw (%r15,%r14,2),%r10d'\r\nlzma/lzma_decoder.c:443: Error: no such instruction: `movzw (%r15,%r14,2),%r10d'\r\nlzma/lzma_decoder.c:475: Error: no such instruction: `movzw (%r15,%r14,2),%r10d'\r\nlzma/lzma_decoder.c:507: Error: no such instruction: `movzw (%r15,%r14,2),%r10d'\r\nlzma/lzma_decoder.c:539: Error: no such instruction: `movzw (%r15,%r14,2),%r10d'\r\nlzma/lzma_decoder.c:571: Error: no such instruction: `movzw (%r15,%r14,2),%r10d'\r\nlzma/lzma_decoder.c:603: Error: no such instruction: `movzw (%r15,%r14,2),%r10d'\r\nlzma/lzma_decoder.c:421: Error: no such instruction: `movzw 2(%rax),%edi'\r\nlzma/lzma_decoder.c:423: Error: no such instruction: `movzw 4(%rax),%r10d'\r\nlzma/lzma_decoder.c:438: Error: no such instruction: `movzw 6(%rax),%ecx'\r\nlzma/lzma_decoder.c:448: Error: no such instruction: `movzw (%rax,%rdx,4),%edi'\r\nlzma/lzma_decoder.c:463: Error: no such instruction: `movzw 2(%rax,%rdx,4),%ecx'\r\nlzma/lzma_decoder.c:627: Error: no such instruction: `movzw 2(%rax),%esi'\r\nlzma/lzma_decoder.c:629: Error: no such instruction: `movzw 4(%rax),%edi'\r\nlzma/lzma_decoder.c:644: Error: no such instruction: `movzw 6(%rax),%edx'\r\nlzma/lzma_decoder.c:654: Error: no such instruction: `movzw (%rax,%r14,4),%esi'\r\nlzma/lzma_decoder.c:669: Error: no such instruction: `movzw 2(%rax,%r14,4),%edx'\r\nlzma/lzma_decoder.c:627: Error: no such instruction: `movzw 2(%rax),%esi'\r\nlzma/lzma_decoder.c:629: Error: no such instruction: `movzw 4(%rax),%edi'\r\nlzma/lzma_decoder.c:644: Error: no such instruction: `movzw 6(%rax),%edx'\r\nlzma/lzma_decoder.c:654: Error: no such instruction: `movzw (%rax,%r14,4),%esi'\r\nlzma/lzma_decoder.c:669: Error: no such instruction: `movzw 2(%rax,%r14,4),%edx'\r\nlzma/lzma_decoder.c:506: Error: no such instruction: `movzw 2(%r10),%esi'\r\nlzma/lzma_decoder.c:508: Error: no such instruction: `movzw 4(%r10),%edi'\r\nlzma/lzma_decoder.c:523: Error: no such instruction: `movzw 6(%r10),%edx'\r\nlzma/lzma_decoder.c:533: Error: no such instruction: `movzw 8(%r10,%r14,2),%esi'\r\nlzma/lzma_decoder.c:548: Error: no such instruction: `movzw 12(%r10,%r14,2),%edx'\r\nlzma/lzma_decoder.c:559: Error: no such instruction: `movzw 16(%r10,%r14,2),%edi'\r\nlzma/lzma_decoder.c:574: Error: no such instruction: `movzw 24(%r10,%r14,2),%edx'\r\nlzma/lzma_decoder.c:421: Error: no such instruction: `movzw 2(%rcx),%edi'\r\nlzma/lzma_decoder.c:423: Error: no such instruction: `movzw 4(%rcx),%r10d'\r\nlzma/lzma_decoder.c:438: Error: no such instruction: `movzw 6(%rcx),%edx'\r\nlzma/lzma_decoder.c:448: Error: no such instruction: `movzw (%rcx,%rax,4),%edi'\r\nlzma/lzma_decoder.c:463: Error: no such instruction: `movzw 2(%rcx,%rax,4),%edx'\r\nlzma/lzma_decoder.c:474: Error: no such instruction: `movzw (%rcx,%rax,4),%r10d'\r\nlzma/lzma_decoder.c:489: Error: no such instruction: `movzw 2(%rcx,%rax,4),%edx'\r\nlzma/lzma_decoder.c:500: Error: no such instruction: `movzw (%rcx,%rax,4),%edi'\r\nlzma/lzma_decoder.c:515: Error: no such instruction: `movzw 2(%rcx,%rax,4),%edx'\r\nlzma/lzma_decoder.c:526: Error: no such instruction: `movzw (%rcx,%rax,4),%r10d'\r\nlzma/lzma_decoder.c:541: Error: no such instruction: `movzw 2(%rcx,%rax,4),%edx'\r\nlzma/lzma_decoder.c:552: Error: no such instruction: `movzw (%rcx,%rax,4),%edi'\r\nlzma/lzma_decoder.c:567: Error: no such instruction: `movzw 2(%rcx,%rax,4),%edx'\r\nlzma/lzma_decoder.c:578: Error: no such instruction: `movzw (%rcx,%rax,4),%r10d'\r\nlzma/lzma_decoder.c:593: Error: no such instruction: `movzw 2(%rcx,%rax,4),%edx'\r\nlzma/lzma_decoder.c:627: Error: no such instruction: `movzw 2(%rdi),%ecx'\r\nlzma/lzma_decoder.c:629: Error: no such instruction: `movzw 4(%rdi),%esi'\r\nlzma/lzma_decoder.c:644: Error: no such instruction: `movzw 6(%rdi),%eax'\r\nlzma/lzma_decoder.c:654: Error: no such instruction: `movzw (%rdi,%r14,4),%ecx'\r\nlzma/lzma_decoder.c:669: Error: no such instruction: `movzw 2(%rdi,%r14,4),%eax'\r\nlzma/lzma_decoder.c:680: Error: no such instruction: `movzw (%rdi,%r14,4),%esi'\r\nlzma/lzma_decoder.c:695: Error: no such instruction: `movzw 2(%rdi,%r14,4),%eax'\r\nlzma/lzma_decoder.c:706: Error: no such instruction: `movzw (%rdi,%r14,4),%ecx'\r\nlzma/lzma_decoder.c:721: Error: no such instruction: `movzw 2(%rdi,%r14,4),%eax'\r\nlzma/lzma_decoder.c:732: Error: no such instruction: `movzw (%rdi,%r14,4),%esi'\r\nlzma/lzma_decoder.c:747: Error: no such instruction: `movzw 2(%rdi,%r14,4),%eax'\r\nlzma/lzma_decoder.c:758: Error: no such instruction: `movzw (%rdi,%r14,4),%ecx'\r\nlzma/lzma_decoder.c:773: Error: no such instruction: `movzw 2(%rdi,%r14,4),%eax'\r\nlzma/lzma_decoder.c:784: Error: no such instruction: `movzw (%rdi,%r14,4),%esi'\r\nlzma/lzma_decoder.c:799: Error: no such instruction: `movzw 2(%rdi,%r14,4),%eax'\r\nMakefile:1482: recipe for target 'liblzma_la-lzma_decoder.lo' failed\r\n\r\nwhat am i doing wrong and why are there no compile instructions on the main page?\r\n\r\ni suggest you stick some basic compile instructions instead of that wall of text on the main page.","reactions":{"url":"https://api.github.com/repos/tukaani-project/xz/issues/121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tukaani-project/xz/issues/121/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/tukaani-project/xz/issues/comments/2118887008","html_url":"https://github.com/tukaani-project/xz/issues/121#issuecomment-2118887008","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/121","id":2118887008,"node_id":"IC_kwDOIQBEvs5-S6Zg","user":{"login":"Larhzu","id":120408189,"node_id":"U_kgDOBy1IfQ","avatar_url":"https://avatars.githubusercontent.com/u/120408189?v=4","gravatar_id":"","url":"https://api.github.com/users/Larhzu","html_url":"https://github.com/Larhzu","followers_url":"https://api.github.com/users/Larhzu/followers","following_url":"https://api.github.com/users/Larhzu/following{/other_user}","gists_url":"https://api.github.com/users/Larhzu/gists{/gist_id}","starred_url":"https://api.github.com/users/Larhzu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Larhzu/subscriptions","organizations_url":"https://api.github.com/users/Larhzu/orgs","repos_url":"https://api.github.com/users/Larhzu/repos","events_url":"https://api.github.com/users/Larhzu/events{/privacy}","received_events_url":"https://api.github.com/users/Larhzu/received_events","type":"User","site_admin":false},"created_at":"2024-05-18T17:23:50Z","updated_at":"2024-05-18T17:23:50Z","author_association":"MEMBER","body":"> in the absence of clear instructions on the opening page of the git repo, and the INSTALL file being a TLDR nightmare\r\n\r\nI'm sorry that the experience has been negative. As you may have noticed, the [home page of XZ Utils](https://tukaani.org/xz/) is currently quite empty but it's one of things I've been working on recently (GitHub is _not_ the home page, it's just a place to host the repository). That happens to include writing new instructions on how to build from the Git repository. It will include more information than just running `./autogen.sh` to generate `configure` so hopefully it won't be too long.\r\n\r\nIt is also true that some of the docs in the package (and thus Git repository) could be improved as some of the content is quite old and possibly a bit outdated. For example, README and INSTALL were written in a time where most would download a release tarball and build from that, and Git repository was for the few who knew how to handle it anyway. In any case I'm aware that content of the docs could be improved, it's just that there are many other things to do too. This is a hobby project, after all.\r\n\r\n> then i ran ./autogen.sh\r\n> and then ran ./configure\r\n> then ran make\r\n\r\nIn any case, you have already correctly determined the commands to use. These are indeed quite universal steps with packages that build with Autotools. However, it seems that it didn't work. This means that it is possible that you have found a bug in XZ Utils. Thank you for reporting it!\r\n\r\nUnfortunately you didn't include the basic information:\r\n\r\n* Hardware type (like x86-64)\r\n* Operating system\r\n* Compiler and version\r\n\r\nI understand it's easy to forget those. (Previously there were (too) fancy issue templates which asked a bunch of questions. When the other maintainer disappeared, I deleted those templates as I thought it would be easy to ask in case a bug reporter doesn't mention them in their first post.)\r\n\r\nAs @thesamesam wrote, the contents of `config.log` could be useful too, but getting just the above three things should help quite a bit.\r\n\r\n> then i got this error\r\n\r\nThe inline assembly is used when compiling with GCC or Clang for x86-64. However, some compilers pretend to be GCC or Clang and that could be one reason for the problem. Perhaps it's possible that a compiler pretends to target x86-64 but actually doesn't and then things go wrong too. It's not useful for me guess further until you provide the hardware, OS, and compiler information.\r\n\r\nThanks!\r\n","reactions":{"url":"https://api.github.com/repos/tukaani-project/xz/issues/comments/2118887008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2024-05-18T17:23:52Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
