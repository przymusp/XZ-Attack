{"id":"30077087875","type":"IssueCommentEvent","actor":{"id":28623459,"login":"linpeafowl","display_login":"linpeafowl","gravatar_id":"","url":"https://api.github.com/users/linpeafowl","avatar_url":"https://avatars.githubusercontent.com/u/28623459?"},"repo":{"id":68312233,"name":"microsoft/vcpkg","url":"https://api.github.com/repos/microsoft/vcpkg"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/microsoft/vcpkg/issues/32268","repository_url":"https://api.github.com/repos/microsoft/vcpkg","labels_url":"https://api.github.com/repos/microsoft/vcpkg/issues/32268/labels{/name}","comments_url":"https://api.github.com/repos/microsoft/vcpkg/issues/32268/comments","events_url":"https://api.github.com/repos/microsoft/vcpkg/issues/32268/events","html_url":"https://github.com/microsoft/vcpkg/issues/32268","id":1777961898,"node_id":"I_kwDOBBJcqc5p-Yuq","number":32268,"title":"[liblzma] build failure","user":{"login":"linpeafowl","id":28623459,"node_id":"MDQ6VXNlcjI4NjIzNDU5","avatar_url":"https://avatars.githubusercontent.com/u/28623459?v=4","gravatar_id":"","url":"https://api.github.com/users/linpeafowl","html_url":"https://github.com/linpeafowl","followers_url":"https://api.github.com/users/linpeafowl/followers","following_url":"https://api.github.com/users/linpeafowl/following{/other_user}","gists_url":"https://api.github.com/users/linpeafowl/gists{/gist_id}","starred_url":"https://api.github.com/users/linpeafowl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linpeafowl/subscriptions","organizations_url":"https://api.github.com/users/linpeafowl/orgs","repos_url":"https://api.github.com/users/linpeafowl/repos","events_url":"https://api.github.com/users/linpeafowl/events{/privacy}","received_events_url":"https://api.github.com/users/linpeafowl/received_events","type":"User","site_admin":false},"labels":[{"id":1204216232,"node_id":"MDU6TGFiZWwxMjA0MjE2MjMy","url":"https://api.github.com/repos/microsoft/vcpkg/labels/category:question","name":"category:question","color":"f8ffb5","default":false,"description":"This issue is a question"}],"state":"open","locked":false,"assignee":{"login":"JonLiu1993","id":63675417,"node_id":"MDQ6VXNlcjYzNjc1NDE3","avatar_url":"https://avatars.githubusercontent.com/u/63675417?v=4","gravatar_id":"","url":"https://api.github.com/users/JonLiu1993","html_url":"https://github.com/JonLiu1993","followers_url":"https://api.github.com/users/JonLiu1993/followers","following_url":"https://api.github.com/users/JonLiu1993/following{/other_user}","gists_url":"https://api.github.com/users/JonLiu1993/gists{/gist_id}","starred_url":"https://api.github.com/users/JonLiu1993/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JonLiu1993/subscriptions","organizations_url":"https://api.github.com/users/JonLiu1993/orgs","repos_url":"https://api.github.com/users/JonLiu1993/repos","events_url":"https://api.github.com/users/JonLiu1993/events{/privacy}","received_events_url":"https://api.github.com/users/JonLiu1993/received_events","type":"User","site_admin":false},"assignees":[{"login":"JonLiu1993","id":63675417,"node_id":"MDQ6VXNlcjYzNjc1NDE3","avatar_url":"https://avatars.githubusercontent.com/u/63675417?v=4","gravatar_id":"","url":"https://api.github.com/users/JonLiu1993","html_url":"https://github.com/JonLiu1993","followers_url":"https://api.github.com/users/JonLiu1993/followers","following_url":"https://api.github.com/users/JonLiu1993/following{/other_user}","gists_url":"https://api.github.com/users/JonLiu1993/gists{/gist_id}","starred_url":"https://api.github.com/users/JonLiu1993/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JonLiu1993/subscriptions","organizations_url":"https://api.github.com/users/JonLiu1993/orgs","repos_url":"https://api.github.com/users/JonLiu1993/repos","events_url":"https://api.github.com/users/JonLiu1993/events{/privacy}","received_events_url":"https://api.github.com/users/JonLiu1993/received_events","type":"User","site_admin":false}],"milestone":null,"comments":5,"created_at":"2023-06-28T00:51:14Z","updated_at":"2023-06-28T21:46:45Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"### Operating system\n\nwindows 11 x64\n\n### Compiler\n\nMSVC 19.33.31630.0\n\n### Steps to reproduce the behavior\n\n```Shell\n.\\vcpkg install liblzma:x64-windows-static libpng:x64-windows-static lzo:x64-windows-static nlohmann-json:x64-windows-static zlib:x64-windows-static\n```\n\n\n### Failure logs\n\nPackage: liblzma:x64-windows-static -> 5.4.3\r\n\r\n**Host Environment**\r\n\r\n- Host: x64-windows\r\n- Compiler: MSVC 19.33.31630.0\r\n-    vcpkg-tool version: 2023-06-22-f19f3d9939100085fe2f7e41502d60b08e2083b6\r\n    vcpkg-scripts version: 0d1150cbd 2023-06-27 (4 hours ago)\r\n\r\n**To Reproduce**\r\n\r\n`vcpkg install liblzma:x64-windows-static libpng:x64-windows-static lzo:x64-windows-static nlohmann-json:x64-windows-static zlib:x64-windows-static`\r\n\r\n**Failure logs**\r\n\r\n```\r\n-- Downloading https://github.com/tukaani-project/xz/archive/v5.4.3.tar.gz -> tukaani-project-xz-v5-67292be9.4.3.tar.gz...\r\n[DEBUG] To include the environment variables in debug output, pass --debug-env\r\n[DEBUG] Trying to load bundleconfig from E:\\yang\\code\\vcpkg\\vcpkg-bundle.json\r\n[DEBUG] Failed to open: E:\\yang\\code\\vcpkg\\vcpkg-bundle.json\r\n[DEBUG] Bundle config: readonly=false, usegitregistry=false, embeddedsha=nullopt, deployment=Git, vsversion=nullopt\r\n[DEBUG] Metrics enabled.\r\n[DEBUG] Feature flag 'binarycaching' unset\r\n[DEBUG] Feature flag 'compilertracking' unset\r\n[DEBUG] Feature flag 'registries' unset\r\n[DEBUG] Feature flag 'versions' unset\r\n[DEBUG] Feature flag 'dependencygraph' unset\r\nDownloading https://github.com/tukaani-project/xz/archive/v5.4.3.tar.gz\r\nerror: Failed to download from mirror set\r\nerror: https://github.com/tukaani-project/xz/archive/v5.4.3.tar.gz: failed: status code 404\r\n[DEBUG] D:\\a\\_work\\1\\s\\src\\vcpkg\\base\\downloads.cpp(1003): \r\n[DEBUG] Time in subprocesses: 0us\r\n[DEBUG] Time in parsing JSON: 3us\r\n[DEBUG] Time in JSON reader: 0us\r\n[DEBUG] Time in filesystem: 1771us\r\n[DEBUG] Time in loading ports: 0us\r\n[DEBUG] Exiting after 2.1 s (2082534us)\r\n\r\nCMake Error at scripts/cmake/vcpkg_download_distfile.cmake:32 (message):\r\n      \r\n      Failed to download file with error: 1\r\n      If you are using a proxy, please check your proxy setting. Possible causes are:\r\n      \r\n      1. You are actually using an HTTP proxy, but setting HTTPS_PROXY variable\r\n         to `https://address:port`. This is not correct, because `https://` prefix\r\n         claims the proxy is an HTTPS proxy, while your proxy (v2ray, shadowsocksr\r\n         , etc..) is an HTTP proxy. Try setting `http://address:port` to both\r\n         HTTP_PROXY and HTTPS_PROXY instead.\r\n      \r\n      2. If you are using Windows, vcpkg will automatically use your Windows IE Proxy Settings\r\n         set by your proxy software. See https://github.com/microsoft/vcpkg-tool/pull/77\r\n         The value set by your proxy might be wrong, or have same `https://` prefix issue.\r\n      \r\n      3. Your proxy's remote server is out of service.\r\n      \r\n      If you've tried directly download the link, and believe this is not a temporary\r\n      download server failure, please submit an issue at https://github.com/Microsoft/vcpkg/issues\r\n      to report this upstream download server failure.\r\n      \r\n\r\nCall Stack (most recent call first):\r\n  scripts/cmake/vcpkg_download_distfile.cmake:270 (z_vcpkg_download_distfile_show_proxy_and_fail)\r\n  scripts/cmake/vcpkg_from_github.cmake:106 (vcpkg_download_distfile)\r\n  ports/liblzma/portfile.cmake:1 (vcpkg_from_github)\r\n  scripts/ports.cmake:147 (include)\r\n\r\n\r\n\r\n```\n\n### Additional context\n\n_No response_","reactions":{"url":"https://api.github.com/repos/microsoft/vcpkg/issues/32268/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/microsoft/vcpkg/issues/32268/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/microsoft/vcpkg/issues/comments/1612149003","html_url":"https://github.com/microsoft/vcpkg/issues/32268#issuecomment-1612149003","issue_url":"https://api.github.com/repos/microsoft/vcpkg/issues/32268","id":1612149003,"node_id":"IC_kwDOBBJcqc5gF3EL","user":{"login":"linpeafowl","id":28623459,"node_id":"MDQ6VXNlcjI4NjIzNDU5","avatar_url":"https://avatars.githubusercontent.com/u/28623459?v=4","gravatar_id":"","url":"https://api.github.com/users/linpeafowl","html_url":"https://github.com/linpeafowl","followers_url":"https://api.github.com/users/linpeafowl/followers","following_url":"https://api.github.com/users/linpeafowl/following{/other_user}","gists_url":"https://api.github.com/users/linpeafowl/gists{/gist_id}","starred_url":"https://api.github.com/users/linpeafowl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linpeafowl/subscriptions","organizations_url":"https://api.github.com/users/linpeafowl/orgs","repos_url":"https://api.github.com/users/linpeafowl/repos","events_url":"https://api.github.com/users/linpeafowl/events{/privacy}","received_events_url":"https://api.github.com/users/linpeafowl/received_events","type":"User","site_admin":false},"created_at":"2023-06-28T21:46:44Z","updated_at":"2023-06-28T21:46:44Z","author_association":"NONE","body":"@JonLiu1993 I tried again，I have put the downloaded the archive file named \"xz-v5.4.3.tar.gz\" into downloads folder. The error message as follow：\r\n\r\nPackage: liblzma:x64-windows-static -> 5.4.3\r\n\r\n**Host Environment**\r\n\r\n- Host: x64-windows\r\n- Compiler: MSVC 19.33.31630.0\r\n-    vcpkg-tool version: 2023-06-22-f19f3d9939100085fe2f7e41502d60b08e2083b6\r\n    vcpkg-scripts version: 453d496ba 2023-06-27 (18 hours ago)\r\n\r\n**To Reproduce**\r\n\r\n`vcpkg install liblzma:x64-windows-static libpng:x64-windows-static lzo:x64-windows-static nlohmann-json:x64-windows-static zlib:x64-windows-static`\r\n\r\n**Failure logs**\r\n\r\n```\r\n-- Downloading https://github.com/tukaani-project/xz/archive/v5.4.3.tar.gz -> tukaani-project-xz-v5.4.3.tar.gz...\r\n[DEBUG] To include the environment variables in debug output, pass --debug-env\r\n[DEBUG] Trying to load bundleconfig from E:\\yang\\code\\vcpkg\\vcpkg-bundle.json\r\n[DEBUG] Failed to open: E:\\yang\\code\\vcpkg\\vcpkg-bundle.json\r\n[DEBUG] Bundle config: readonly=false, usegitregistry=false, embeddedsha=nullopt, deployment=Git, vsversion=nullopt\r\n[DEBUG] Metrics enabled.\r\n[DEBUG] Feature flag 'binarycaching' unset\r\n[DEBUG] Feature flag 'compilertracking' unset\r\n[DEBUG] Feature flag 'registries' unset\r\n[DEBUG] Feature flag 'versions' unset\r\n[DEBUG] Feature flag 'dependencygraph' unset\r\nDownloading https://github.com/tukaani-project/xz/archive/v5.4.3.tar.gz\r\nerror: Failed to download from mirror set\r\nerror: https://github.com/tukaani-project/xz/archive/v5.4.3.tar.gz: failed: status code 404\r\n[DEBUG] D:\\a\\_work\\1\\s\\src\\vcpkg\\base\\downloads.cpp(1003): \r\n[DEBUG] Time in subprocesses: 0us\r\n[DEBUG] Time in parsing JSON: 3us\r\n[DEBUG] Time in JSON reader: 0us\r\n[DEBUG] Time in filesystem: 6580us\r\n[DEBUG] Time in loading ports: 0us\r\n[DEBUG] Exiting after 2.2 s (2062019us)\r\n\r\nCMake Error at scripts/cmake/vcpkg_download_distfile.cmake:32 (message):\r\n      \r\n      Failed to download file with error: 1\r\n      If you are using a proxy, please check your proxy setting. Possible causes are:\r\n      \r\n      1. You are actually using an HTTP proxy, but setting HTTPS_PROXY variable\r\n         to `https://address:port`. This is not correct, because `https://` prefix\r\n         claims the proxy is an HTTPS proxy, while your proxy (v2ray, shadowsocksr\r\n         , etc..) is an HTTP proxy. Try setting `http://address:port` to both\r\n         HTTP_PROXY and HTTPS_PROXY instead.\r\n      \r\n      2. If you are using Windows, vcpkg will automatically use your Windows IE Proxy Settings\r\n         set by your proxy software. See https://github.com/microsoft/vcpkg-tool/pull/77\r\n         The value set by your proxy might be wrong, or have same `https://` prefix issue.\r\n      \r\n      3. Your proxy's remote server is out of service.\r\n      \r\n      If you've tried directly download the link, and believe this is not a temporary\r\n      download server failure, please submit an issue at https://github.com/Microsoft/vcpkg/issues\r\n      to report this upstream download server failure.\r\n      \r\n\r\nCall Stack (most recent call first):\r\n  scripts/cmake/vcpkg_download_distfile.cmake:270 (z_vcpkg_download_distfile_show_proxy_and_fail)\r\n  scripts/cmake/vcpkg_from_github.cmake:106 (vcpkg_download_distfile)\r\n  ports/liblzma/portfile.cmake:1 (vcpkg_from_github)\r\n  scripts/ports.cmake:147 (include)\r\n\r\n\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/microsoft/vcpkg/issues/comments/1612149003/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-06-28T21:46:45Z","org":{"id":6154722,"login":"microsoft","gravatar_id":"","url":"https://api.github.com/orgs/microsoft","avatar_url":"https://avatars.githubusercontent.com/u/6154722?"}}
