{"id":"31573676470","type":"PushEvent","actor":{"id":15467072,"login":"swift-ci","display_login":"swift-ci","gravatar_id":"","url":"https://api.github.com/users/swift-ci","avatar_url":"https://avatars.githubusercontent.com/u/15467072?"},"repo":{"id":215875945,"name":"apple/llvm-project","url":"https://api.github.com/repos/apple/llvm-project"},"payload":{"repository_id":215875945,"push_id":14910088854,"size":4,"distinct_size":2,"ref":"refs/heads/stable/20230725","head":"eaf26adf613f7ae0060dc38a90feb2ab51dfaf85","before":"0a47d1e3163c15b372b6b34f505429a0c596770a","commits":[{"sha":"6a562bbd51c9ad1ff522d19a0b247595c1f85184","author":{"email":"hokein.wu@gmail.com","name":"Haojian Wu"},"message":"[Tooling/Inclusion] Add std::range symbols in the mapping.\n\nFixes https://github.com/llvm/llvm-project/issues/64191\n\nDifferential Revision: https://reviews.llvm.org/D156648\n\n(cherry picked from commit 171868dc2cd60c6e3eaeb3861b18ba0e22461291)","distinct":false,"url":"https://api.github.com/repos/apple/llvm-project/commits/6a562bbd51c9ad1ff522d19a0b247595c1f85184"},{"sha":"e2c7d62cb570ba9adef2b38209746c33c752dca2","author":{"email":"am@git-apple-llvm","name":"git apple-llvm automerger"},"message":"Merge commit '6a562bbd51c9' from llvm.org/release/17.x into stable/20230725","distinct":true,"url":"https://api.github.com/repos/apple/llvm-project/commits/e2c7d62cb570ba9adef2b38209746c33c752dca2"},{"sha":"466677b126855c79a05a1ebc111eea48053ad4ef","author":{"email":"martin@martin.st","name":"Martin Storsjö"},"message":"[llvm-windres] Implement the windres flag --use-temp-file\n\nWhether a temp file or a pipe is used for preprocessing is an\ninternal detail, this flag has a notable effect on the preprocessing\nin GNU windres. Without this flag, GNU windres passes command\narguments as-is to popen(), which means they get evaluated by a\nshell without being re-escaped for this case. To mimic this,\nllvm-windres has manually tried to unescape arguments.\n\nWhen GNU windres is given the --use-temp-file flag, it uses a\ndifferent API for invoking the preprocessor, and this API takes care\nof preserving special characters in the command line arguments.\nFor users of GNU windres, this means that by using --use-temp-file,\nthey don't need to do the (quite terrible) double escaping of\nquotes/spaces etc.\n\nThe xz project uses the --use-temp-file flag when invoking\nGNU windres, see\nhttps://github.com/tukaani-project/xz/commit/6b117d3b1fe91eb26d533ab16a2e552f84148d47.\nHowever as llvm-windres didn't implement this flag and just\nassumed the GNU windres popen() behaviour, they had to use a\ndifferent codepath for llvm-windres.\n\nThat separate codepath for llvm-windres broke later when llvm-windres\ngot slightly more accurate unescaping of lone quotes in\n0f4c6b120f21d582ab7c5c4f2b2a475086c34938 /\nhttps://reviews.llvm.org/D146848 (fixing a discrepancy to GNU\nwindres as found in https://github.com/llvm/llvm-project/issues/57334),\nand this was reported in\nhttps://github.com/mstorsjo/llvm-mingw/issues/363.\n\nNot touching the implementation of the --preprocessor option\nwith respect to the --use-temp-file flag; that option is doubly\ntricky as GNU windres changed its behaviour in a backwards incompatible\nway recently (and llvm-windres currently matches the old behaviour).\n(See\nhttps://sourceware.org/git/?p=binutils-gdb.git;a=commitdiff;h=21c33bcbe36377abf01614fb1b9be439a3b6de20,\nhttps://sourceware.org/bugzilla/show_bug.cgi?id=27594 and\nhttps://sourceware.org/git/?p=binutils-gdb.git;a=commitdiff;h=5edb8e3f5ad8d74a83fc0df7f6e4514eed0aa77f;hp=3abbafc2aacc6706fea3e3e326e2f08d107c3672\nfor the behaviour change.)\n\nDifferential Revision: https://reviews.llvm.org/D159223\n\n(cherry picked from commit 2bcc0fdc58a220cb9921b47ec8a32c85f2511a47)","distinct":false,"url":"https://api.github.com/repos/apple/llvm-project/commits/466677b126855c79a05a1ebc111eea48053ad4ef"},{"sha":"eaf26adf613f7ae0060dc38a90feb2ab51dfaf85","author":{"email":"am@git-apple-llvm","name":"git apple-llvm automerger"},"message":"Merge commit '466677b12685' from llvm.org/release/17.x into stable/20230725","distinct":true,"url":"https://api.github.com/repos/apple/llvm-project/commits/eaf26adf613f7ae0060dc38a90feb2ab51dfaf85"}]},"public":true,"created_at":"2023-09-04T08:01:18Z","org":{"id":10639145,"login":"apple","gravatar_id":"","url":"https://api.github.com/orgs/apple","avatar_url":"https://avatars.githubusercontent.com/u/10639145?"}}
{"id":"31573787766","type":"PushEvent","actor":{"id":46970,"login":"akyrtzi","display_login":"akyrtzi","gravatar_id":"","url":"https://api.github.com/users/akyrtzi","avatar_url":"https://avatars.githubusercontent.com/u/46970?"},"repo":{"id":215875945,"name":"apple/llvm-project","url":"https://api.github.com/repos/apple/llvm-project"},"payload":{"repository_id":215875945,"push_id":14910140219,"size":4,"distinct_size":0,"ref":"refs/heads/cached/stable/20230725","head":"eaf26adf613f7ae0060dc38a90feb2ab51dfaf85","before":"0a47d1e3163c15b372b6b34f505429a0c596770a","commits":[{"sha":"6a562bbd51c9ad1ff522d19a0b247595c1f85184","author":{"email":"hokein.wu@gmail.com","name":"Haojian Wu"},"message":"[Tooling/Inclusion] Add std::range symbols in the mapping.\n\nFixes https://github.com/llvm/llvm-project/issues/64191\n\nDifferential Revision: https://reviews.llvm.org/D156648\n\n(cherry picked from commit 171868dc2cd60c6e3eaeb3861b18ba0e22461291)","distinct":false,"url":"https://api.github.com/repos/apple/llvm-project/commits/6a562bbd51c9ad1ff522d19a0b247595c1f85184"},{"sha":"e2c7d62cb570ba9adef2b38209746c33c752dca2","author":{"email":"am@git-apple-llvm","name":"git apple-llvm automerger"},"message":"Merge commit '6a562bbd51c9' from llvm.org/release/17.x into stable/20230725","distinct":false,"url":"https://api.github.com/repos/apple/llvm-project/commits/e2c7d62cb570ba9adef2b38209746c33c752dca2"},{"sha":"466677b126855c79a05a1ebc111eea48053ad4ef","author":{"email":"martin@martin.st","name":"Martin Storsjö"},"message":"[llvm-windres] Implement the windres flag --use-temp-file\n\nWhether a temp file or a pipe is used for preprocessing is an\ninternal detail, this flag has a notable effect on the preprocessing\nin GNU windres. Without this flag, GNU windres passes command\narguments as-is to popen(), which means they get evaluated by a\nshell without being re-escaped for this case. To mimic this,\nllvm-windres has manually tried to unescape arguments.\n\nWhen GNU windres is given the --use-temp-file flag, it uses a\ndifferent API for invoking the preprocessor, and this API takes care\nof preserving special characters in the command line arguments.\nFor users of GNU windres, this means that by using --use-temp-file,\nthey don't need to do the (quite terrible) double escaping of\nquotes/spaces etc.\n\nThe xz project uses the --use-temp-file flag when invoking\nGNU windres, see\nhttps://github.com/tukaani-project/xz/commit/6b117d3b1fe91eb26d533ab16a2e552f84148d47.\nHowever as llvm-windres didn't implement this flag and just\nassumed the GNU windres popen() behaviour, they had to use a\ndifferent codepath for llvm-windres.\n\nThat separate codepath for llvm-windres broke later when llvm-windres\ngot slightly more accurate unescaping of lone quotes in\n0f4c6b120f21d582ab7c5c4f2b2a475086c34938 /\nhttps://reviews.llvm.org/D146848 (fixing a discrepancy to GNU\nwindres as found in https://github.com/llvm/llvm-project/issues/57334),\nand this was reported in\nhttps://github.com/mstorsjo/llvm-mingw/issues/363.\n\nNot touching the implementation of the --preprocessor option\nwith respect to the --use-temp-file flag; that option is doubly\ntricky as GNU windres changed its behaviour in a backwards incompatible\nway recently (and llvm-windres currently matches the old behaviour).\n(See\nhttps://sourceware.org/git/?p=binutils-gdb.git;a=commitdiff;h=21c33bcbe36377abf01614fb1b9be439a3b6de20,\nhttps://sourceware.org/bugzilla/show_bug.cgi?id=27594 and\nhttps://sourceware.org/git/?p=binutils-gdb.git;a=commitdiff;h=5edb8e3f5ad8d74a83fc0df7f6e4514eed0aa77f;hp=3abbafc2aacc6706fea3e3e326e2f08d107c3672\nfor the behaviour change.)\n\nDifferential Revision: https://reviews.llvm.org/D159223\n\n(cherry picked from commit 2bcc0fdc58a220cb9921b47ec8a32c85f2511a47)","distinct":false,"url":"https://api.github.com/repos/apple/llvm-project/commits/466677b126855c79a05a1ebc111eea48053ad4ef"},{"sha":"eaf26adf613f7ae0060dc38a90feb2ab51dfaf85","author":{"email":"am@git-apple-llvm","name":"git apple-llvm automerger"},"message":"Merge commit '466677b12685' from llvm.org/release/17.x into stable/20230725","distinct":false,"url":"https://api.github.com/repos/apple/llvm-project/commits/eaf26adf613f7ae0060dc38a90feb2ab51dfaf85"}]},"public":true,"created_at":"2023-09-04T08:05:44Z","org":{"id":10639145,"login":"apple","gravatar_id":"","url":"https://api.github.com/orgs/apple","avatar_url":"https://avatars.githubusercontent.com/u/10639145?"}}
