{"id":"32690426834","type":"IssueCommentEvent","actor":{"id":78042786,"login":"JiaT75","display_login":"JiaT75","gravatar_id":"","url":"https://api.github.com/users/JiaT75","avatar_url":"https://avatars.githubusercontent.com/u/78042786?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/tukaani-project/xz/issues/18","repository_url":"https://api.github.com/repos/tukaani-project/xz","labels_url":"https://api.github.com/repos/tukaani-project/xz/issues/18/labels{/name}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/18/comments","events_url":"https://api.github.com/repos/tukaani-project/xz/issues/18/events","html_url":"https://github.com/tukaani-project/xz/issues/18","id":1531020555,"node_id":"I_kwDOIQBEvs5bQYUL","number":18,"title":"[Feature Request]: Create Windows CI Support","user":{"login":"JiaT75","id":78042786,"node_id":"MDQ6VXNlcjc4MDQyNzg2","avatar_url":"https://avatars.githubusercontent.com/u/78042786?v=4","gravatar_id":"","url":"https://api.github.com/users/JiaT75","html_url":"https://github.com/JiaT75","followers_url":"https://api.github.com/users/JiaT75/followers","following_url":"https://api.github.com/users/JiaT75/following{/other_user}","gists_url":"https://api.github.com/users/JiaT75/gists{/gist_id}","starred_url":"https://api.github.com/users/JiaT75/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JiaT75/subscriptions","organizations_url":"https://api.github.com/users/JiaT75/orgs","repos_url":"https://api.github.com/users/JiaT75/repos","events_url":"https://api.github.com/users/JiaT75/events{/privacy}","received_events_url":"https://api.github.com/users/JiaT75/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2023-01-12T16:27:27Z","updated_at":"2023-10-19T12:28:54Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"body":"### Describe the Feature\n\nBoth MinGw and CMake Windows builds should be tested.\n\n### Expected Complications\n\nDownloading the correct build environment dependencies could be tricky. GitHub might have some reusable components to help with this.\n\n### Will I try to implement this new feature?\n\nYes","reactions":{"url":"https://api.github.com/repos/tukaani-project/xz/issues/18/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tukaani-project/xz/issues/18/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/tukaani-project/xz/issues/comments/1770874618","html_url":"https://github.com/tukaani-project/xz/issues/18#issuecomment-1770874618","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/18","id":1770874618,"node_id":"IC_kwDOIQBEvs5pjWb6","user":{"login":"JiaT75","id":78042786,"node_id":"MDQ6VXNlcjc4MDQyNzg2","avatar_url":"https://avatars.githubusercontent.com/u/78042786?v=4","gravatar_id":"","url":"https://api.github.com/users/JiaT75","html_url":"https://github.com/JiaT75","followers_url":"https://api.github.com/users/JiaT75/followers","following_url":"https://api.github.com/users/JiaT75/following{/other_user}","gists_url":"https://api.github.com/users/JiaT75/gists{/gist_id}","starred_url":"https://api.github.com/users/JiaT75/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JiaT75/subscriptions","organizations_url":"https://api.github.com/users/JiaT75/orgs","repos_url":"https://api.github.com/users/JiaT75/repos","events_url":"https://api.github.com/users/JiaT75/events{/privacy}","received_events_url":"https://api.github.com/users/JiaT75/received_events","type":"User","site_admin":false},"created_at":"2023-10-19T12:28:54Z","updated_at":"2023-10-19T12:28:54Z","author_association":"MEMBER","body":"Hi! This question doesn't exactly belong on this issue. This issue is for discussing changes to our Continuous Integration scripts for improving Windows support (which I still need to improve/finish). Anyways, I will still answer your question here.\r\n\r\n> Looks like you need to put following in CMakeLists.txt: `option(BUILD_SHARED_LIBS \"Build shared libraries\" ON)` Most opensource libs like **libxml2** have this ON by default. And before cmake when I compiled XZ it was generating liblzma.dll by default.\r\n\r\nWe have always had the `BUILD_SHARED_LIBS` option defined in `CMakeLists.txt` since we first supported a CMake build. You can search for the line `option(BUILD_SHARED_LIBS \"Build liblzma as a shared library instead of static\")` if you are curious. In general, CMake defaults to `BUILD_SHARED_LIBS` not being set. Other projects can choose to override this by default but since we have always had it OFF by default it is difficult to change. Applications may be relying on this default behavior if they only want the static library to be built. So changing the default to instead build the shared library could cause their build pipelines to fail.\r\n\r\nThank you for this report, but we will not be changing this.","reactions":{"url":"https://api.github.com/repos/tukaani-project/xz/issues/comments/1770874618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-10-19T12:28:55Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"32690491256","type":"PushEvent","actor":{"id":78042786,"login":"JiaT75","display_login":"JiaT75","gravatar_id":"","url":"https://api.github.com/users/JiaT75","avatar_url":"https://avatars.githubusercontent.com/u/78042786?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"repository_id":553665726,"push_id":15484380388,"size":2,"distinct_size":2,"ref":"refs/heads/master","head":"105c7ca90d4152942e0798580a37f736d02faa22","before":"c60b25569d414bb73b705977a4dd342f8f9f1965","commits":[{"sha":"139757170468f0f1fafdf0a8ffa74363d1ea1d0c","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"CMake: Add ALLOW_CLMUL_CRC option to enable/disable CLMUL.\n\nThe option is enabled by default, but will only be visible to a user\nlisting cache variables or using a CMake GUI application if the\nimmintrin.h header file is found.\n\nThis mirrors our Autotools build --disable-clmul-crc functionality.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/139757170468f0f1fafdf0a8ffa74363d1ea1d0c"},{"sha":"105c7ca90d4152942e0798580a37f736d02faa22","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"Build: Remove check for COND_CHECK_CRC32 in check/Makefile.inc.\n\nCurrently crc32 is always enabled, so COND_CHECK_CRC32 must always be\nset. Because of this, it makes the recent change to conditionally\ncompile check/crc_clmul.c appear wrong since that file has CLMUL\nimplementations for both CRC32 and CRC64.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/105c7ca90d4152942e0798580a37f736d02faa22"}]},"public":true,"created_at":"2023-10-19T12:30:57Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"32690608964","type":"IssueCommentEvent","actor":{"id":31506443,"login":"ashish-2022","display_login":"ashish-2022","gravatar_id":"","url":"https://api.github.com/users/ashish-2022","avatar_url":"https://avatars.githubusercontent.com/u/31506443?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/tukaani-project/xz/issues/18","repository_url":"https://api.github.com/repos/tukaani-project/xz","labels_url":"https://api.github.com/repos/tukaani-project/xz/issues/18/labels{/name}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/18/comments","events_url":"https://api.github.com/repos/tukaani-project/xz/issues/18/events","html_url":"https://github.com/tukaani-project/xz/issues/18","id":1531020555,"node_id":"I_kwDOIQBEvs5bQYUL","number":18,"title":"[Feature Request]: Create Windows CI Support","user":{"login":"JiaT75","id":78042786,"node_id":"MDQ6VXNlcjc4MDQyNzg2","avatar_url":"https://avatars.githubusercontent.com/u/78042786?v=4","gravatar_id":"","url":"https://api.github.com/users/JiaT75","html_url":"https://github.com/JiaT75","followers_url":"https://api.github.com/users/JiaT75/followers","following_url":"https://api.github.com/users/JiaT75/following{/other_user}","gists_url":"https://api.github.com/users/JiaT75/gists{/gist_id}","starred_url":"https://api.github.com/users/JiaT75/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JiaT75/subscriptions","organizations_url":"https://api.github.com/users/JiaT75/orgs","repos_url":"https://api.github.com/users/JiaT75/repos","events_url":"https://api.github.com/users/JiaT75/events{/privacy}","received_events_url":"https://api.github.com/users/JiaT75/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2023-01-12T16:27:27Z","updated_at":"2023-10-19T12:34:39Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"body":"### Describe the Feature\n\nBoth MinGw and CMake Windows builds should be tested.\n\n### Expected Complications\n\nDownloading the correct build environment dependencies could be tricky. GitHub might have some reusable components to help with this.\n\n### Will I try to implement this new feature?\n\nYes","reactions":{"url":"https://api.github.com/repos/tukaani-project/xz/issues/18/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tukaani-project/xz/issues/18/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/tukaani-project/xz/issues/comments/1770889324","html_url":"https://github.com/tukaani-project/xz/issues/18#issuecomment-1770889324","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/18","id":1770889324,"node_id":"IC_kwDOIQBEvs5pjaBs","user":{"login":"ashish-2022","id":31506443,"node_id":"MDQ6VXNlcjMxNTA2NDQz","avatar_url":"https://avatars.githubusercontent.com/u/31506443?v=4","gravatar_id":"","url":"https://api.github.com/users/ashish-2022","html_url":"https://github.com/ashish-2022","followers_url":"https://api.github.com/users/ashish-2022/followers","following_url":"https://api.github.com/users/ashish-2022/following{/other_user}","gists_url":"https://api.github.com/users/ashish-2022/gists{/gist_id}","starred_url":"https://api.github.com/users/ashish-2022/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashish-2022/subscriptions","organizations_url":"https://api.github.com/users/ashish-2022/orgs","repos_url":"https://api.github.com/users/ashish-2022/repos","events_url":"https://api.github.com/users/ashish-2022/events{/privacy}","received_events_url":"https://api.github.com/users/ashish-2022/received_events","type":"User","site_admin":false},"created_at":"2023-10-19T12:34:38Z","updated_at":"2023-10-19T12:34:38Z","author_association":"NONE","body":"> Hi! This question doesn't exactly belong on this issue. This issue is for discussing changes to our Continuous Integration scripts for improving Windows support (which I still need to improve/finish). Anyways, I will still answer your question here.\r\n> \r\n> > Looks like you need to put following in CMakeLists.txt: `option(BUILD_SHARED_LIBS \"Build shared libraries\" ON)` Most opensource libs like **libxml2** have this ON by default. And before cmake when I compiled XZ it was generating liblzma.dll by default.\r\n> \r\n> We have always had the `BUILD_SHARED_LIBS` option defined in `CMakeLists.txt` since we first supported a CMake build. You can search for the line `option(BUILD_SHARED_LIBS \"Build liblzma as a shared library instead of static\")` if you are curious. In general, CMake defaults to `BUILD_SHARED_LIBS` not being set. Other projects can choose to override this by default but since we have always had it OFF by default it is difficult to change. Applications may be relying on this default behavior if they only want the static library to be built. So changing the default to instead build the shared library could cause their build pipelines to fail.\r\n> \r\n> Thank you for this report, but we will not be changing this.\r\n\r\nOk, Thanks.","reactions":{"url":"https://api.github.com/repos/tukaani-project/xz/issues/comments/1770889324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-10-19T12:34:39Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
