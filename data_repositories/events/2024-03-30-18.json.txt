{"id":"37020603868","type":"IssueCommentEvent","actor":{"id":6431709,"login":"shafik","display_login":"shafik","gravatar_id":"","url":"https://api.github.com/users/shafik","avatar_url":"https://avatars.githubusercontent.com/u/6431709?"},"repo":{"id":75821432,"name":"llvm/llvm-project","url":"https://api.github.com/repos/llvm/llvm-project"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/llvm/llvm-project/issues/63957","repository_url":"https://api.github.com/repos/llvm/llvm-project","labels_url":"https://api.github.com/repos/llvm/llvm-project/issues/63957/labels{/name}","comments_url":"https://api.github.com/repos/llvm/llvm-project/issues/63957/comments","events_url":"https://api.github.com/repos/llvm/llvm-project/issues/63957/events","html_url":"https://github.com/llvm/llvm-project/issues/63957","id":1812077043,"node_id":"I_kwDOBITxeM5sAhnz","number":63957,"title":"[clang] Reporting unused function with ifunc resolver","user":{"login":"JiaT75","id":78042786,"node_id":"MDQ6VXNlcjc4MDQyNzg2","avatar_url":"https://avatars.githubusercontent.com/u/78042786?v=4","gravatar_id":"","url":"https://api.github.com/users/JiaT75","html_url":"https://github.com/JiaT75","followers_url":"https://api.github.com/users/JiaT75/followers","following_url":"https://api.github.com/users/JiaT75/following{/other_user}","gists_url":"https://api.github.com/users/JiaT75/gists{/gist_id}","starred_url":"https://api.github.com/users/JiaT75/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JiaT75/subscriptions","organizations_url":"https://api.github.com/users/JiaT75/orgs","repos_url":"https://api.github.com/users/JiaT75/repos","events_url":"https://api.github.com/users/JiaT75/events{/privacy}","received_events_url":"https://api.github.com/users/JiaT75/received_events","type":"User","site_admin":false},"labels":[{"id":3738617184,"node_id":"LA_kwDOBITxeM7e1sVg","url":"https://api.github.com/repos/llvm/llvm-project/labels/clang:diagnostics","name":"clang:diagnostics","color":"f9d0c4","default":false,"description":"New/improved warning or error message in Clang, but not in clang-tidy or static analyzer"}],"state":"open","locked":false,"assignee":{"login":"MaskRay","id":416322,"node_id":"MDQ6VXNlcjQxNjMyMg==","avatar_url":"https://avatars.githubusercontent.com/u/416322?v=4","gravatar_id":"","url":"https://api.github.com/users/MaskRay","html_url":"https://github.com/MaskRay","followers_url":"https://api.github.com/users/MaskRay/followers","following_url":"https://api.github.com/users/MaskRay/following{/other_user}","gists_url":"https://api.github.com/users/MaskRay/gists{/gist_id}","starred_url":"https://api.github.com/users/MaskRay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaskRay/subscriptions","organizations_url":"https://api.github.com/users/MaskRay/orgs","repos_url":"https://api.github.com/users/MaskRay/repos","events_url":"https://api.github.com/users/MaskRay/events{/privacy}","received_events_url":"https://api.github.com/users/MaskRay/received_events","type":"User","site_admin":false},"assignees":[{"login":"MaskRay","id":416322,"node_id":"MDQ6VXNlcjQxNjMyMg==","avatar_url":"https://avatars.githubusercontent.com/u/416322?v=4","gravatar_id":"","url":"https://api.github.com/users/MaskRay","html_url":"https://github.com/MaskRay","followers_url":"https://api.github.com/users/MaskRay/followers","following_url":"https://api.github.com/users/MaskRay/following{/other_user}","gists_url":"https://api.github.com/users/MaskRay/gists{/gist_id}","starred_url":"https://api.github.com/users/MaskRay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaskRay/subscriptions","organizations_url":"https://api.github.com/users/MaskRay/orgs","repos_url":"https://api.github.com/users/MaskRay/repos","events_url":"https://api.github.com/users/MaskRay/events{/privacy}","received_events_url":"https://api.github.com/users/MaskRay/received_events","type":"User","site_admin":false}],"milestone":null,"comments":6,"created_at":"2023-07-19T14:25:47Z","updated_at":"2024-03-30T18:03:00Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Hello!\r\n\r\nClang 16.0.0 and older report a warning when compiling a program that uses `__attribute__((__ifunc__()))` with `-Wunused-function`. The resolver function appears to trigger this when it is only referenced by the `__attribute__`. Here is an example program that should trigger the warning:\r\n\r\n```C\r\nstatic void resolved(void) {\r\n    return;\r\n}\r\n\r\nstatic void (*resolver (void)) (void) {\r\n\treturn resolved;\r\n}\r\n\r\nvoid indirect_function(void) __attribute__((__ifunc__(\"resolver\")));\r\n\r\nint main() {\r\n    indirect_function();\r\n}\r\n```\r\nGCC does not issue a warning for the above program. [Here](https://godbolt.org/z/9f1TnjG7h) is a godbolt.org snippet of the above code to allow you to easily test it. Let me know if you need anymore information.","reactions":{"url":"https://api.github.com/repos/llvm/llvm-project/issues/63957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/llvm/llvm-project/issues/63957/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/llvm/llvm-project/issues/comments/2028394754","html_url":"https://github.com/llvm/llvm-project/issues/63957#issuecomment-2028394754","issue_url":"https://api.github.com/repos/llvm/llvm-project/issues/63957","id":2028394754,"node_id":"IC_kwDOBITxeM545tkC","user":{"login":"shafik","id":6431709,"node_id":"MDQ6VXNlcjY0MzE3MDk=","avatar_url":"https://avatars.githubusercontent.com/u/6431709?v=4","gravatar_id":"","url":"https://api.github.com/users/shafik","html_url":"https://github.com/shafik","followers_url":"https://api.github.com/users/shafik/followers","following_url":"https://api.github.com/users/shafik/following{/other_user}","gists_url":"https://api.github.com/users/shafik/gists{/gist_id}","starred_url":"https://api.github.com/users/shafik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shafik/subscriptions","organizations_url":"https://api.github.com/users/shafik/orgs","repos_url":"https://api.github.com/users/shafik/repos","events_url":"https://api.github.com/users/shafik/events{/privacy}","received_events_url":"https://api.github.com/users/shafik/received_events","type":"User","site_admin":false},"created_at":"2024-03-30T18:02:59Z","updated_at":"2024-03-30T18:02:59Z","author_association":"COLLABORATOR","body":"> > We should be careful and don't consider all xz commits malicious.\r\n> \r\n> I disagree, we need to be extra careful with changes associated with the xz project right now. There's no reason why we need to get this change committed quickly. It should get extra scrutiny.\r\n\r\nI concur with this sentiment, the details are still emerging on this whole incident. This so far seems like the best timeline: https://boehs.org/node/everything-i-know-about-the-xz-backdoor and a lot if still unknown.\r\n\r\nI don't feel confident in saying I have the whole picture and I think until we get a better idea of the scope we should be taking our time.","reactions":{"url":"https://api.github.com/repos/llvm/llvm-project/issues/comments/2028394754/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2024-03-30T18:03:00Z","org":{"id":17149993,"login":"llvm","gravatar_id":"","url":"https://api.github.com/orgs/llvm","avatar_url":"https://avatars.githubusercontent.com/u/17149993?"}}
{"id":"37020902533","type":"IssueCommentEvent","actor":{"id":111649003,"login":"bendaws","display_login":"bendaws","gravatar_id":"","url":"https://api.github.com/users/bendaws","avatar_url":"https://avatars.githubusercontent.com/u/111649003?"},"repo":{"id":63809205,"name":"google/oss-fuzz","url":"https://api.github.com/repos/google/oss-fuzz"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/google/oss-fuzz/issues/10667","repository_url":"https://api.github.com/repos/google/oss-fuzz","labels_url":"https://api.github.com/repos/google/oss-fuzz/issues/10667/labels{/name}","comments_url":"https://api.github.com/repos/google/oss-fuzz/issues/10667/comments","events_url":"https://api.github.com/repos/google/oss-fuzz/issues/10667/events","html_url":"https://github.com/google/oss-fuzz/pull/10667","id":1793585804,"node_id":"PR_kwDOA82mtc5U62sq","number":10667,"title":"xz: Disable ifunc to fix Issue 60259.","user":{"login":"JiaT75","id":78042786,"node_id":"MDQ6VXNlcjc4MDQyNzg2","avatar_url":"https://avatars.githubusercontent.com/u/78042786?v=4","gravatar_id":"","url":"https://api.github.com/users/JiaT75","html_url":"https://github.com/JiaT75","followers_url":"https://api.github.com/users/JiaT75/followers","following_url":"https://api.github.com/users/JiaT75/following{/other_user}","gists_url":"https://api.github.com/users/JiaT75/gists{/gist_id}","starred_url":"https://api.github.com/users/JiaT75/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JiaT75/subscriptions","organizations_url":"https://api.github.com/users/JiaT75/orgs","repos_url":"https://api.github.com/users/JiaT75/repos","events_url":"https://api.github.com/users/JiaT75/events{/privacy}","received_events_url":"https://api.github.com/users/JiaT75/received_events","type":"User","site_admin":false},"labels":[{"id":5560466969,"node_id":"LA_kwDOA82mtc8AAAABS23-GQ","url":"https://api.github.com/repos/google/oss-fuzz/labels/ready%20to%20merge","name":"ready to merge","color":"0E8A16","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":16,"created_at":"2023-07-07T13:49:31Z","updated_at":"2024-03-30T18:34:26Z","closed_at":"2023-07-07T14:01:16Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/google/oss-fuzz/pulls/10667","html_url":"https://github.com/google/oss-fuzz/pull/10667","diff_url":"https://github.com/google/oss-fuzz/pull/10667.diff","patch_url":"https://github.com/google/oss-fuzz/pull/10667.patch","merged_at":"2023-07-07T14:01:16Z"},"body":"Indirect function support was added to xz on machines that support it for function dispatching. ifunc is not compatible with -fsanitize=address, so this should be disabled for fuzzing builds.","reactions":{"url":"https://api.github.com/repos/google/oss-fuzz/issues/10667/reactions","total_count":207,"+1":0,"-1":103,"laugh":1,"hooray":3,"confused":0,"heart":0,"rocket":4,"eyes":96},"timeline_url":"https://api.github.com/repos/google/oss-fuzz/issues/10667/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/google/oss-fuzz/issues/comments/2028436650","html_url":"https://github.com/google/oss-fuzz/pull/10667#issuecomment-2028436650","issue_url":"https://api.github.com/repos/google/oss-fuzz/issues/10667","id":2028436650,"node_id":"IC_kwDOA82mtc5453yq","user":{"login":"bendaws","id":111649003,"node_id":"U_kgDOBqeg6w","avatar_url":"https://avatars.githubusercontent.com/u/111649003?v=4","gravatar_id":"","url":"https://api.github.com/users/bendaws","html_url":"https://github.com/bendaws","followers_url":"https://api.github.com/users/bendaws/followers","following_url":"https://api.github.com/users/bendaws/following{/other_user}","gists_url":"https://api.github.com/users/bendaws/gists{/gist_id}","starred_url":"https://api.github.com/users/bendaws/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bendaws/subscriptions","organizations_url":"https://api.github.com/users/bendaws/orgs","repos_url":"https://api.github.com/users/bendaws/repos","events_url":"https://api.github.com/users/bendaws/events{/privacy}","received_events_url":"https://api.github.com/users/bendaws/received_events","type":"User","site_admin":false},"created_at":"2024-03-30T18:34:24Z","updated_at":"2024-03-30T18:34:24Z","author_association":"NONE","body":"think an oopsies happened here :P","reactions":{"url":"https://api.github.com/repos/google/oss-fuzz/issues/comments/2028436650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2024-03-30T18:34:26Z","org":{"id":1342004,"login":"google","gravatar_id":"","url":"https://api.github.com/orgs/google","avatar_url":"https://avatars.githubusercontent.com/u/1342004?"}}
