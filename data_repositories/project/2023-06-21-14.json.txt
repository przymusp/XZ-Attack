{"id":"29909977400","type":"PushEvent","actor":{"id":78042786,"login":"JiaT75","display_login":"JiaT75","gravatar_id":"","url":"https://api.github.com/users/JiaT75","avatar_url":"https://avatars.githubusercontent.com/u/78042786?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"repository_id":553665726,"push_id":14061518696,"size":16,"distinct_size":16,"ref":"refs/heads/filter_to_str_cli","head":"375daf4810e278ff3c7d17c3307d807f7021f3fd","before":"cbae4fa45926227e2d4ac12aa5996c52525c2701","commits":[{"sha":"f89ced81b1bb5c8d1e9f33b27d4ddd718dedd7ca","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Use lzma_filters_free() in forget_filter_chain().\n\nThis is a little cleaner than the previous implementation of\nforget_filter_chain(). It is also more consistent since\nlzma_str_to_filters() will always terminate the filter chain so there\nis no need to terminate it later in coder_set_compression_settings().","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/f89ced81b1bb5c8d1e9f33b27d4ddd718dedd7ca"},{"sha":"a1c55f1a995967d150bca1dac4214f006d8ff5d7","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Create command line options for filters[1-9].\n\nThe new command line options are meant to be combined with --block-list.\nThey work as an optional extension to --block-list to specify a custom\nfilter chain for each block listed. The new options allow the creation\nof up to 9 reusable filter chains. For instance:\n\nxz --block-list=1:10MiB,3:5MiB,,2:5MiB,1:0 --filters1=delta--lzma2 \\\n--filters2=x86--lzma2 --filters3=arm64--lzma2\n\nWill create the following blocks:\n1. A block of size 10 MiB with filter chain delta, lzma2.\n2. A block of size 5 MiB with filter chain arm64, lzma2.\n3. A block of size 5 MiB with filter chain arm64, lzma2.\n4. A block of size 5 MiB with filter chain x86, lzma2.\n5. A block containing the rest of the file contents with filter chain\n   delta, lzma2.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/a1c55f1a995967d150bca1dac4214f006d8ff5d7"},{"sha":"bd59380cb7f2860c6114af0fbad6efe7b0bff748","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Add a message if --block-list is used outside of xz compresssion.\n\n--block-list is only supported with compression in xz format. This avoids\nsilently ignoring when --block-list is unused.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/bd59380cb7f2860c6114af0fbad6efe7b0bff748"},{"sha":"2283e608caf1ee3acc4f302ce6fe252ed9f03dc7","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Free filters[] in debug mode.\n\nThis will only free filter chains created with --filters1-9 since the\ndefault filter chain may be set from a static function variable. The\ncomplexity to free the default filter chain is not worth the burden on\ncode maintenance.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/2283e608caf1ee3acc4f302ce6fe252ed9f03dc7"},{"sha":"df2fe3182a692ca5bb26c0ef354a488f905ca5ed","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Do not include block splitting if encoders are disabled.\n\nThe block splitting logic and split_block() function are not needed if\nencoders are disabled. This will help slightly reduce the binary size\nwhen built without encoders and allow split_block() to use functions\nthat require encoders being enabled.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/df2fe3182a692ca5bb26c0ef354a488f905ca5ed"},{"sha":"3970e64939dc1c8b3d0c73eb589d57ca1a125f0a","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Allows --block-list filters to scale down memory usage.\n\nPreviously, only the default filter chain could have its memory usage\nadjusted. The filter chains specified with --filtersX were not checked\nfor memory usage. Now, all used filter chains can be adjusted and will\nbe reported in verbose mode if adjusted.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/3970e64939dc1c8b3d0c73eb589d57ca1a125f0a"},{"sha":"35b0e7f222a84fd6a337000b3aa93c5285395d4c","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Validate --flush-timeout for all specified filter chains.\n\nA side-effect of this is that if a filter chain is specified but not\nused, this will still cause a fatal error.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/35b0e7f222a84fd6a337000b3aa93c5285395d4c"},{"sha":"83a80849c62dad7e8c2cb25b87228b2bde22781a","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Set the Block size for mt encoding correctly.\n\nWhen opt_block_size is not used, the Block size for mt encoder is\nderived from the minimum of the largest Block specified by\n--block-list and the recommended Block size on all filter chains\ncalculated by lzma_mt_block_size(). This avoids using unnecessary\nmemory and ensures that all Blocks are large enough for the most memory\nneedy filter chain.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/83a80849c62dad7e8c2cb25b87228b2bde22781a"},{"sha":"214f18d57921e054a4433639c8c7ccd6073ee9bb","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Ignore filter chains that are set but never used in --block-list.\n\nIf a filter chain is set but not used in --block-list, it introduced\nunexpected behavior such as requiring an unneeded amount of memory to\ncompress, reducing the number of threads in multi-threaded encoding, and\nprinting an incorrect amount of memory needed to decompress.\n\nThis also renames filters_init_mask => filters_used_mask. A filter is\nassumed to be used if it is specified in --filtersX until\ncoder_set_compression_settings() determines which filters are referenced\nin --block-list.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/214f18d57921e054a4433639c8c7ccd6073ee9bb"},{"sha":"926a2994bd9e7c1c1ebb29a77dd8e593cfd14168","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Update --long-help for the new --filtersX option.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/926a2994bd9e7c1c1ebb29a77dd8e593cfd14168"},{"sha":"4c19761ee4641dea888758f116e1cfe20e602111","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Update the man page for --block-list and --filtersX\n\nThe --block-list option description needed updating since the new\n--filtersX option changes how it can be used. The new entry for\n--filters1=FILTERS ... --filter9=FILTERS was created right after\nthe --filters option.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/4c19761ee4641dea888758f116e1cfe20e602111"},{"sha":"5adcaf80d8d81ded72ac23c587520e894393038d","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Add a new --filters-help option.\n\nThe --filters-help can be used to help create filter chains with the\n--filters and --filtersX options. The message in --long-help is too\nshort to fully explain the syntax to construct complex filter chains.\n\nIn --robot mode, xz will only print the output from liblzma function\nlzma_str_list_filters.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/5adcaf80d8d81ded72ac23c587520e894393038d"},{"sha":"db06e43345c7d6189a7ea84062a494a57cf1c456","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Update man page for new --filters-help option.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/db06e43345c7d6189a7ea84062a494a57cf1c456"},{"sha":"ae2b6c284ac9e8aabaab9a4e6cd44c47ee52358c","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Reorder robot mode subsections in the man page.\n\nThe order is now consistent with the order the command line arguments\nare documented earlier in the man page. The new order is:\n1. --list\n2. --info-memory\n3. --version\n\nInstead of the previous order:\n1. --version\n2. --info-memory\n3. --list","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/ae2b6c284ac9e8aabaab9a4e6cd44c47ee52358c"},{"sha":"ab1aeaa59c63d4804391e8ecbab5a338aaeff4a3","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Slight reword in xz man page for consistency.\n\nChanged will print => prints in xz --robot --version description to\nmatch --robot --info-memory description.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/ab1aeaa59c63d4804391e8ecbab5a338aaeff4a3"},{"sha":"375daf4810e278ff3c7d17c3307d807f7021f3fd","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Add a section to man page for robot mode --filters-help.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/375daf4810e278ff3c7d17c3307d807f7021f3fd"}]},"public":true,"created_at":"2023-06-21T14:16:30Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
