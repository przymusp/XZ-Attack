{"id":"37004213959","type":"IssueCommentEvent","actor":{"id":19725290,"login":"Zentrik","display_login":"Zentrik","gravatar_id":"","url":"https://api.github.com/users/Zentrik","avatar_url":"https://avatars.githubusercontent.com/u/19725290?"},"repo":{"id":75821432,"name":"llvm/llvm-project","url":"https://api.github.com/repos/llvm/llvm-project"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/llvm/llvm-project/issues/63957","repository_url":"https://api.github.com/repos/llvm/llvm-project","labels_url":"https://api.github.com/repos/llvm/llvm-project/issues/63957/labels{/name}","comments_url":"https://api.github.com/repos/llvm/llvm-project/issues/63957/comments","events_url":"https://api.github.com/repos/llvm/llvm-project/issues/63957/events","html_url":"https://github.com/llvm/llvm-project/issues/63957","id":1812077043,"node_id":"I_kwDOBITxeM5sAhnz","number":63957,"title":"[clang] Reporting unused function with ifunc resolver","user":{"login":"JiaT75","id":78042786,"node_id":"MDQ6VXNlcjc4MDQyNzg2","avatar_url":"https://avatars.githubusercontent.com/u/78042786?v=4","gravatar_id":"","url":"https://api.github.com/users/JiaT75","html_url":"https://github.com/JiaT75","followers_url":"https://api.github.com/users/JiaT75/followers","following_url":"https://api.github.com/users/JiaT75/following{/other_user}","gists_url":"https://api.github.com/users/JiaT75/gists{/gist_id}","starred_url":"https://api.github.com/users/JiaT75/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JiaT75/subscriptions","organizations_url":"https://api.github.com/users/JiaT75/orgs","repos_url":"https://api.github.com/users/JiaT75/repos","events_url":"https://api.github.com/users/JiaT75/events{/privacy}","received_events_url":"https://api.github.com/users/JiaT75/received_events","type":"User","site_admin":false},"labels":[{"id":3738617184,"node_id":"LA_kwDOBITxeM7e1sVg","url":"https://api.github.com/repos/llvm/llvm-project/labels/clang:diagnostics","name":"clang:diagnostics","color":"f9d0c4","default":false,"description":"New/improved warning or error message in Clang, but not in clang-tidy or static analyzer"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-07-19T14:25:47Z","updated_at":"2024-03-29T17:12:40Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Hello!\r\n\r\nClang 16.0.0 and older report a warning when compiling a program that uses `__attribute__((__ifunc__()))` with `-Wunused-function`. The resolver function appears to trigger this when it is only referenced by the `__attribute__`. Here is an example program that should trigger the warning:\r\n\r\n```C\r\nstatic void resolved(void) {\r\n    return;\r\n}\r\n\r\nstatic void (*resolver (void)) (void) {\r\n\treturn resolved;\r\n}\r\n\r\nvoid indirect_function(void) __attribute__((__ifunc__(\"resolver\")));\r\n\r\nint main() {\r\n    indirect_function();\r\n}\r\n```\r\nGCC does not issue a warning for the above program. [Here](https://godbolt.org/z/9f1TnjG7h) is a godbolt.org snippet of the above code to allow you to easily test it. Let me know if you need anymore information.","reactions":{"url":"https://api.github.com/repos/llvm/llvm-project/issues/63957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/llvm/llvm-project/issues/63957/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/llvm/llvm-project/issues/comments/2027508709","html_url":"https://github.com/llvm/llvm-project/issues/63957#issuecomment-2027508709","issue_url":"https://api.github.com/repos/llvm/llvm-project/issues/63957","id":2027508709,"node_id":"IC_kwDOBITxeM542VPl","user":{"login":"Zentrik","id":19725290,"node_id":"MDQ6VXNlcjE5NzI1Mjkw","avatar_url":"https://avatars.githubusercontent.com/u/19725290?v=4","gravatar_id":"","url":"https://api.github.com/users/Zentrik","html_url":"https://github.com/Zentrik","followers_url":"https://api.github.com/users/Zentrik/followers","following_url":"https://api.github.com/users/Zentrik/following{/other_user}","gists_url":"https://api.github.com/users/Zentrik/gists{/gist_id}","starred_url":"https://api.github.com/users/Zentrik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zentrik/subscriptions","organizations_url":"https://api.github.com/users/Zentrik/orgs","repos_url":"https://api.github.com/users/Zentrik/repos","events_url":"https://api.github.com/users/Zentrik/events{/privacy}","received_events_url":"https://api.github.com/users/Zentrik/received_events","type":"User","site_admin":false},"created_at":"2024-03-29T17:12:39Z","updated_at":"2024-03-29T17:12:39Z","author_association":"NONE","body":"This is still an issue on trunk.","reactions":{"url":"https://api.github.com/repos/llvm/llvm-project/issues/comments/2027508709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2024-03-29T17:12:40Z","org":{"id":17149993,"login":"llvm","gravatar_id":"","url":"https://api.github.com/orgs/llvm","avatar_url":"https://avatars.githubusercontent.com/u/17149993?"}}
{"id":"37004715695","type":"IssueCommentEvent","actor":{"id":9248427,"login":"AkihiroSuda","display_login":"AkihiroSuda","gravatar_id":"","url":"https://api.github.com/users/AkihiroSuda","avatar_url":"https://avatars.githubusercontent.com/u/9248427?"},"repo":{"id":52855516,"name":"Homebrew/homebrew-core","url":"https://api.github.com/repos/Homebrew/homebrew-core"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/Homebrew/homebrew-core/issues/167512","repository_url":"https://api.github.com/repos/Homebrew/homebrew-core","labels_url":"https://api.github.com/repos/Homebrew/homebrew-core/issues/167512/labels{/name}","comments_url":"https://api.github.com/repos/Homebrew/homebrew-core/issues/167512/comments","events_url":"https://api.github.com/repos/Homebrew/homebrew-core/issues/167512/events","html_url":"https://github.com/Homebrew/homebrew-core/pull/167512","id":2215662262,"node_id":"PR_kwDOAyaC3M5rLxf4","number":167512,"title":"xz: revert to 5.4.6","user":{"login":"p-linnane","id":105994585,"node_id":"U_kgDOBlFZWQ","avatar_url":"https://avatars.githubusercontent.com/u/105994585?v=4","gravatar_id":"","url":"https://api.github.com/users/p-linnane","html_url":"https://github.com/p-linnane","followers_url":"https://api.github.com/users/p-linnane/followers","following_url":"https://api.github.com/users/p-linnane/following{/other_user}","gists_url":"https://api.github.com/users/p-linnane/gists{/gist_id}","starred_url":"https://api.github.com/users/p-linnane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/p-linnane/subscriptions","organizations_url":"https://api.github.com/users/p-linnane/orgs","repos_url":"https://api.github.com/users/p-linnane/repos","events_url":"https://api.github.com/users/p-linnane/events{/privacy}","received_events_url":"https://api.github.com/users/p-linnane/received_events","type":"User","site_admin":false},"labels":[{"id":2256390052,"node_id":"MDU6TGFiZWwyMjU2MzkwMDUy","url":"https://api.github.com/repos/Homebrew/homebrew-core/labels/CI-syntax-only","name":"CI-syntax-only","color":"80dd75","default":false,"description":"Change only affects brew syntax, not the install. Only run syntax CI."},{"id":6335165864,"node_id":"LA_kwDOAyaC3M8AAAABeZr1qA","url":"https://api.github.com/repos/Homebrew/homebrew-core/labels/CI-version-downgrade","name":"CI-version-downgrade","color":"F9D0C4","default":false,"description":"Pass --skip-stable-version-audit to brew test-bot."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-03-29T16:32:21Z","updated_at":"2024-03-29T17:37:18Z","closed_at":"2024-03-29T16:39:58Z","author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/Homebrew/homebrew-core/pulls/167512","html_url":"https://github.com/Homebrew/homebrew-core/pull/167512","diff_url":"https://github.com/Homebrew/homebrew-core/pull/167512.diff","patch_url":"https://github.com/Homebrew/homebrew-core/pull/167512.patch","merged_at":"2024-03-29T16:39:58Z"},"body":"<!-- Use [x] to mark item done, or just click the checkboxes with device pointer -->\r\n\r\n- [x] Have you followed the [guidelines for contributing](https://github.com/Homebrew/homebrew-core/blob/HEAD/CONTRIBUTING.md)?\r\n- [x] Have you ensured that your commits follow the [commit style guide](https://docs.brew.sh/Formula-Cookbook#commit)?\r\n- [x] Have you checked that there aren't other open [pull requests](https://github.com/Homebrew/homebrew-core/pulls) for the same formula update/change?\r\n- [ ] Have you built your formula locally with `HOMEBREW_NO_INSTALL_FROM_API=1 brew install --build-from-source <formula>`, where `<formula>` is the name of the formula you're submitting?\r\n- [ ] Is your test running fine `brew test <formula>`, where `<formula>` is the name of the formula you're submitting?\r\n- [ ] Does your build pass `brew audit --strict <formula>` (after doing `HOMEBREW_NO_INSTALL_FROM_API=1 brew install --build-from-source <formula>`)? If this is a new formula, does it pass `brew audit --new <formula>`?\r\n\r\n-----\r\nA backdoor has been discovered in the tarballs for v5.6.0 and v5.6.1 of `xz`. This PR reverts our package to the last clean version. More details: https://www.openwall.com/lists/oss-security/2024/03/29/4\r\n\r\nCredit to @alex for raising this issue internally.","reactions":{"url":"https://api.github.com/repos/Homebrew/homebrew-core/issues/167512/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Homebrew/homebrew-core/issues/167512/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/Homebrew/homebrew-core/issues/comments/2027532737","html_url":"https://github.com/Homebrew/homebrew-core/pull/167512#issuecomment-2027532737","issue_url":"https://api.github.com/repos/Homebrew/homebrew-core/issues/167512","id":2027532737,"node_id":"IC_kwDOAyaC3M542bHB","user":{"login":"AkihiroSuda","id":9248427,"node_id":"MDQ6VXNlcjkyNDg0Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/9248427?v=4","gravatar_id":"","url":"https://api.github.com/users/AkihiroSuda","html_url":"https://github.com/AkihiroSuda","followers_url":"https://api.github.com/users/AkihiroSuda/followers","following_url":"https://api.github.com/users/AkihiroSuda/following{/other_user}","gists_url":"https://api.github.com/users/AkihiroSuda/gists{/gist_id}","starred_url":"https://api.github.com/users/AkihiroSuda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AkihiroSuda/subscriptions","organizations_url":"https://api.github.com/users/AkihiroSuda/orgs","repos_url":"https://api.github.com/users/AkihiroSuda/repos","events_url":"https://api.github.com/users/AkihiroSuda/events{/privacy}","received_events_url":"https://api.github.com/users/AkihiroSuda/received_events","type":"User","site_admin":false},"created_at":"2024-03-29T17:37:16Z","updated_at":"2024-03-29T17:37:16Z","author_association":"CONTRIBUTOR","body":"The malicious (or just hijacked) account seems to have been making commits since xz v5.3.3alpha https://github.com/tukaani-project/xz/commits/master/?author=JiaT75&after=af071ef7702debef4f1d324616a0137a5001c14c+419\r\n\r\nNot sure if v5.4.6 is trustable","reactions":{"url":"https://api.github.com/repos/Homebrew/homebrew-core/issues/comments/2027532737/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2024-03-29T17:37:18Z","org":{"id":1503512,"login":"Homebrew","gravatar_id":"","url":"https://api.github.com/orgs/Homebrew","avatar_url":"https://avatars.githubusercontent.com/u/1503512?"}}
{"id":"37004973488","type":"IssueCommentEvent","actor":{"id":3728194,"login":"mortie","display_login":"mortie","gravatar_id":"","url":"https://api.github.com/users/mortie","avatar_url":"https://avatars.githubusercontent.com/u/3728194?"},"repo":{"id":3219804,"name":"libarchive/libarchive","url":"https://api.github.com/repos/libarchive/libarchive"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/libarchive/libarchive/issues/1609","repository_url":"https://api.github.com/repos/libarchive/libarchive","labels_url":"https://api.github.com/repos/libarchive/libarchive/issues/1609/labels{/name}","comments_url":"https://api.github.com/repos/libarchive/libarchive/issues/1609/comments","events_url":"https://api.github.com/repos/libarchive/libarchive/issues/1609/events","html_url":"https://github.com/libarchive/libarchive/pull/1609","id":1042469982,"node_id":"PR_kwDOADEhXM4t_NwB","number":1609,"title":"Added error text to warning when untaring with bsdtar","user":{"login":"JiaT75","id":78042786,"node_id":"MDQ6VXNlcjc4MDQyNzg2","avatar_url":"https://avatars.githubusercontent.com/u/78042786?v=4","gravatar_id":"","url":"https://api.github.com/users/JiaT75","html_url":"https://github.com/JiaT75","followers_url":"https://api.github.com/users/JiaT75/followers","following_url":"https://api.github.com/users/JiaT75/following{/other_user}","gists_url":"https://api.github.com/users/JiaT75/gists{/gist_id}","starred_url":"https://api.github.com/users/JiaT75/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JiaT75/subscriptions","organizations_url":"https://api.github.com/users/JiaT75/orgs","repos_url":"https://api.github.com/users/JiaT75/repos","events_url":"https://api.github.com/users/JiaT75/events{/privacy}","received_events_url":"https://api.github.com/users/JiaT75/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-11-02T14:55:27Z","updated_at":"2024-03-29T17:51:16Z","closed_at":"2021-11-15T23:45:37Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/libarchive/libarchive/pulls/1609","html_url":"https://github.com/libarchive/libarchive/pull/1609","diff_url":"https://github.com/libarchive/libarchive/pull/1609.diff","patch_url":"https://github.com/libarchive/libarchive/pull/1609.patch","merged_at":"2021-11-15T23:45:37Z"},"body":"Added the error text when printing out warning and errors in bsdtar when untaring. Previously, there were cryptic error messages when, for example in issue #1561, the user tries to untar an archive in a location they do not have write access to. \r\n\r\ncloses #1561","reactions":{"url":"https://api.github.com/repos/libarchive/libarchive/issues/1609/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/libarchive/libarchive/issues/1609/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/libarchive/libarchive/issues/comments/2027545014","html_url":"https://github.com/libarchive/libarchive/pull/1609#issuecomment-2027545014","issue_url":"https://api.github.com/repos/libarchive/libarchive/issues/1609","id":2027545014,"node_id":"IC_kwDOADEhXM542eG2","user":{"login":"mortie","id":3728194,"node_id":"MDQ6VXNlcjM3MjgxOTQ=","avatar_url":"https://avatars.githubusercontent.com/u/3728194?v=4","gravatar_id":"","url":"https://api.github.com/users/mortie","html_url":"https://github.com/mortie","followers_url":"https://api.github.com/users/mortie/followers","following_url":"https://api.github.com/users/mortie/following{/other_user}","gists_url":"https://api.github.com/users/mortie/gists{/gist_id}","starred_url":"https://api.github.com/users/mortie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mortie/subscriptions","organizations_url":"https://api.github.com/users/mortie/orgs","repos_url":"https://api.github.com/users/mortie/repos","events_url":"https://api.github.com/users/mortie/events{/privacy}","received_events_url":"https://api.github.com/users/mortie/received_events","type":"User","site_admin":false},"created_at":"2024-03-29T17:51:15Z","updated_at":"2024-03-29T17:51:15Z","author_association":"NONE","body":"@mmatuska This MR doesn't seem to do what it claims to, the error message that's printed is identical before and after, but calls to safe_fprintf were replaced with calls to the unsafe fprintf. The diff doesn't make this obvious due to the removal of a newline in a parameter list.\r\n\r\nGiven the recent uncovering of @JiaT75's backdoor inserted into XZ, can you double check that switching out safe fprintf with unsafe fprintf isn't introducing a vulnerability here? It appears that the unsafe fprintf calls introduced by this MR are still in the source code, unchanged: https://github.com/libarchive/libarchive/blob/master/tar/read.c#L374-L375","reactions":{"url":"https://api.github.com/repos/libarchive/libarchive/issues/comments/2027545014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2024-03-29T17:51:16Z","org":{"id":1354741,"login":"libarchive","gravatar_id":"","url":"https://api.github.com/orgs/libarchive","avatar_url":"https://avatars.githubusercontent.com/u/1354741?"}}
{"id":"37005028667","type":"CommitCommentEvent","actor":{"id":11587657,"login":"Scrumplex","display_login":"Scrumplex","gravatar_id":"","url":"https://api.github.com/users/Scrumplex","avatar_url":"https://avatars.githubusercontent.com/u/11587657?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"comment":{"url":"https://api.github.com/repos/tukaani-project/xz/comments/140381086","html_url":"https://github.com/tukaani-project/xz/commit/cf44e4b7f5dfdbf8c78aef377c10f71e274f63c0#commitcomment-140381086","id":140381086,"node_id":"CC_kwDOIQBEvs4IXgue","user":{"login":"Scrumplex","id":11587657,"node_id":"MDQ6VXNlcjExNTg3NjU3","avatar_url":"https://avatars.githubusercontent.com/u/11587657?v=4","gravatar_id":"","url":"https://api.github.com/users/Scrumplex","html_url":"https://github.com/Scrumplex","followers_url":"https://api.github.com/users/Scrumplex/followers","following_url":"https://api.github.com/users/Scrumplex/following{/other_user}","gists_url":"https://api.github.com/users/Scrumplex/gists{/gist_id}","starred_url":"https://api.github.com/users/Scrumplex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Scrumplex/subscriptions","organizations_url":"https://api.github.com/users/Scrumplex/orgs","repos_url":"https://api.github.com/users/Scrumplex/repos","events_url":"https://api.github.com/users/Scrumplex/events{/privacy}","received_events_url":"https://api.github.com/users/Scrumplex/received_events","type":"User","site_admin":false},"position":null,"line":null,"path":null,"commit_id":"cf44e4b7f5dfdbf8c78aef377c10f71e274f63c0","created_at":"2024-03-29T17:53:48Z","updated_at":"2024-03-29T17:53:48Z","author_association":"NONE","body":"As @JiaT75 does not sign their commits, we can't really know if the actual owner of this account authored these commits. ","reactions":{"url":"https://api.github.com/repos/tukaani-project/xz/comments/140381086/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0}}},"public":true,"created_at":"2024-03-29T17:53:48Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"37005071110","type":"IssueCommentEvent","actor":{"id":5085436,"login":"cperciva","display_login":"cperciva","gravatar_id":"","url":"https://api.github.com/users/cperciva","avatar_url":"https://avatars.githubusercontent.com/u/5085436?"},"repo":{"id":3219804,"name":"libarchive/libarchive","url":"https://api.github.com/repos/libarchive/libarchive"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/libarchive/libarchive/issues/1609","repository_url":"https://api.github.com/repos/libarchive/libarchive","labels_url":"https://api.github.com/repos/libarchive/libarchive/issues/1609/labels{/name}","comments_url":"https://api.github.com/repos/libarchive/libarchive/issues/1609/comments","events_url":"https://api.github.com/repos/libarchive/libarchive/issues/1609/events","html_url":"https://github.com/libarchive/libarchive/pull/1609","id":1042469982,"node_id":"PR_kwDOADEhXM4t_NwB","number":1609,"title":"Added error text to warning when untaring with bsdtar","user":{"login":"JiaT75","id":78042786,"node_id":"MDQ6VXNlcjc4MDQyNzg2","avatar_url":"https://avatars.githubusercontent.com/u/78042786?v=4","gravatar_id":"","url":"https://api.github.com/users/JiaT75","html_url":"https://github.com/JiaT75","followers_url":"https://api.github.com/users/JiaT75/followers","following_url":"https://api.github.com/users/JiaT75/following{/other_user}","gists_url":"https://api.github.com/users/JiaT75/gists{/gist_id}","starred_url":"https://api.github.com/users/JiaT75/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JiaT75/subscriptions","organizations_url":"https://api.github.com/users/JiaT75/orgs","repos_url":"https://api.github.com/users/JiaT75/repos","events_url":"https://api.github.com/users/JiaT75/events{/privacy}","received_events_url":"https://api.github.com/users/JiaT75/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-11-02T14:55:27Z","updated_at":"2024-03-29T17:55:44Z","closed_at":"2021-11-15T23:45:37Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/libarchive/libarchive/pulls/1609","html_url":"https://github.com/libarchive/libarchive/pull/1609","diff_url":"https://github.com/libarchive/libarchive/pull/1609.diff","patch_url":"https://github.com/libarchive/libarchive/pull/1609.patch","merged_at":"2021-11-15T23:45:37Z"},"body":"Added the error text when printing out warning and errors in bsdtar when untaring. Previously, there were cryptic error messages when, for example in issue #1561, the user tries to untar an archive in a location they do not have write access to. \r\n\r\ncloses #1561","reactions":{"url":"https://api.github.com/repos/libarchive/libarchive/issues/1609/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/libarchive/libarchive/issues/1609/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/libarchive/libarchive/issues/comments/2027549396","html_url":"https://github.com/libarchive/libarchive/pull/1609#issuecomment-2027549396","issue_url":"https://api.github.com/repos/libarchive/libarchive/issues/1609","id":2027549396,"node_id":"IC_kwDOADEhXM542fLU","user":{"login":"cperciva","id":5085436,"node_id":"MDQ6VXNlcjUwODU0MzY=","avatar_url":"https://avatars.githubusercontent.com/u/5085436?v=4","gravatar_id":"","url":"https://api.github.com/users/cperciva","html_url":"https://github.com/cperciva","followers_url":"https://api.github.com/users/cperciva/followers","following_url":"https://api.github.com/users/cperciva/following{/other_user}","gists_url":"https://api.github.com/users/cperciva/gists{/gist_id}","starred_url":"https://api.github.com/users/cperciva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cperciva/subscriptions","organizations_url":"https://api.github.com/users/cperciva/orgs","repos_url":"https://api.github.com/users/cperciva/repos","events_url":"https://api.github.com/users/cperciva/events{/privacy}","received_events_url":"https://api.github.com/users/cperciva/received_events","type":"User","site_admin":false},"created_at":"2024-03-29T17:55:43Z","updated_at":"2024-03-29T17:55:43Z","author_association":"CONTRIBUTOR","body":"@mortie Looks to me like `fprintf(stderr, \"%s\", strerror(errno));` is new?  I'm not sure if the safe_fprintf matters since the strings here (error strings from libarchive and libc) should be 7-bit-safe, but I wouldn't mind switching that back.","reactions":{"url":"https://api.github.com/repos/libarchive/libarchive/issues/comments/2027549396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2024-03-29T17:55:44Z","org":{"id":1354741,"login":"libarchive","gravatar_id":"","url":"https://api.github.com/orgs/libarchive","avatar_url":"https://avatars.githubusercontent.com/u/1354741?"}}
{"id":"37005099899","type":"IssueCommentEvent","actor":{"id":2133449,"login":"wgaylord","display_login":"wgaylord","gravatar_id":"","url":"https://api.github.com/users/wgaylord","avatar_url":"https://avatars.githubusercontent.com/u/2133449?"},"repo":{"id":3219804,"name":"libarchive/libarchive","url":"https://api.github.com/repos/libarchive/libarchive"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/libarchive/libarchive/issues/1609","repository_url":"https://api.github.com/repos/libarchive/libarchive","labels_url":"https://api.github.com/repos/libarchive/libarchive/issues/1609/labels{/name}","comments_url":"https://api.github.com/repos/libarchive/libarchive/issues/1609/comments","events_url":"https://api.github.com/repos/libarchive/libarchive/issues/1609/events","html_url":"https://github.com/libarchive/libarchive/pull/1609","id":1042469982,"node_id":"PR_kwDOADEhXM4t_NwB","number":1609,"title":"Added error text to warning when untaring with bsdtar","user":{"login":"JiaT75","id":78042786,"node_id":"MDQ6VXNlcjc4MDQyNzg2","avatar_url":"https://avatars.githubusercontent.com/u/78042786?v=4","gravatar_id":"","url":"https://api.github.com/users/JiaT75","html_url":"https://github.com/JiaT75","followers_url":"https://api.github.com/users/JiaT75/followers","following_url":"https://api.github.com/users/JiaT75/following{/other_user}","gists_url":"https://api.github.com/users/JiaT75/gists{/gist_id}","starred_url":"https://api.github.com/users/JiaT75/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JiaT75/subscriptions","organizations_url":"https://api.github.com/users/JiaT75/orgs","repos_url":"https://api.github.com/users/JiaT75/repos","events_url":"https://api.github.com/users/JiaT75/events{/privacy}","received_events_url":"https://api.github.com/users/JiaT75/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-11-02T14:55:27Z","updated_at":"2024-03-29T17:57:09Z","closed_at":"2021-11-15T23:45:37Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/libarchive/libarchive/pulls/1609","html_url":"https://github.com/libarchive/libarchive/pull/1609","diff_url":"https://github.com/libarchive/libarchive/pull/1609.diff","patch_url":"https://github.com/libarchive/libarchive/pull/1609.patch","merged_at":"2021-11-15T23:45:37Z"},"body":"Added the error text when printing out warning and errors in bsdtar when untaring. Previously, there were cryptic error messages when, for example in issue #1561, the user tries to untar an archive in a location they do not have write access to. \r\n\r\ncloses #1561","reactions":{"url":"https://api.github.com/repos/libarchive/libarchive/issues/1609/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/libarchive/libarchive/issues/1609/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/libarchive/libarchive/issues/comments/2027550818","html_url":"https://github.com/libarchive/libarchive/pull/1609#issuecomment-2027550818","issue_url":"https://api.github.com/repos/libarchive/libarchive/issues/1609","id":2027550818,"node_id":"IC_kwDOADEhXM542fhi","user":{"login":"wgaylord","id":2133449,"node_id":"MDQ6VXNlcjIxMzM0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/2133449?v=4","gravatar_id":"","url":"https://api.github.com/users/wgaylord","html_url":"https://github.com/wgaylord","followers_url":"https://api.github.com/users/wgaylord/followers","following_url":"https://api.github.com/users/wgaylord/following{/other_user}","gists_url":"https://api.github.com/users/wgaylord/gists{/gist_id}","starred_url":"https://api.github.com/users/wgaylord/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wgaylord/subscriptions","organizations_url":"https://api.github.com/users/wgaylord/orgs","repos_url":"https://api.github.com/users/wgaylord/repos","events_url":"https://api.github.com/users/wgaylord/events{/privacy}","received_events_url":"https://api.github.com/users/wgaylord/received_events","type":"User","site_admin":false},"created_at":"2024-03-29T17:57:08Z","updated_at":"2024-03-29T17:57:08Z","author_association":"NONE","body":"> @mmatuska This MR seems suspicious, the error message that's printed is almost identical before and after, but calls to safe_fprintf were replaced with calls to the unsafe fprintf. The diff doesn't make this obvious due to the removal of a newline in a parameter list.\r\n> \r\n> Given the recent uncovering of @JiaT75's backdoor inserted into XZ, can you double check that switching out safe fprintf with unsafe fprintf isn't introducing a vulnerability here? It appears that the unsafe fprintf calls introduced by this MR are still in the source code, unchanged: https://github.com/libarchive/libarchive/blob/master/tar/read.c#L374-L375\r\n\r\nThey did also add more error printing using` fprintf(stderr, \"%s\", strerror(errno));` Which was not in the original. I do agree, strange to change from safe fprint to normal fprint tho. ","reactions":{"url":"https://api.github.com/repos/libarchive/libarchive/issues/comments/2027550818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2024-03-29T17:57:09Z","org":{"id":1354741,"login":"libarchive","gravatar_id":"","url":"https://api.github.com/orgs/libarchive","avatar_url":"https://avatars.githubusercontent.com/u/1354741?"}}
{"id":"37005150888","type":"IssueCommentEvent","actor":{"id":3728194,"login":"mortie","display_login":"mortie","gravatar_id":"","url":"https://api.github.com/users/mortie","avatar_url":"https://avatars.githubusercontent.com/u/3728194?"},"repo":{"id":3219804,"name":"libarchive/libarchive","url":"https://api.github.com/repos/libarchive/libarchive"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/libarchive/libarchive/issues/1609","repository_url":"https://api.github.com/repos/libarchive/libarchive","labels_url":"https://api.github.com/repos/libarchive/libarchive/issues/1609/labels{/name}","comments_url":"https://api.github.com/repos/libarchive/libarchive/issues/1609/comments","events_url":"https://api.github.com/repos/libarchive/libarchive/issues/1609/events","html_url":"https://github.com/libarchive/libarchive/pull/1609","id":1042469982,"node_id":"PR_kwDOADEhXM4t_NwB","number":1609,"title":"Added error text to warning when untaring with bsdtar","user":{"login":"JiaT75","id":78042786,"node_id":"MDQ6VXNlcjc4MDQyNzg2","avatar_url":"https://avatars.githubusercontent.com/u/78042786?v=4","gravatar_id":"","url":"https://api.github.com/users/JiaT75","html_url":"https://github.com/JiaT75","followers_url":"https://api.github.com/users/JiaT75/followers","following_url":"https://api.github.com/users/JiaT75/following{/other_user}","gists_url":"https://api.github.com/users/JiaT75/gists{/gist_id}","starred_url":"https://api.github.com/users/JiaT75/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JiaT75/subscriptions","organizations_url":"https://api.github.com/users/JiaT75/orgs","repos_url":"https://api.github.com/users/JiaT75/repos","events_url":"https://api.github.com/users/JiaT75/events{/privacy}","received_events_url":"https://api.github.com/users/JiaT75/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2021-11-02T14:55:27Z","updated_at":"2024-03-29T17:59:56Z","closed_at":"2021-11-15T23:45:37Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/libarchive/libarchive/pulls/1609","html_url":"https://github.com/libarchive/libarchive/pull/1609","diff_url":"https://github.com/libarchive/libarchive/pull/1609.diff","patch_url":"https://github.com/libarchive/libarchive/pull/1609.patch","merged_at":"2021-11-15T23:45:37Z"},"body":"Added the error text when printing out warning and errors in bsdtar when untaring. Previously, there were cryptic error messages when, for example in issue #1561, the user tries to untar an archive in a location they do not have write access to. \r\n\r\ncloses #1561","reactions":{"url":"https://api.github.com/repos/libarchive/libarchive/issues/1609/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/libarchive/libarchive/issues/1609/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/libarchive/libarchive/issues/comments/2027553475","html_url":"https://github.com/libarchive/libarchive/pull/1609#issuecomment-2027553475","issue_url":"https://api.github.com/repos/libarchive/libarchive/issues/1609","id":2027553475,"node_id":"IC_kwDOADEhXM542gLD","user":{"login":"mortie","id":3728194,"node_id":"MDQ6VXNlcjM3MjgxOTQ=","avatar_url":"https://avatars.githubusercontent.com/u/3728194?v=4","gravatar_id":"","url":"https://api.github.com/users/mortie","html_url":"https://github.com/mortie","followers_url":"https://api.github.com/users/mortie/followers","following_url":"https://api.github.com/users/mortie/following{/other_user}","gists_url":"https://api.github.com/users/mortie/gists{/gist_id}","starred_url":"https://api.github.com/users/mortie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mortie/subscriptions","organizations_url":"https://api.github.com/users/mortie/orgs","repos_url":"https://api.github.com/users/mortie/repos","events_url":"https://api.github.com/users/mortie/events{/privacy}","received_events_url":"https://api.github.com/users/mortie/received_events","type":"User","site_admin":false},"created_at":"2024-03-29T17:59:55Z","updated_at":"2024-03-29T17:59:55Z","author_association":"NONE","body":"You're right, I noticed that too upon closer inspection of the diff. And yeah, after reading up on both what `archive_error_string` returns and what's \"safe\" about `safe_fprintf`, replacing safe_fprintf with fprintf in this circumstance shouldn't change anything... it's just weird.\r\n\r\nSorry for the ping.","reactions":{"url":"https://api.github.com/repos/libarchive/libarchive/issues/comments/2027553475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2024-03-29T17:59:56Z","org":{"id":1354741,"login":"libarchive","gravatar_id":"","url":"https://api.github.com/orgs/libarchive","avatar_url":"https://avatars.githubusercontent.com/u/1354741?"}}
