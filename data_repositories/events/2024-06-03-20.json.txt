{"id":"38960167688","type":"PushEvent","actor":{"id":120408189,"login":"Larhzu","display_login":"Larhzu","gravatar_id":"","url":"https://api.github.com/users/Larhzu","avatar_url":"https://avatars.githubusercontent.com/u/120408189?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"repository_id":553665726,"push_id":18712597914,"size":4,"distinct_size":3,"ref":"refs/heads/solaris_debug","head":"e7a42cda7c827e016619e8cab15e2faf5d4181ae","before":"bd384e43299b4ddeed3e9504f36dd63b7f13e3b3","commits":[{"sha":"afa938e429c1ce07d26d02999352fb014b62ff3d","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"CMake: Install liblzma.pc even with MSVC\n\nI had misunderstood that it wouldn't be useful with MSVC.\nvcpkg had been installing liblzma.pc with custom rules since 2020,\nyears before liblzma.pc support was added to CMakeLists.txt.\n\nSee:\nhttps://github.com/microsoft/vcpkg/blob/eb895b95aac6fd7485373702f29f508c42a180a0/ports/liblzma/portfile.cmake\nhttps://github.com/microsoft/vcpkg/pull/39024#issuecomment-2145064670","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/afa938e429c1ce07d26d02999352fb014b62ff3d"},{"sha":"5229bdf5335ce18ed54beb7e646e39927663be86","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"CI: Use set -e on Solaris too","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/5229bdf5335ce18ed54beb7e646e39927663be86"},{"sha":"a61c9ab4751f2710dcd5459c7d74bbf20781f0f9","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"CI: Don't require po4a on Solaris","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/a61c9ab4751f2710dcd5459c7d74bbf20781f0f9"},{"sha":"e7a42cda7c827e016619e8cab15e2faf5d4181ae","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"Fix version.sh compatiblity with Solaris\n\nThe ancient /bin/tr on Solaris doesn't support '\\n'.\nWith /usr/xpg4/bin/tr it works but it might not be in PATH.\n\nAnother problem was that sed was given input that didn't have a newline\nat the end. Text files must end with a newline to be portable.\n\nFix both problems:\n\n  - Handle multiline input within sed itself to avoid one tr invocation.\n    The default sed even on Solaris does understand \\n.\n\n  - Use octals in tr -d. \\012 works for ASCII \"line feed\", it's even\n    used as an example in the Solaris man page. But we must strip\n    also ASCII \"carriage return\" \\015 and EBCDIC \"next line\" \\025.\n    The EBCDIC case got handled with \\n previously. Stripping \\012\n    and \\015 on EBCDIC system won't matter as those control chars\n    won't be present in the string in the first place.\n\nAn awk-based solution could be an alternative but it might need\nspecial casing on Solaris to used nawk instead of awk. The changes\nin this commit are smaller and should have a smaller risk for\nregressions. It's also possible that version.sh will be dropped\nentirely at some point.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/e7a42cda7c827e016619e8cab15e2faf5d4181ae"}]},"public":true,"created_at":"2024-06-03T20:41:07Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
