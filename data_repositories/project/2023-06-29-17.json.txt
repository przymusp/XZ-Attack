{"id":"30098311090","type":"IssueCommentEvent","actor":{"id":53348558,"login":"cblc","display_login":"cblc","gravatar_id":"","url":"https://api.github.com/users/cblc","avatar_url":"https://avatars.githubusercontent.com/u/53348558?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/tukaani-project/xz/issues/54","repository_url":"https://api.github.com/repos/tukaani-project/xz","labels_url":"https://api.github.com/repos/tukaani-project/xz/issues/54/labels{/name}","comments_url":"https://api.github.com/repos/tukaani-project/xz/issues/54/comments","events_url":"https://api.github.com/repos/tukaani-project/xz/issues/54/events","html_url":"https://github.com/tukaani-project/xz/issues/54","id":1781192748,"node_id":"I_kwDOIQBEvs5qKtgs","number":54,"title":"[Feature Request]: Copying/installing the built 'make check' suite to a directory","user":{"login":"cblc","id":53348558,"node_id":"MDQ6VXNlcjUzMzQ4NTU4","avatar_url":"https://avatars.githubusercontent.com/u/53348558?v=4","gravatar_id":"","url":"https://api.github.com/users/cblc","html_url":"https://github.com/cblc","followers_url":"https://api.github.com/users/cblc/followers","following_url":"https://api.github.com/users/cblc/following{/other_user}","gists_url":"https://api.github.com/users/cblc/gists{/gist_id}","starred_url":"https://api.github.com/users/cblc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cblc/subscriptions","organizations_url":"https://api.github.com/users/cblc/orgs","repos_url":"https://api.github.com/users/cblc/repos","events_url":"https://api.github.com/users/cblc/events{/privacy}","received_events_url":"https://api.github.com/users/cblc/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2023-06-29T16:50:27Z","updated_at":"2023-06-29T17:00:19Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"### Describe the Feature\n\nWhen cross-compiling to Windows (for example from either Linux or MacOS to Windows, using mingw-w64), I'd like to be able to run the `make check` suite in a Windows guest in a VM. For this to be possible, I'd need that the tests executables and scripts be copied (or installed) to a given directory, which I could have set up as a shared folder with a virtual machine.\r\n\r\nThe current behaviour when you cross-compile and issue a `make check`, is that all test programs are built, but then they are executed (which obviously fails, as you are cross compiling).\r\n\r\nIf your build system was plain Makefiles, I'd happily volunteer to implement this feature, but I have no Autotools knowledge, so I'm afraid I cannot help writing it.\r\n\r\nPerhaps a good way of implementing this would be to add a switch to configure, so that when that switch is present, all the test programs are built but not executed, and are also installed when you do a `make install`. The only problem I see is that I'm not sure if the main script that runs all tests could be saved as a normal script file or if you are running all the tests directly from the Makefile generated by `configure`.\n\n### Expected Complications\n\n_No response_\n\n### Will I try to implement this new feature?\n\nNo","reactions":{"url":"https://api.github.com/repos/tukaani-project/xz/issues/54/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tukaani-project/xz/issues/54/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/tukaani-project/xz/issues/comments/1613536264","html_url":"https://github.com/tukaani-project/xz/issues/54#issuecomment-1613536264","issue_url":"https://api.github.com/repos/tukaani-project/xz/issues/54","id":1613536264,"node_id":"IC_kwDOIQBEvs5gLJwI","user":{"login":"cblc","id":53348558,"node_id":"MDQ6VXNlcjUzMzQ4NTU4","avatar_url":"https://avatars.githubusercontent.com/u/53348558?v=4","gravatar_id":"","url":"https://api.github.com/users/cblc","html_url":"https://github.com/cblc","followers_url":"https://api.github.com/users/cblc/followers","following_url":"https://api.github.com/users/cblc/following{/other_user}","gists_url":"https://api.github.com/users/cblc/gists{/gist_id}","starred_url":"https://api.github.com/users/cblc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cblc/subscriptions","organizations_url":"https://api.github.com/users/cblc/orgs","repos_url":"https://api.github.com/users/cblc/repos","events_url":"https://api.github.com/users/cblc/events{/privacy}","received_events_url":"https://api.github.com/users/cblc/received_events","type":"User","site_admin":false},"created_at":"2023-06-29T17:00:18Z","updated_at":"2023-06-29T17:00:18Z","author_association":"NONE","body":"Great, thank you very much!\r\n\r\nDoes the test suite consist in invoking the following executables, or do I need to invoke them in some special way, or are there perhaps other scripts to run? (these executables are what I get when building to 32bit Windows with mingw-w64)\r\n\r\n```\r\ntests/create_compress_files.exe\ttests/test_check.exe\t\ttests/test_hardware.exe\t\ttests/test_lzip_decoder.exe\ttests/test_vli.exe\r\ntests/test_bcj_exact_size.exe\ttests/test_filter_flags.exe\ttests/test_index.exe\t\ttests/test_memlimit.exe\r\ntests/test_block_header.exe\ttests/test_filter_str.exe\ttests/test_index_hash.exe\ttests/test_stream_flags.exe\r\n```","reactions":{"url":"https://api.github.com/repos/tukaani-project/xz/issues/comments/1613536264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-06-29T17:00:19Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
