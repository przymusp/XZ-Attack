{"id":"28581378721","type":"PushEvent","actor":{"id":78042786,"login":"JiaT75","display_login":"JiaT75","gravatar_id":"","url":"https://api.github.com/users/JiaT75","avatar_url":"https://avatars.githubusercontent.com/u/78042786?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"repository_id":553665726,"push_id":13383851726,"size":3,"distinct_size":3,"ref":"refs/heads/filter_to_str_cli","head":"5c92ec31e8cd8ff7016352105cb5596cfc426c6a","before":"ad0c704b9dcd03a682f9251d04bd5f9385acc698","commits":[{"sha":"10d06000653f7c76f2fadf9a3bff50bb73f75e1f","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Allows --block-list filters to scale down memory usage.\n\nPreviously, only the default filter chain could have its memory usage\nadjusted. The filter chains specified with --filtersX were not checked\nfor memory usage. Now, all used filter chains can be adjusted and will\nbe reported in verbose mode if adjusted..","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/10d06000653f7c76f2fadf9a3bff50bb73f75e1f"},{"sha":"64e92f4cf9816bd2b5e08d4faa0e5af4a64a0e3f","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Updates --long-help for the new --filtersX option.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/64e92f4cf9816bd2b5e08d4faa0e5af4a64a0e3f"},{"sha":"5c92ec31e8cd8ff7016352105cb5596cfc426c6a","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Updates the man page for --block-list and --filters1...9.\n\nThe --block-list option description needed updating since the new\n--filters1...9 option changes how it can be used. The new entry for\n--filters1...9 was created right after the --filters option.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/5c92ec31e8cd8ff7016352105cb5596cfc426c6a"}]},"public":true,"created_at":"2023-04-21T16:01:54Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"28581529230","type":"PushEvent","actor":{"id":78042786,"login":"JiaT75","display_login":"JiaT75","gravatar_id":"","url":"https://api.github.com/users/JiaT75","avatar_url":"https://avatars.githubusercontent.com/u/78042786?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"repository_id":553665726,"push_id":13383926189,"size":7,"distinct_size":7,"ref":"refs/heads/filter_to_str_cli","head":"6fb7dfd669dd7098ab56059c3e7de4334d6d9971","before":"5c92ec31e8cd8ff7016352105cb5596cfc426c6a","commits":[{"sha":"44147711b993c7e9fb760754faf9d76bebda9d11","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Creates command line options for filters[1-9].\n\nThe new command line options are meant to be combined with --block-list.\nThey work as an optional extension to --block-list to specify a custom\nfilter chain for each block listed. The new options allow the creation\nof up to 9 reusable filter chains. For instance:\n\nxz --block-list=1:10MiB,3:5MiB,,2:5MiB,1:0 --filters1=delta--lzma2 \\\n--filters2=x86--lzma2 --filters3=arm64--lzma2\n\nWill create the following blocks:\n1. A block of size 10 MiB with filter chain delta, lzma2.\n2. A block of size 5 MiB with filter chain arm64, lzma2.\n3. A block of size 5 MiB with filter chain arm64, lzma2.\n4. A block of size 5 MiB with filter chain x86, lzma2.\n5. A block containing the rest of the file contents with filter chain\n   delta, lzma2.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/44147711b993c7e9fb760754faf9d76bebda9d11"},{"sha":"2d5565c3cba422ec76998c13ef88d3da34628bca","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Intializes --block-list filter array.\n\nThis prevents potential corruption errors caused by a command like:\n\nxz --block-list=10MiB,2:5MiB,1:5MiB --filters1=delta--lzma2\n\nSince --filters2 was not specified, it could use a filter chain that was\nnot properly initialzied.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/2d5565c3cba422ec76998c13ef88d3da34628bca"},{"sha":"1e397a894aad032c3fe9454fc7af7a838a3e69a4","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Improves error message for --block-list.\n\nIf the block-list specifies a filter chain, but that filter chain is not\nset, then the error message was vague. This creates a more specific\nerror message to help the user fix their command.\n\nThe possible filter chains for --block-list are initialized as empty\nfilter chains with only the first ID set to LZMA_VLI_UNKNOWN. These\nfilter chains are unusable and are easily detected.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/1e397a894aad032c3fe9454fc7af7a838a3e69a4"},{"sha":"5daa1f33ef901142be56ce91c0f08839c7f1ad8b","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Adds a message if --block-list is used outside of xz compresssion.\n\n--block-list is only supported with compression in xz format. This avoids\nsilently ignoring when --block-list is unused.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/5daa1f33ef901142be56ce91c0f08839c7f1ad8b"},{"sha":"0ee1c84e35e28e52cf74cb1329676308b2ae2125","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Allows --block-list filters to scale down memory usage.\n\nPreviously, only the default filter chain could have its memory usage\nadjusted. The filter chains specified with --filtersX were not checked\nfor memory usage. Now, all used filter chains can be adjusted and will\nbe reported in verbose mode if adjusted..","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/0ee1c84e35e28e52cf74cb1329676308b2ae2125"},{"sha":"7b862e60a03650a0a623d2ba1031a7e3f367d6db","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Updates --long-help for the new --filtersX option.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/7b862e60a03650a0a623d2ba1031a7e3f367d6db"},{"sha":"6fb7dfd669dd7098ab56059c3e7de4334d6d9971","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Updates the man page for --block-list and --filters1...9.\n\nThe --block-list option description needed updating since the new\n--filters1...9 option changes how it can be used. The new entry for\n--filters1...9 was created right after the --filters option.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/6fb7dfd669dd7098ab56059c3e7de4334d6d9971"}]},"public":true,"created_at":"2023-04-21T16:08:39Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"28581676695","type":"PushEvent","actor":{"id":78042786,"login":"JiaT75","display_login":"JiaT75","gravatar_id":"","url":"https://api.github.com/users/JiaT75","avatar_url":"https://avatars.githubusercontent.com/u/78042786?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"repository_id":553665726,"push_id":13383999205,"size":7,"distinct_size":7,"ref":"refs/heads/filter_to_str_cli","head":"be936980f70e66e4a26357cab5ae0978e81b0f6f","before":"6fb7dfd669dd7098ab56059c3e7de4334d6d9971","commits":[{"sha":"e8361e114ea7477c4a09e72d91a84f79772208d7","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Creates command line options for filters[1-9].\n\nThe new command line options are meant to be combined with --block-list.\nThey work as an optional extension to --block-list to specify a custom\nfilter chain for each block listed. The new options allow the creation\nof up to 9 reusable filter chains. For instance:\n\nxz --block-list=1:10MiB,3:5MiB,,2:5MiB,1:0 --filters1=delta--lzma2 \\\n--filters2=x86--lzma2 --filters3=arm64--lzma2\n\nWill create the following blocks:\n1. A block of size 10 MiB with filter chain delta, lzma2.\n2. A block of size 5 MiB with filter chain arm64, lzma2.\n3. A block of size 5 MiB with filter chain arm64, lzma2.\n4. A block of size 5 MiB with filter chain x86, lzma2.\n5. A block containing the rest of the file contents with filter chain\n   delta, lzma2.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/e8361e114ea7477c4a09e72d91a84f79772208d7"},{"sha":"eeb69436158a47b0409d483ea28b408792a109e1","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Intializes --block-list filter array.\n\nThis prevents potential corruption errors caused by a command like:\n\nxz --block-list=10MiB,2:5MiB,1:5MiB --filters1=delta--lzma2\n\nSince --filters2 was not specified, it could use a filter chain that was\nnot properly initialzied.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/eeb69436158a47b0409d483ea28b408792a109e1"},{"sha":"4d0180da231c6743d5ca14b14fd1515a94689ff2","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Improves error message for --block-list.\n\nIf the block-list specifies a filter chain, but that filter chain is not\nset, then the error message was vague. This creates a more specific\nerror message to help the user fix their command.\n\nThe possible filter chains for --block-list are initialized as empty\nfilter chains with only the first ID set to LZMA_VLI_UNKNOWN. These\nfilter chains are unusable and are easily detected.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/4d0180da231c6743d5ca14b14fd1515a94689ff2"},{"sha":"f2cd405724ac5070cfa56039abcc87f398320ff5","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Adds a message if --block-list is used outside of xz compresssion.\n\n--block-list is only supported with compression in xz format. This avoids\nsilently ignoring when --block-list is unused.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/f2cd405724ac5070cfa56039abcc87f398320ff5"},{"sha":"73655e77c27a69115eb2a5ee7c4df9b694532a06","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Allows --block-list filters to scale down memory usage.\n\nPreviously, only the default filter chain could have its memory usage\nadjusted. The filter chains specified with --filtersX were not checked\nfor memory usage. Now, all used filter chains can be adjusted and will\nbe reported in verbose mode if adjusted..","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/73655e77c27a69115eb2a5ee7c4df9b694532a06"},{"sha":"3e69ed567235370ea6942b5de7a679100273dc50","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Updates --long-help for the new --filtersX option.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/3e69ed567235370ea6942b5de7a679100273dc50"},{"sha":"be936980f70e66e4a26357cab5ae0978e81b0f6f","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"xz: Updates the man page for --block-list and --filters1...9.\n\nThe --block-list option description needed updating since the new\n--filters1...9 option changes how it can be used. The new entry for\n--filters1...9 was created right after the --filters option.","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/be936980f70e66e4a26357cab5ae0978e81b0f6f"}]},"public":true,"created_at":"2023-04-21T16:16:00Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"28581882502","type":"DeleteEvent","actor":{"id":78042786,"login":"JiaT75","display_login":"JiaT75","gravatar_id":"","url":"https://api.github.com/users/JiaT75","avatar_url":"https://avatars.githubusercontent.com/u/78042786?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"ref":"filter_to_str2","ref_type":"branch","pusher_type":"user"},"public":true,"created_at":"2023-04-21T16:26:56Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"28581960030","type":"PushEvent","actor":{"id":78042786,"login":"JiaT75","display_login":"JiaT75","gravatar_id":"","url":"https://api.github.com/users/JiaT75","avatar_url":"https://avatars.githubusercontent.com/u/78042786?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"repository_id":553665726,"push_id":13384137902,"size":88,"distinct_size":7,"ref":"refs/heads/xz_recursive_cli","head":"57d5db7e4a32c4f84fcffd140de0bc79f3b26e2d","before":"e204adee4ffb72d4be95e2438acbeec3586d8ac1","commits":[{"sha":"13d99e75a543e9e5f8633cc241eae55b91a3b242","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"liblzma: Improve documentation in lzma12.h.\n\nAll functions now explicitly specify parameter and return values.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/13d99e75a543e9e5f8633cc241eae55b91a3b242"},{"sha":"87c53553fa7d50f777b4edfa99f2083628f590fe","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":" liblzma: Improve documentation for stream_flags.h\n\nStandardizing each function to always specify parameters and return\nvalues. Also moved the parameters and return values to the end of each\nfunction description.\n\nA few small things were reworded and long sentences broken up.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/87c53553fa7d50f777b4edfa99f2083628f590fe"},{"sha":"718b22a6c5e3ee5de123323ea798872381f9320e","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"liblzma: Silence a warning from MSVC.\n\nIt gives C4146 here since unary minus with unsigned integer\nis still unsigned (which is the intention here). Doing it\nwith substraction makes it clearer and avoids the warning.\n\nThanks to Nathan Moinvaziri for reporting this.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/718b22a6c5e3ee5de123323ea798872381f9320e"},{"sha":"efa498c13b883810497e0ea8a169efd6f48f5026","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"liblzma: Rename field => member in documentation.\n\nAlso adjusted preset value => preset level.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/efa498c13b883810497e0ea8a169efd6f48f5026"},{"sha":"a5de68bac2bb7e1b9119e6cea7d761a22ea73e9c","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"liblzma: Adjust documentation in bcj.h for consistent style.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/a5de68bac2bb7e1b9119e6cea7d761a22ea73e9c"},{"sha":"f029daea39c215fd7d5cb6b6798818b055cf5b22","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"liblzma: Adjust spacing in doc headers in bcj.h.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/f029daea39c215fd7d5cb6b6798818b055cf5b22"},{"sha":"d831072cceca458d94d2d5da201862f6d43a417b","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"liblzma: Very minor API doc tweaks.\n\nUse \"member\" to refer to struct members as that's the term used\nby the C standard.\n\nUse lzma_options_delta.dist and such in docs so that in Doxygen's\nHTML output they will link to the doc of the struct member.\n\nClean up a few trailing white spaces too.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/d831072cceca458d94d2d5da201862f6d43a417b"},{"sha":"2ee86d20e49985b903b78ebcfa3fa672e73e93aa","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"Build: Use only the generic symbol versioning on MicroBlaze.\n\nOn MicroBlaze, GCC 12 is broken in sense that\n__has_attribute(__symver__) returns true but it still doesn't\nsupport the __symver__ attribute even though the platform is ELF\nand symbol versioning is supported if using the traditional\n__asm__(\".symver ...\") method. Avoiding the traditional method is\ngood because it breaks LTO (-flto) builds with GCC.\n\nSee also: https://gcc.gnu.org/bugzilla/show_bug.cgi?id=101766\n\nFor now the only extra symbols in liblzma_linux.map are the\ncompatibility symbols with the patch that spread from RHEL/CentOS 7.\nThese require the use of __symver__ attribute or __asm__(\".symver ...\")\nin the C code. Compatibility with the patch from CentOS 7 doesn't\nseem valuable on MicroBlaze so use liblzma_generic.map on MicroBlaze\ninstead. It doesn't require anything special in the C code and thus\nno LTO issues either.\n\nAn alternative would be to detect support for __symver__\nattribute in configure.ac and CMakeLists.txt and fall back\nto __asm__(\".symver ...\") but then LTO would be silently broken\non MicroBlaze. It sounds likely that MicroBlaze is a special\ncase so let's treat it as a such because that is simpler. If\na similar issue exists on some other platform too then hopefully\nsomeone will report it and this can be reconsidered.\n\n(This doesn't do the same fix in CMakeLists.txt. Perhaps it should\nbut perhaps CMake build of liblzma doesn't matter much on MicroBlaze.\nThe problem breaks the build so it's easy to notice and can be fixed\nlater.)\n\nThanks to Vincent Fazio for reporting the problem and proposing\na patch (in the end that solution wasn't used):\nhttps://github.com/tukaani-project/xz/pull/32","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/2ee86d20e49985b903b78ebcfa3fa672e73e93aa"},{"sha":"b9f171dd00a3cc32b6d41ea8e082cf545640ec2a","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"Update THANKS.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/b9f171dd00a3cc32b6d41ea8e082cf545640ec2a"},{"sha":"c9c8bfae3502842dcead85eeb2b951b437c2cd88","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"CMake: Add LZIP decoder test to list of tests.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/c9c8bfae3502842dcead85eeb2b951b437c2cd88"},{"sha":"14cd30806d69e55906073745bcce3ee50e0ec942","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"liblzma: Improve documentation for container.h\n\nStandardizing each function to always specify parameters and return\nvalues. Also moved the parameters and return values to the end of each\nfunction description.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/14cd30806d69e55906073745bcce3ee50e0ec942"},{"sha":"dbd47622eb99fefb3538a22baec3def002aa56f5","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"liblzma: Fix typo in documentation in container.h\n\nlzma_microlzma_decoder -> lzma_microlzma_encoder","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/dbd47622eb99fefb3538a22baec3def002aa56f5"},{"sha":"5b1c171d4ffe89ef18fa31509bb0185d6fd11d39","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"liblzma: Convert list of flags in lzma_mt to bulleted list.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/5b1c171d4ffe89ef18fa31509bb0185d6fd11d39"},{"sha":"00a721b63d82dfb658dca8d8cb599d8a245c663f","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"liblzma: Fix small typos and reword a few things in filter.h.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/00a721b63d82dfb658dca8d8cb599d8a245c663f"},{"sha":"fa9065fac54194fe0407fc7f0cc9633fdce13c21","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"liblzma: Adjust container.h for consistency with filter.h.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/fa9065fac54194fe0407fc7f0cc9633fdce13c21"},{"sha":"30e95bb44c36ae26b2ab12a94343b215fec285e7","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"liblzma: Avoid null pointer + 0 (undefined behavior in C).\n\nIn the C99 and C17 standards, section 6.5.6 paragraph 8 means that\nadding 0 to a null pointer is undefined behavior. As of writing,\n\"clang -fsanitize=undefined\" (Clang 15) diagnoses this. However,\nI'm not aware of any compiler that would take advantage of this\nwhen optimizing (Clang 15 included). It's good to avoid this anyway\nsince compilers might some day infer that pointer arithmetic implies\nthat the pointer is not NULL. That is, the following foo() would then\nunconditionally return 0, even for foo(NULL, 0):\n\n    void bar(char *a, char *b);\n\n    int foo(char *a, size_t n)\n    {\n        bar(a, a + n);\n        return a == NULL;\n    }\n\nIn contrast to C, C++ explicitly allows null pointer + 0. So if\nthe above is compiled as C++ then there is no undefined behavior\nin the foo(NULL, 0) call.\n\nTo me it seems that changing the C standard would be the sane\nthing to do (just add one sentence) as it would ensure that a huge\namount of old code won't break in the future. Based on web searches\nit seems that a large number of codebases (where null pointer + 0\noccurs) are being fixed instead to be future-proof in case compilers\nwill some day optimize based on it (like making the above foo(NULL, 0)\nreturn 0) which in the worst case will cause security bugs.\n\nSome projects don't plan to change it. For example, gnulib and thus\nmany GNU tools currently require that null pointer + 0 is defined:\n\n    https://lists.gnu.org/archive/html/bug-gnulib/2021-11/msg00000.html\n\n    https://www.gnu.org/software/gnulib/manual/html_node/Other-portability-assumptions.html\n\nIn XZ Utils null pointer + 0 issue should be fixed after this\ncommit. This adds a few if-statements and thus branches to avoid\nnull pointer + 0. These check for size > 0 instead of ptr != NULL\nbecause this way bugs where size > 0 && ptr == NULL will likely\nget caught quickly. None of them are in hot spots so it shouldn't\nmatter for performance.\n\nA little less readable version would be replacing\n\n    ptr + offset\n\nwith\n\n    offset != 0 ? ptr + offset : ptr\n\nor creating a macro for it:\n\n    #define my_ptr_add(ptr, offset) \\\n            ((offset) != 0 ? ((ptr) + (offset)) : (ptr))\n\nChecking for offset != 0 instead of ptr != NULL allows GCC >= 8.1,\nClang >= 7, and Clang-based ICX to optimize it to the very same code\nas ptr + offset. That is, it won't create a branch. So for hot code\nthis could be a good solution to avoid null pointer + 0. Unfortunately\nother compilers like ICC 2021 or MSVC 19.33 (VS2022) will create a\nbranch from my_ptr_add().\n\nThanks to Marcin Kowalczyk for reporting the problem:\nhttps://github.com/tukaani-project/xz/issues/36","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/30e95bb44c36ae26b2ab12a94343b215fec285e7"},{"sha":"805b45cd60bfd5da3d3d89077de3789df179b324","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"Update THANKS.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/805b45cd60bfd5da3d3d89077de3789df179b324"},{"sha":"01441df92c0fd6a6c02fe5ac27982a54ce887cc0","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"liblzma: Improve documentation in filter.h.\n\nAll functions now explicitly specify parameter and return values.\nThe notes and code annotations were moved before the parameter and\nreturn value descriptions for consistency.\n\nAlso, the description above lzma_filter_encoder_is_supported() about\nnot being able to list available filters was removed since\nlzma_str_list_filters() will do this.","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/01441df92c0fd6a6c02fe5ac27982a54ce887cc0"},{"sha":"463d9359b8595f01d44ada1739d75aeb87f36524","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"liblzma: Reword a few lines in filter.h","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/463d9359b8595f01d44ada1739d75aeb87f36524"},{"sha":"002006be62d77c706565fa6ec828bea64be302da","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"liblzma: Shorten return description for two functions in filter.h.\n\nShorten the description for lzma_raw_encoder_memusage() and\nlzma_raw_decoder_memusage().","distinct":false,"url":"https://api.github.com/repos/tukaani-project/xz/commits/002006be62d77c706565fa6ec828bea64be302da"}]},"public":true,"created_at":"2023-04-21T16:31:09Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
