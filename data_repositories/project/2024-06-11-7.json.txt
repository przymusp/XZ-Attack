{"id":"39182282116","type":"IssueCommentEvent","actor":{"id":120408189,"login":"Larhzu","display_login":"Larhzu","gravatar_id":"","url":"https://api.github.com/users/Larhzu","avatar_url":"https://avatars.githubusercontent.com/u/120408189?"},"repo":{"id":68312233,"name":"microsoft/vcpkg","url":"https://api.github.com/repos/microsoft/vcpkg"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/microsoft/vcpkg/issues/39024","repository_url":"https://api.github.com/repos/microsoft/vcpkg","labels_url":"https://api.github.com/repos/microsoft/vcpkg/issues/39024/labels{/name}","comments_url":"https://api.github.com/repos/microsoft/vcpkg/issues/39024/comments","events_url":"https://api.github.com/repos/microsoft/vcpkg/issues/39024/events","html_url":"https://github.com/microsoft/vcpkg/pull/39024","id":2324377821,"node_id":"PR_kwDOBBJcqc5w8TYH","number":39024,"title":"[liblzma] Update to version 5.6.2.","user":{"login":"teo-tsirpanis","id":12659251,"node_id":"MDQ6VXNlcjEyNjU5MjUx","avatar_url":"https://avatars.githubusercontent.com/u/12659251?v=4","gravatar_id":"","url":"https://api.github.com/users/teo-tsirpanis","html_url":"https://github.com/teo-tsirpanis","followers_url":"https://api.github.com/users/teo-tsirpanis/followers","following_url":"https://api.github.com/users/teo-tsirpanis/following{/other_user}","gists_url":"https://api.github.com/users/teo-tsirpanis/gists{/gist_id}","starred_url":"https://api.github.com/users/teo-tsirpanis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/teo-tsirpanis/subscriptions","organizations_url":"https://api.github.com/users/teo-tsirpanis/orgs","repos_url":"https://api.github.com/users/teo-tsirpanis/repos","events_url":"https://api.github.com/users/teo-tsirpanis/events{/privacy}","received_events_url":"https://api.github.com/users/teo-tsirpanis/received_events","type":"User","site_admin":false},"labels":[{"id":1320931868,"node_id":"MDU6TGFiZWwxMzIwOTMxODY4","url":"https://api.github.com/repos/microsoft/vcpkg/labels/category:port-update","name":"category:port-update","color":"40c75f","default":false,"description":"The issue is with a library, which is requesting update new revision"},{"id":3066883587,"node_id":"MDU6TGFiZWwzMDY2ODgzNTg3","url":"https://api.github.com/repos/microsoft/vcpkg/labels/requires:vcpkg-team-review","name":"requires:vcpkg-team-review","color":"5319e7","default":false,"description":"This PR or issue requires someone on the vcpkg team to take a further look."}],"state":"open","locked":false,"assignee":{"login":"LilyWangLL","id":94091114,"node_id":"U_kgDOBZu3ag","avatar_url":"https://avatars.githubusercontent.com/u/94091114?v=4","gravatar_id":"","url":"https://api.github.com/users/LilyWangLL","html_url":"https://github.com/LilyWangLL","followers_url":"https://api.github.com/users/LilyWangLL/followers","following_url":"https://api.github.com/users/LilyWangLL/following{/other_user}","gists_url":"https://api.github.com/users/LilyWangLL/gists{/gist_id}","starred_url":"https://api.github.com/users/LilyWangLL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LilyWangLL/subscriptions","organizations_url":"https://api.github.com/users/LilyWangLL/orgs","repos_url":"https://api.github.com/users/LilyWangLL/repos","events_url":"https://api.github.com/users/LilyWangLL/events{/privacy}","received_events_url":"https://api.github.com/users/LilyWangLL/received_events","type":"User","site_admin":false},"assignees":[{"login":"LilyWangLL","id":94091114,"node_id":"U_kgDOBZu3ag","avatar_url":"https://avatars.githubusercontent.com/u/94091114?v=4","gravatar_id":"","url":"https://api.github.com/users/LilyWangLL","html_url":"https://github.com/LilyWangLL","followers_url":"https://api.github.com/users/LilyWangLL/followers","following_url":"https://api.github.com/users/LilyWangLL/following{/other_user}","gists_url":"https://api.github.com/users/LilyWangLL/gists{/gist_id}","starred_url":"https://api.github.com/users/LilyWangLL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LilyWangLL/subscriptions","organizations_url":"https://api.github.com/users/LilyWangLL/orgs","repos_url":"https://api.github.com/users/LilyWangLL/repos","events_url":"https://api.github.com/users/LilyWangLL/events{/privacy}","received_events_url":"https://api.github.com/users/LilyWangLL/received_events","type":"User","site_admin":false}],"milestone":null,"comments":15,"created_at":"2024-05-29T23:10:42Z","updated_at":"2024-06-11T07:28:38Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":true,"pull_request":{"url":"https://api.github.com/repos/microsoft/vcpkg/pulls/39024","html_url":"https://github.com/microsoft/vcpkg/pull/39024","diff_url":"https://github.com/microsoft/vcpkg/pull/39024.diff","patch_url":"https://github.com/microsoft/vcpkg/pull/39024.patch","merged_at":null},"body":"- [X] Changes comply with the [maintainer guide](https://github.com/microsoft/vcpkg-docs/blob/main/vcpkg/contributing/maintainer-guide.md).\n- [X] SHA512s are updated for each updated download.\n- [X] The \"supports\" clause reflects platforms that may be fixed by this new version.\n- [ ] Any fixed [CI baseline](https://github.com/microsoft/vcpkg/blob/master/scripts/ci.baseline.txt) entries are removed from that file.\n- [ ] Any patches that are no longer applied are deleted from the port's directory.\n- [X] The version database is fixed by rerunning `./vcpkg x-add-version --all` and committing the result.\n- [X] Only one version is added to each modified port's versions file.\n\nThis PR updates liblzma to the just-released version 5.6.2. I first copied the reverted port for 5.6.0, and updated versions.\n\nI also enabled the tools feature on Windows; the tools seem to run fine there.","reactions":{"url":"https://api.github.com/repos/microsoft/vcpkg/issues/39024/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/microsoft/vcpkg/issues/39024/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/microsoft/vcpkg/issues/comments/2159992526","html_url":"https://github.com/microsoft/vcpkg/pull/39024#issuecomment-2159992526","issue_url":"https://api.github.com/repos/microsoft/vcpkg/issues/39024","id":2159992526,"node_id":"IC_kwDOBBJcqc6Avt7O","user":{"login":"Larhzu","id":120408189,"node_id":"U_kgDOBy1IfQ","avatar_url":"https://avatars.githubusercontent.com/u/120408189?v=4","gravatar_id":"","url":"https://api.github.com/users/Larhzu","html_url":"https://github.com/Larhzu","followers_url":"https://api.github.com/users/Larhzu/followers","following_url":"https://api.github.com/users/Larhzu/following{/other_user}","gists_url":"https://api.github.com/users/Larhzu/gists{/gist_id}","starred_url":"https://api.github.com/users/Larhzu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Larhzu/subscriptions","organizations_url":"https://api.github.com/users/Larhzu/orgs","repos_url":"https://api.github.com/users/Larhzu/repos","events_url":"https://api.github.com/users/Larhzu/events{/privacy}","received_events_url":"https://api.github.com/users/Larhzu/received_events","type":"User","site_admin":false},"created_at":"2024-06-11T07:28:36Z","updated_at":"2024-06-11T07:28:36Z","author_association":"NONE","body":"@dg0yt:\r\n\r\n> And probably not very useful for windows w/o mingw.\r\n\r\nThe scripts need a POSIX shell and tools. MinGW-w64 doesn't include those. Cygwin and MSYS2 do.\r\n\r\n> getopt_long going into executables shouldn't be a barrier, in particular for an optional feature.\r\n\r\nGreat! While there are multiple implementations (MinGW-w64 has a [BSD-licensed one](https://github.com/mingw-w64/mingw-w64/blob/master/mingw-w64-crt/misc/getopt.c)), I have kept the GNU one in the tree for now.\r\n\r\n> For vcpkg, a _single_ switch for tools would be enough for this port.\r\n\r\nUnderstood.\r\n\r\n> It is fine to make a draft PR for a vcpkg CI run with a pre-release commit, to check if any further tweaks would be needed.\r\n\r\nI can comment existing PRs if I'm aware of them but I'm not a vcpkg user. So the responsibilities split here.\r\n\r\n@BillyONeal:\r\n\r\n> I think it should. Deciding to provide .pc files is a build system concern unrelated to what compiler or host one is on.\r\n\r\nPrior to reading this PR, I had no idea that pkg-config was used at all in MSVC environments. I'm just not very familiar with it. It's one of many things where I rely on dowstreams telling me what is the correct thing to do.\r\n\r\n> But we don't want to block contributors submitting good-faith updates on doing every cleanup thing, if that makes sense.\r\n\r\nThe removal of `add_support_ios.patch` and `fix_config_include.patch` is indeed pure cleanup as those effectively did nothing. But there are new bugs too:\r\n\r\n* `win_output_name.patch` doesn't remove `IMPORT_PREFIX \"\"` when it adds `PREFIX \"\"`. This breaks the import library name on non-MSVC toolchains on Windows. The `IMPORT_PREFIX \"\"` line was added in XZ Utils 5.4.5 but the previous release in vcpkg was 5.4.4 and so the old patch in vcpkg worked correctly. So this patch should be fixed or replaced with the [upstream version](https://github.com/tukaani-project/xz/commit/e0d6d05ce0d464e966c0669bbf869202a43cc2f7). One cannot omit the patch as 5.6.2 doesn't have the upstream commit.\r\n\r\n* My understanding is that vcpkg supports platforms like GNU/Linux as well. `BUILD_TOOLS` in `build-tools.patch` doesn't disable installation of the scripts that depend on the `xz` tool. That is obvious not correct and might also be unexpected noise if user wanted a library-only build.\r\n\r\nIf it helps, I suppose I could cherry-pick the commits to the `v5.6` branch. Then vcpkg could build from a non-tagged commit from that branch (don't use `master`, it's development code). But perhaps it's simplest to just fix the two above issues and worry about the next steps with the next release.\r\n","reactions":{"url":"https://api.github.com/repos/microsoft/vcpkg/issues/comments/2159992526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2024-06-11T07:28:38Z","org":{"id":6154722,"login":"microsoft","gravatar_id":"","url":"https://api.github.com/orgs/microsoft","avatar_url":"https://avatars.githubusercontent.com/u/6154722?"}}
{"id":"39182437476","type":"WatchEvent","actor":{"id":79000684,"login":"nakasyou","display_login":"nakasyou","gravatar_id":"","url":"https://api.github.com/users/nakasyou","avatar_url":"https://avatars.githubusercontent.com/u/79000684?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"action":"started"},"public":true,"created_at":"2024-06-11T07:33:33Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
{"id":"39182717223","type":"PushEvent","actor":{"id":120408189,"login":"Larhzu","display_login":"Larhzu","gravatar_id":"","url":"https://api.github.com/users/Larhzu","avatar_url":"https://avatars.githubusercontent.com/u/120408189?"},"repo":{"id":553665726,"name":"tukaani-project/xz","url":"https://api.github.com/repos/tukaani-project/xz"},"payload":{"repository_id":553665726,"push_id":18822535173,"size":3,"distinct_size":3,"ref":"refs/heads/master","head":"afd9b4d282a10186808c3331dad4caf79c02d55f","before":"9e73918a4f14be754a23f74dda45ca431939a4a0","commits":[{"sha":"caea7844d3824755d053b4743c4913d73ac2db3d","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"tuklib: __STDC_VERSION__ in C23 is 202311","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/caea7844d3824755d053b4743c4913d73ac2db3d"},{"sha":"50e6bff274568c568930e15094da8217e7d47d28","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"liblzma: Fix white space","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/50e6bff274568c568930e15094da8217e7d47d28"},{"sha":"afd9b4d282a10186808c3331dad4caf79c02d55f","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"liblzma: Fix a comment indentation","distinct":true,"url":"https://api.github.com/repos/tukaani-project/xz/commits/afd9b4d282a10186808c3331dad4caf79c02d55f"}]},"public":true,"created_at":"2024-06-11T07:42:17Z","org":{"id":116083088,"login":"tukaani-project","gravatar_id":"","url":"https://api.github.com/orgs/tukaani-project","avatar_url":"https://avatars.githubusercontent.com/u/116083088?"}}
