{"id":"34477175030","type":"IssuesEvent","actor":{"id":79351,"login":"mojavelinux","display_login":"mojavelinux","gravatar_id":"","url":"https://api.github.com/users/mojavelinux","avatar_url":"https://avatars.githubusercontent.com/u/79351?"},"repo":{"id":4523235,"name":"asciidoctor/asciidoctor","url":"https://api.github.com/repos/asciidoctor/asciidoctor"},"payload":{"action":"closed","issue":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4532","repository_url":"https://api.github.com/repos/asciidoctor/asciidoctor","labels_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4532/labels{/name}","comments_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4532/comments","events_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4532/events","html_url":"https://github.com/asciidoctor/asciidoctor/issues/4532","id":2058666569,"node_id":"I_kwDOAEUE4856tMJJ","number":4532,"title":"Stylesheet: License should be included","user":{"login":"Larhzu","id":120408189,"node_id":"U_kgDOBy1IfQ","avatar_url":"https://avatars.githubusercontent.com/u/120408189?v=4","gravatar_id":"","url":"https://api.github.com/users/Larhzu","html_url":"https://github.com/Larhzu","followers_url":"https://api.github.com/users/Larhzu/followers","following_url":"https://api.github.com/users/Larhzu/following{/other_user}","gists_url":"https://api.github.com/users/Larhzu/gists{/gist_id}","starred_url":"https://api.github.com/users/Larhzu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Larhzu/subscriptions","organizations_url":"https://api.github.com/users/Larhzu/orgs","repos_url":"https://api.github.com/users/Larhzu/repos","events_url":"https://api.github.com/users/Larhzu/events{/privacy}","received_events_url":"https://api.github.com/users/Larhzu/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-12-28T17:24:58Z","updated_at":"2023-12-30T01:37:00Z","closed_at":"2023-12-30T01:37:00Z","author_association":"NONE","active_lock_reason":null,"body":"The default stylesheet, that gets embedded into the HTML output by default, only includes the following line that refers to the license or copyright info:\r\n\r\n```\r\n/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */\r\n```\r\n\r\nThe MIT license requires that the copyright notice and the license itself must be included in all substantial portions of the licensed work. The stylesheet is clearly a substantial portion of Asciidoctor (it's much more than a dozen simple lines of code).\r\n\r\nMy interpretation is that to legally distribute the HTML-with-the-default-stylesheet output of Asciidoctor one would need to include the copyright and license info manually. This obviously won't usually get done.\r\n\r\nIncluding the copyright notice and the license text in full would make the stylesheet slightly bigger but it seems the most practical option. Including only an URL to the license isn't enough:\r\n\r\n1. The document might be read offline.\r\n2. The document must stay redistributable in the future even if the license URL no longer worked for whatever reason.\r\n\r\nThe copyright notice should include the end year like \"2012-2023\" instead of \"2012-present\" as (at least in theory) copyright is meant to expire some day and \"present\" will become inaccurate when the document gets old.\r\n\r\nI understand this can feel annoying and also be somewhat annoying to implement in practice (keeping the notice up to date). So I sympathize but still think this is worth doing.\r\n","reactions":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4532/timeline","performed_via_github_app":null,"state_reason":"completed"}},"public":true,"created_at":"2023-12-30T01:37:01Z","org":{"id":3137042,"login":"asciidoctor","gravatar_id":"","url":"https://api.github.com/orgs/asciidoctor","avatar_url":"https://avatars.githubusercontent.com/u/3137042?"}}
{"id":"34477175056","type":"IssueCommentEvent","actor":{"id":79351,"login":"mojavelinux","display_login":"mojavelinux","gravatar_id":"","url":"https://api.github.com/users/mojavelinux","avatar_url":"https://avatars.githubusercontent.com/u/79351?"},"repo":{"id":4523235,"name":"asciidoctor/asciidoctor","url":"https://api.github.com/repos/asciidoctor/asciidoctor"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4532","repository_url":"https://api.github.com/repos/asciidoctor/asciidoctor","labels_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4532/labels{/name}","comments_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4532/comments","events_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4532/events","html_url":"https://github.com/asciidoctor/asciidoctor/issues/4532","id":2058666569,"node_id":"I_kwDOAEUE4856tMJJ","number":4532,"title":"Stylesheet: License should be included","user":{"login":"Larhzu","id":120408189,"node_id":"U_kgDOBy1IfQ","avatar_url":"https://avatars.githubusercontent.com/u/120408189?v=4","gravatar_id":"","url":"https://api.github.com/users/Larhzu","html_url":"https://github.com/Larhzu","followers_url":"https://api.github.com/users/Larhzu/followers","following_url":"https://api.github.com/users/Larhzu/following{/other_user}","gists_url":"https://api.github.com/users/Larhzu/gists{/gist_id}","starred_url":"https://api.github.com/users/Larhzu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Larhzu/subscriptions","organizations_url":"https://api.github.com/users/Larhzu/orgs","repos_url":"https://api.github.com/users/Larhzu/repos","events_url":"https://api.github.com/users/Larhzu/events{/privacy}","received_events_url":"https://api.github.com/users/Larhzu/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-12-28T17:24:58Z","updated_at":"2023-12-30T01:37:00Z","closed_at":"2023-12-30T01:37:00Z","author_association":"NONE","active_lock_reason":null,"body":"The default stylesheet, that gets embedded into the HTML output by default, only includes the following line that refers to the license or copyright info:\r\n\r\n```\r\n/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */\r\n```\r\n\r\nThe MIT license requires that the copyright notice and the license itself must be included in all substantial portions of the licensed work. The stylesheet is clearly a substantial portion of Asciidoctor (it's much more than a dozen simple lines of code).\r\n\r\nMy interpretation is that to legally distribute the HTML-with-the-default-stylesheet output of Asciidoctor one would need to include the copyright and license info manually. This obviously won't usually get done.\r\n\r\nIncluding the copyright notice and the license text in full would make the stylesheet slightly bigger but it seems the most practical option. Including only an URL to the license isn't enough:\r\n\r\n1. The document might be read offline.\r\n2. The document must stay redistributable in the future even if the license URL no longer worked for whatever reason.\r\n\r\nThe copyright notice should include the end year like \"2012-2023\" instead of \"2012-present\" as (at least in theory) copyright is meant to expire some day and \"present\" will become inaccurate when the document gets old.\r\n\r\nI understand this can feel annoying and also be somewhat annoying to implement in practice (keeping the notice up to date). So I sympathize but still think this is worth doing.\r\n","reactions":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4532/timeline","performed_via_github_app":null,"state_reason":"completed"},"comment":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/comments/1872419750","html_url":"https://github.com/asciidoctor/asciidoctor/issues/4532#issuecomment-1872419750","issue_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4532","id":1872419750,"node_id":"IC_kwDOAEUE485vmtum","user":{"login":"mojavelinux","id":79351,"node_id":"MDQ6VXNlcjc5MzUx","avatar_url":"https://avatars.githubusercontent.com/u/79351?v=4","gravatar_id":"","url":"https://api.github.com/users/mojavelinux","html_url":"https://github.com/mojavelinux","followers_url":"https://api.github.com/users/mojavelinux/followers","following_url":"https://api.github.com/users/mojavelinux/following{/other_user}","gists_url":"https://api.github.com/users/mojavelinux/gists{/gist_id}","starred_url":"https://api.github.com/users/mojavelinux/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mojavelinux/subscriptions","organizations_url":"https://api.github.com/users/mojavelinux/orgs","repos_url":"https://api.github.com/users/mojavelinux/repos","events_url":"https://api.github.com/users/mojavelinux/events{/privacy}","received_events_url":"https://api.github.com/users/mojavelinux/received_events","type":"User","site_admin":false},"created_at":"2023-12-30T01:37:00Z","updated_at":"2023-12-30T01:37:00Z","author_association":"MEMBER","body":"No. This is entirely unnecessary, not worth doing, and disruptive to the output. I'm not going to make this change.\r\n\r\nIt's a common misconception that a license has to be repeated in its entirety in every source file. The license identifier and URL serves exactly the same purpose and is thus sufficient. (I have consulted legal counsel on this exact topic on numerous occasions and this assertion has always been confirmed). It's also very common to use this shorthand form for citing the license of web assets, so there is established precedent. Doing so also avoids bloating web assets with superfluous headers.\r\n\r\nIf this presents a problem for you in your particular usage (which I understand), you're free to write a postprocessor extension (or similar) to inject it into the output. See https://docs.asciidoctor.org/asciidoctor.js/latest/extend/extensions/postprocessor/ to find an example.\r\n\r\n> The copyright notice should include the end year like \"2012-2023\" instead of \"2012-present\" \r\n\r\nThis is also a common misconception. Using a specific end year, especially with open source, is a dated practice and overstated. All it does is waste maintainers time to have to constantly keep it up to date every New Years Day. The copyright and license is MIT from now until forever, and that's what this line expressed. I'm not changing it.","reactions":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/comments/1872419750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-12-30T01:37:01Z","org":{"id":3137042,"login":"asciidoctor","gravatar_id":"","url":"https://api.github.com/orgs/asciidoctor","avatar_url":"https://avatars.githubusercontent.com/u/3137042?"}}
{"id":"34477254930","type":"IssueCommentEvent","actor":{"id":79351,"login":"mojavelinux","display_login":"mojavelinux","gravatar_id":"","url":"https://api.github.com/users/mojavelinux","avatar_url":"https://avatars.githubusercontent.com/u/79351?"},"repo":{"id":4523235,"name":"asciidoctor/asciidoctor","url":"https://api.github.com/repos/asciidoctor/asciidoctor"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4531","repository_url":"https://api.github.com/repos/asciidoctor/asciidoctor","labels_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4531/labels{/name}","comments_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4531/comments","events_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4531/events","html_url":"https://github.com/asciidoctor/asciidoctor/issues/4531","id":2058661276,"node_id":"I_kwDOAEUE4856tK2c","number":4531,"title":"Stylesheet: Avoid gray body text in @media print","user":{"login":"Larhzu","id":120408189,"node_id":"U_kgDOBy1IfQ","avatar_url":"https://avatars.githubusercontent.com/u/120408189?v=4","gravatar_id":"","url":"https://api.github.com/users/Larhzu","html_url":"https://github.com/Larhzu","followers_url":"https://api.github.com/users/Larhzu/followers","following_url":"https://api.github.com/users/Larhzu/following{/other_user}","gists_url":"https://api.github.com/users/Larhzu/gists{/gist_id}","starred_url":"https://api.github.com/users/Larhzu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Larhzu/subscriptions","organizations_url":"https://api.github.com/users/Larhzu/orgs","repos_url":"https://api.github.com/users/Larhzu/repos","events_url":"https://api.github.com/users/Larhzu/events{/privacy}","received_events_url":"https://api.github.com/users/Larhzu/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-12-28T17:18:11Z","updated_at":"2023-12-30T01:48:25Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"The body text is transparent black on white background, resulting in gray text (equivalent to `#333`):\r\n\r\n```\r\nbody {\r\n  background: #fff;\r\n  color: rgb(0 0 0 / 0.8);\r\n  ...\r\n}\r\n```\r\n\r\nThe reasons to use gray instead of black text on screen don't apply to printing. The main body text should be black (`#000`) when printing to avoid dithering.\r\n\r\nBrowsers might convert gray text to black when printing. Some printer drivers might do it too. So even now the gray text might print as black in some cases. It would be good to ensure good results in all cases still.\r\n\r\nFor example, Firefox 121 converts gray text to black if the gray color is specified as `#333` or `#666` and _Print backgrounds_ is unchecked in the Firefox' print options. However, if the same colors are specified as transparent black text like `rgb(0 0 0 / 0.8)` or `rgb(0 0 0 / 0.6)` then the text remains gray even if _Print backgrounds_ is unchecked. These can be tested by printing to PDF and taking a screenshot from a PDF viewer.\r\n\r\nI'm not sure which elements should use black text when printing. `h1`, `body`, `pre`, `code`, and the various table-related elements that use `rgb(0 0 0 / 0.8)` should probably be black when printing. But perhaps a few other elements should be black too.\r\n\r\n(A side note: I find `rgb(0 0 0 / 0.8)` (`#333`) too light on some displays (it hurts legibility). Somewhere from `rgb(0 0 0 / 0.87)` (`#222`) to `rgb(0 0 0 / 0.93)` (`#121212`) would look better to me. But I know it depends on the display, display brightness, user preference etc. so I don't dare to propose any changes.)\r\n","reactions":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4531/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/comments/1872423094","html_url":"https://github.com/asciidoctor/asciidoctor/issues/4531#issuecomment-1872423094","issue_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4531","id":1872423094,"node_id":"IC_kwDOAEUE485vmui2","user":{"login":"mojavelinux","id":79351,"node_id":"MDQ6VXNlcjc5MzUx","avatar_url":"https://avatars.githubusercontent.com/u/79351?v=4","gravatar_id":"","url":"https://api.github.com/users/mojavelinux","html_url":"https://github.com/mojavelinux","followers_url":"https://api.github.com/users/mojavelinux/followers","following_url":"https://api.github.com/users/mojavelinux/following{/other_user}","gists_url":"https://api.github.com/users/mojavelinux/gists{/gist_id}","starred_url":"https://api.github.com/users/mojavelinux/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mojavelinux/subscriptions","organizations_url":"https://api.github.com/users/mojavelinux/orgs","repos_url":"https://api.github.com/users/mojavelinux/repos","events_url":"https://api.github.com/users/mojavelinux/events{/privacy}","received_events_url":"https://api.github.com/users/mojavelinux/received_events","type":"User","site_admin":false},"created_at":"2023-12-30T01:48:23Z","updated_at":"2023-12-30T01:48:23Z","author_association":"MEMBER","body":"It's not enough to change the off-black for screen to true black because there are many other colors used in the stylesheet which may appear too light when printing.\r\n\r\nThis has been discussed before and we decided not to change it. In fact, in the early days of the stylesheet, the inherited styles from Foundation forcefully turned the color of all elements to true black in print mode, which created problems. When we removed that style, users welcomed the reintroduction of color. The reasoning is stated in the following issue: https://github.com/asciidoctor/asciidoctor/issues/997#issuecomment-48582704\r\n\r\nThe gist is that not all users use the print dialog to physically print the document. Many use it to generate a PDF. In that case, they expect the colors to be preserved. So there are two different audiences here.\r\n\r\nWhat I might be open to considering is to honor a black and white (perhaps just `bw`) document role that would turn on additional styles to switch the off-black to true black and any use of color to an appropriate shade of gray. However, we'd first need to decide on what that role would be named. Then, someone would have to submit a PR to add the styles for that body selector to the print media query. It's not something I'm going to spend time on.\r\n\r\nKeep in mind, you can use [docinfo](https://docs.asciidoctor.org/asciidoc/latest/docinfo/) to provide additional print styles without any change to core. And that's usually a good place to start to understand what to put in said PR.","reactions":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/comments/1872423094/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-12-30T01:48:25Z","org":{"id":3137042,"login":"asciidoctor","gravatar_id":"","url":"https://api.github.com/orgs/asciidoctor","avatar_url":"https://avatars.githubusercontent.com/u/3137042?"}}
