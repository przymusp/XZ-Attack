<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: [xz-devel] [PATCH 0/2] tests: Disable bits that require the [encoder|threads]</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#00604" id="c">
<link rel="index" href="maillist.html#00604" id="i">
<link rel="prev" href="msg00603.html" id="p">
<link rel="next" href="msg00605.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/xz-devel@tukaani.org/msg00604.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=xz-devel@tukaani.org&amp;q=subject:%22Re%5C%3A+%5C%5Bxz%5C-devel%5C%5D+%5C%5BPATCH+0%5C%2F2%5C%5D+tests%5C%3A+Disable+bits+that+require+the+%5C%5Bencoder%5C%7Cthreads%5C%5D%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: [xz-devel] [PATCH 0/2] tests: Disable bits that require the [encoder|threads]</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=xz-devel@tukaani.org&amp;q=from:%22Jia+Tan%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Jia Tan</span></span></a></span>
<span class="date"><a href="/search?l=xz-devel@tukaani.org&amp;q=date:20221023" rel="nofollow">Sun, 23 Oct 2022 06:35:22 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Hi!

&gt; This definitely improves the situation. However, in Gentoo, we
&gt; allow optionally disabling 'extra-filters', described to users as:
&gt; ```
&gt;         &lt;flag name=&quot;extra-filters&quot;&gt;Build additional filters that are not
&gt;                 used in any of the default xz presets. This includes delta
&gt;                 and BCJ coders, additional match finders and SHA256 
&gt; checks.&lt;/flag&gt;
&gt; ```
&gt;
&gt; When this flag is disabled (i.e. no extra-filters), we pass the following
&gt; options to configure:
&gt; ```
&gt; /var/tmp/portage/app-arch/xz-utils-9999/work/xz-utils-9999/configure 
&gt; --prefix=/usr --build=x86_64-pc-linux-gnu --host=x86_64-pc-linux-gnu 
&gt; --mandir=/usr/share/man --infodir=/usr/share/info --datadir=/usr/share 
&gt; --sysconfdir=/etc --localstatedir=/var/lib --disable-dependency-tracking 
&gt; --disable-silent-rules --docdir=/usr/share/doc/xz-utils-9999 
&gt; --htmldir=/usr/share/doc/xz-utils-9999/html --with-sysroot=/ 
&gt; --libdir=/usr/lib64 --enable-threads --enable-nls --disable-static 
&gt; --enable-encoders=lzma1,lzma2 --enable-decoders=lzma1,lzma2 
&gt; --enable-match-finders=hc3,hc4,bt4 --enable-checks=crc32,crc64</pre><pre>

Thanks for reporting this. Can you attach your entire test-suite.log
file? I am wondering why test_files.sh and test_compress_* skips
instead of fails on your configuration. Fixing the test_bcj_exact_size
issue is simple and I already submitted a patch for it to Lasse.
test_files.sh and test_compress_* deserve a proper rewrite, but that
probably will not happen before 5.4.0 so the short term solution may
be to have them skip if the configurations differ to far from the
default.

Jia Tan

</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg00603.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#00604">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#00604">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg00605.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg00602.html">Re: [xz-devel] [PATCH 0/2] tests: Disable bits that require the ...</a></span> <span class="sender italic">Jia Tan</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg00603.html">Re: [xz-devel] [PATCH 0/2] tests: Disable bits that require...</a></span> <span class="sender italic">Sam James</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: [xz-devel] [PATCH 0/2] tests: Disable bits that req...</span> <span class="sender italic">Jia Tan</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg00605.html">Re: [xz-devel] [PATCH 0/2] tests: Disable bits that...</a></span> <span class="sender italic">Sam James</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg00606.html">Re: [xz-devel] [PATCH 0/2] tests: Disable bits ...</a></span> <span class="sender italic">Jia Tan</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: [xz-devel] [PATCH 0/2] tests: Disable bits that require the [encoder|threads]">
<input type="hidden" name="msgid" value="CAMzPPJ-rG34YzoNBNNvrQCxGZ7+VXQMPDHOet_G1bQ8KgZGKnw@mail.gmail.com">
<input type="hidden" name="relpath" value="xz-devel@tukaani.org/msg00604.html">
<input type="submit" value=" Jia Tan ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="xz-devel@tukaani.org">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search xz-devel">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/xz-devel@tukaani.org/">xz-devel - all messages</a></li>
<li class="icons-about"><a href="/xz-devel@tukaani.org/info.html">xz-devel - about the list</a></li>
<li class="icons-expand"><a href="/search?l=xz-devel@tukaani.org&amp;q=subject:%22Re%5C%3A+%5C%5Bxz%5C-devel%5C%5D+%5C%5BPATCH+0%5C%2F2%5C%5D+tests%5C%3A+Disable+bits+that+require+the+%5C%5Bencoder%5C%7Cthreads%5C%5D%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg00603.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg00605.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CAMzPPJ-rG34YzoNBNNvrQCxGZ7+VXQMPDHOet_G1bQ8KgZGKnw@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
