{"id":"32057011167","type":"IssuesEvent","actor":{"id":41658782,"login":"ChanTsune","display_login":"ChanTsune","gravatar_id":"","url":"https://api.github.com/users/ChanTsune","avatar_url":"https://avatars.githubusercontent.com/u/41658782?"},"repo":{"id":695544430,"name":"Portable-Network-Archive/liblzma-rs","url":"https://api.github.com/repos/Portable-Network-Archive/liblzma-rs"},"payload":{"action":"opened","issue":{"url":"https://api.github.com/repos/Portable-Network-Archive/liblzma-rs/issues/15","repository_url":"https://api.github.com/repos/Portable-Network-Archive/liblzma-rs","labels_url":"https://api.github.com/repos/Portable-Network-Archive/liblzma-rs/issues/15/labels{/name}","comments_url":"https://api.github.com/repos/Portable-Network-Archive/liblzma-rs/issues/15/comments","events_url":"https://api.github.com/repos/Portable-Network-Archive/liblzma-rs/issues/15/events","html_url":"https://github.com/Portable-Network-Archive/liblzma-rs/issues/15","id":1910140443,"node_id":"I_kwDOKXUqbs5x2m4b","number":15,"title":"WebAssembly Support","user":{"login":"ChanTsune","id":41658782,"node_id":"MDQ6VXNlcjQxNjU4Nzgy","avatar_url":"https://avatars.githubusercontent.com/u/41658782?v=4","gravatar_id":"","url":"https://api.github.com/users/ChanTsune","html_url":"https://github.com/ChanTsune","followers_url":"https://api.github.com/users/ChanTsune/followers","following_url":"https://api.github.com/users/ChanTsune/following{/other_user}","gists_url":"https://api.github.com/users/ChanTsune/gists{/gist_id}","starred_url":"https://api.github.com/users/ChanTsune/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChanTsune/subscriptions","organizations_url":"https://api.github.com/users/ChanTsune/orgs","repos_url":"https://api.github.com/users/ChanTsune/repos","events_url":"https://api.github.com/users/ChanTsune/events{/privacy}","received_events_url":"https://api.github.com/users/ChanTsune/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-09-24T07:42:46Z","updated_at":"2023-09-24T07:42:46Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Builds targeting WebAssemby using the WASI-SDK are now supported in liblzma 5.4.4.\r\nhttps://github.com/tukaani-project/xz/releases/tag/v5.4.4\r\n\r\nThis allows builds targeting `wasm32-unknown-unknown` and `wasm32-wasi` on liblzma-sys.\r\n\r\nHowever, several changes have to be made to the current liblzma-sys.\r\n\r\n1. Update liblzma version to 5.4.4 (currently liblzma-sys uses liblzma 5.2.5)\r\n2. Enable/disable multithreading-related features in liblzma-sys (with liblzma 5.4.4, multithreading features must be disabled when targeting WebAseembly).\r\n3. (Optional) Add arm64 filters (new filters have been added in liblzma 5.4 and need to be supported to pass tests against them).\r\n\r\n1.\r\n  - [ ] Switch liblzma version to 5.4\r\n\r\n2.\r\n  - [ ] 1. Add new feature flag (like `threading`) to enable/disable the multithreading feature\r\n  - [ ] 2. Disable multithreading related features when building against a WebAssembly target using `#[cfg(target_arch = \"wasm32\")]`\r\n\r\n3.\r\n  - [ ] 1. Add a macro definition in `config.h` to enable arm64 filters\r\n","reactions":{"url":"https://api.github.com/repos/Portable-Network-Archive/liblzma-rs/issues/15/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/Portable-Network-Archive/liblzma-rs/issues/15/timeline","performed_via_github_app":null,"state_reason":null}},"public":true,"created_at":"2023-09-24T07:42:47Z","org":{"id":127077679,"login":"Portable-Network-Archive","gravatar_id":"","url":"https://api.github.com/orgs/Portable-Network-Archive","avatar_url":"https://avatars.githubusercontent.com/u/127077679?"}}
