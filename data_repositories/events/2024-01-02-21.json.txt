{"id":"34527977288","type":"IssueCommentEvent","actor":{"id":120408189,"login":"Larhzu","display_login":"Larhzu","gravatar_id":"","url":"https://api.github.com/users/Larhzu","avatar_url":"https://avatars.githubusercontent.com/u/120408189?"},"repo":{"id":4523235,"name":"asciidoctor/asciidoctor","url":"https://api.github.com/repos/asciidoctor/asciidoctor"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4531","repository_url":"https://api.github.com/repos/asciidoctor/asciidoctor","labels_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4531/labels{/name}","comments_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4531/comments","events_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4531/events","html_url":"https://github.com/asciidoctor/asciidoctor/issues/4531","id":2058661276,"node_id":"I_kwDOAEUE4856tK2c","number":4531,"title":"Stylesheet: Avoid gray body text in @media print","user":{"login":"Larhzu","id":120408189,"node_id":"U_kgDOBy1IfQ","avatar_url":"https://avatars.githubusercontent.com/u/120408189?v=4","gravatar_id":"","url":"https://api.github.com/users/Larhzu","html_url":"https://github.com/Larhzu","followers_url":"https://api.github.com/users/Larhzu/followers","following_url":"https://api.github.com/users/Larhzu/following{/other_user}","gists_url":"https://api.github.com/users/Larhzu/gists{/gist_id}","starred_url":"https://api.github.com/users/Larhzu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Larhzu/subscriptions","organizations_url":"https://api.github.com/users/Larhzu/orgs","repos_url":"https://api.github.com/users/Larhzu/repos","events_url":"https://api.github.com/users/Larhzu/events{/privacy}","received_events_url":"https://api.github.com/users/Larhzu/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2023-12-28T17:18:11Z","updated_at":"2024-01-02T21:06:48Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"The body text is transparent black on white background, resulting in gray text (equivalent to `#333`):\r\n\r\n```\r\nbody {\r\n  background: #fff;\r\n  color: rgb(0 0 0 / 0.8);\r\n  ...\r\n}\r\n```\r\n\r\nThe reasons to use gray instead of black text on screen don't apply to printing. The main body text should be black (`#000`) when printing to avoid dithering.\r\n\r\nBrowsers might convert gray text to black when printing. Some printer drivers might do it too. So even now the gray text might print as black in some cases. It would be good to ensure good results in all cases still.\r\n\r\nFor example, Firefox 121 converts gray text to black if the gray color is specified as `#333` or `#666` and _Print backgrounds_ is unchecked in the Firefox' print options. However, if the same colors are specified as transparent black text like `rgb(0 0 0 / 0.8)` or `rgb(0 0 0 / 0.6)` then the text remains gray even if _Print backgrounds_ is unchecked. These can be tested by printing to PDF and taking a screenshot from a PDF viewer.\r\n\r\nI'm not sure which elements should use black text when printing. `h1`, `body`, `pre`, `code`, and the various table-related elements that use `rgb(0 0 0 / 0.8)` should probably be black when printing. But perhaps a few other elements should be black too.\r\n\r\n(A side note: I find `rgb(0 0 0 / 0.8)` (`#333`) too light on some displays (it hurts legibility). Somewhere from `rgb(0 0 0 / 0.87)` (`#222`) to `rgb(0 0 0 / 0.93)` (`#121212`) would look better to me. But I know it depends on the display, display brightness, user preference etc. so I don't dare to propose any changes.)\r\n","reactions":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4531/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/comments/1874569632","html_url":"https://github.com/asciidoctor/asciidoctor/issues/4531#issuecomment-1874569632","issue_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4531","id":1874569632,"node_id":"IC_kwDOAEUE485vu6mg","user":{"login":"Larhzu","id":120408189,"node_id":"U_kgDOBy1IfQ","avatar_url":"https://avatars.githubusercontent.com/u/120408189?v=4","gravatar_id":"","url":"https://api.github.com/users/Larhzu","html_url":"https://github.com/Larhzu","followers_url":"https://api.github.com/users/Larhzu/followers","following_url":"https://api.github.com/users/Larhzu/following{/other_user}","gists_url":"https://api.github.com/users/Larhzu/gists{/gist_id}","starred_url":"https://api.github.com/users/Larhzu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Larhzu/subscriptions","organizations_url":"https://api.github.com/users/Larhzu/orgs","repos_url":"https://api.github.com/users/Larhzu/repos","events_url":"https://api.github.com/users/Larhzu/events{/privacy}","received_events_url":"https://api.github.com/users/Larhzu/received_events","type":"User","site_admin":false},"created_at":"2024-01-02T21:06:47Z","updated_at":"2024-01-02T21:06:47Z","author_association":"NONE","body":"Thanks! I see the question isn't as simple as I had thought and I may have had wrong assumptions too.\r\n\r\nAnyway, my intent wasn't to suggest making all text black. My point was to ensure that the main content would print as black and thus have good legibility if browser or printer driver doesn't convert gray to black automatically. The amount of text in figure captions, admonitions etc. typically isn't that much, so even if those were too light for good printing, the overall result could have been good for casual prints still.\r\n\r\nI had assumed that black body text in print-to-PDF use would be desirable because I assumed that PDFs are typically generated so that they are good for printing (things like clickable links are just extra features on top). I hadn't used asciidoctor-pdf apart from a quick test, and now that I looked more closely I see it uses `#333` by default and black text needs `--theme=default-for-print`. So now I realize that there are people who prefer gray body text even in PDF, thus using black body text for HTML-to-PDF conversion isn't the trivially-obvious choice like I had thought.\r\n\r\n> Keep in mind, you can use [docinfo](https://docs.asciidoctor.org/asciidoc/latest/docinfo/) to provide additional print styles without any change to core.\r\n\r\nThanks! I'm already making a few other changes to the default stylesheet where docinfo alone isn't convenient enough. I'm trying to still keep it easy to stay in sync with upstream changes. A few tiny fixes/improvements were such that I thought they could make sense upstream but clearly the printing related idea isn't such.\r\n\r\nSince I have a simple but decent solution for my taste (using CSS custom properties), I don't plan to spend more time on `@media print` improvements for now. Feel free to close this issue. Thanks!\r\n","reactions":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/comments/1874569632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2024-01-02T21:06:48Z","org":{"id":3137042,"login":"asciidoctor","gravatar_id":"","url":"https://api.github.com/orgs/asciidoctor","avatar_url":"https://avatars.githubusercontent.com/u/3137042?"}}
{"id":"34527980877","type":"IssueCommentEvent","actor":{"id":79351,"login":"mojavelinux","display_login":"mojavelinux","gravatar_id":"","url":"https://api.github.com/users/mojavelinux","avatar_url":"https://avatars.githubusercontent.com/u/79351?"},"repo":{"id":4523235,"name":"asciidoctor/asciidoctor","url":"https://api.github.com/repos/asciidoctor/asciidoctor"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4530","repository_url":"https://api.github.com/repos/asciidoctor/asciidoctor","labels_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4530/labels{/name}","comments_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4530/comments","events_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4530/events","html_url":"https://github.com/asciidoctor/asciidoctor/issues/4530","id":2058653124,"node_id":"I_kwDOAEUE4856tI3E","number":4530,"title":"Stylesheet: Underline active footnote link","user":{"login":"Larhzu","id":120408189,"node_id":"U_kgDOBy1IfQ","avatar_url":"https://avatars.githubusercontent.com/u/120408189?v=4","gravatar_id":"","url":"https://api.github.com/users/Larhzu","html_url":"https://github.com/Larhzu","followers_url":"https://api.github.com/users/Larhzu/followers","following_url":"https://api.github.com/users/Larhzu/following{/other_user}","gists_url":"https://api.github.com/users/Larhzu/gists{/gist_id}","starred_url":"https://api.github.com/users/Larhzu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Larhzu/subscriptions","organizations_url":"https://api.github.com/users/Larhzu/orgs","repos_url":"https://api.github.com/users/Larhzu/repos","events_url":"https://api.github.com/users/Larhzu/events{/privacy}","received_events_url":"https://api.github.com/users/Larhzu/received_events","type":"User","site_admin":false},"labels":[{"id":53804675,"node_id":"MDU6TGFiZWw1MzgwNDY3NQ==","url":"https://api.github.com/repos/asciidoctor/asciidoctor/labels/improvement","name":"improvement","color":"eb6420","default":false,"description":null},{"id":234933497,"node_id":"MDU6TGFiZWwyMzQ5MzM0OTc=","url":"https://api.github.com/repos/asciidoctor/asciidoctor/labels/design","name":"design","color":"00b0d8","default":false,"description":null}],"state":"open","locked":false,"assignee":{"login":"Larhzu","id":120408189,"node_id":"U_kgDOBy1IfQ","avatar_url":"https://avatars.githubusercontent.com/u/120408189?v=4","gravatar_id":"","url":"https://api.github.com/users/Larhzu","html_url":"https://github.com/Larhzu","followers_url":"https://api.github.com/users/Larhzu/followers","following_url":"https://api.github.com/users/Larhzu/following{/other_user}","gists_url":"https://api.github.com/users/Larhzu/gists{/gist_id}","starred_url":"https://api.github.com/users/Larhzu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Larhzu/subscriptions","organizations_url":"https://api.github.com/users/Larhzu/orgs","repos_url":"https://api.github.com/users/Larhzu/repos","events_url":"https://api.github.com/users/Larhzu/events{/privacy}","received_events_url":"https://api.github.com/users/Larhzu/received_events","type":"User","site_admin":false},"assignees":[{"login":"Larhzu","id":120408189,"node_id":"U_kgDOBy1IfQ","avatar_url":"https://avatars.githubusercontent.com/u/120408189?v=4","gravatar_id":"","url":"https://api.github.com/users/Larhzu","html_url":"https://github.com/Larhzu","followers_url":"https://api.github.com/users/Larhzu/followers","following_url":"https://api.github.com/users/Larhzu/following{/other_user}","gists_url":"https://api.github.com/users/Larhzu/gists{/gist_id}","starred_url":"https://api.github.com/users/Larhzu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Larhzu/subscriptions","organizations_url":"https://api.github.com/users/Larhzu/orgs","repos_url":"https://api.github.com/users/Larhzu/repos","events_url":"https://api.github.com/users/Larhzu/events{/privacy}","received_events_url":"https://api.github.com/users/Larhzu/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/milestones/33","html_url":"https://github.com/asciidoctor/asciidoctor/milestone/33","labels_url":"https://api.github.com/repos/asciidoctor/asciidoctor/milestones/33/labels","id":3954975,"node_id":"MDk6TWlsZXN0b25lMzk1NDk3NQ==","number":33,"title":"v2.0.x","description":"Issues targeted at the v2.0 release line. The version labels (e.g, v2.0.0) record the release in which an issue was resolved.","creator":{"login":"mojavelinux","id":79351,"node_id":"MDQ6VXNlcjc5MzUx","avatar_url":"https://avatars.githubusercontent.com/u/79351?v=4","gravatar_id":"","url":"https://api.github.com/users/mojavelinux","html_url":"https://github.com/mojavelinux","followers_url":"https://api.github.com/users/mojavelinux/followers","following_url":"https://api.github.com/users/mojavelinux/following{/other_user}","gists_url":"https://api.github.com/users/mojavelinux/gists{/gist_id}","starred_url":"https://api.github.com/users/mojavelinux/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mojavelinux/subscriptions","organizations_url":"https://api.github.com/users/mojavelinux/orgs","repos_url":"https://api.github.com/users/mojavelinux/repos","events_url":"https://api.github.com/users/mojavelinux/events{/privacy}","received_events_url":"https://api.github.com/users/mojavelinux/received_events","type":"User","site_admin":false},"open_issues":4,"closed_issues":180,"state":"open","created_at":"2019-01-09T08:53:30Z","updated_at":"2023-12-30T02:02:53Z","due_on":null,"closed_at":null},"comments":3,"created_at":"2023-12-28T17:08:10Z","updated_at":"2024-01-02T21:07:01Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Test case:\r\n\r\n```\r\n= Title\r\n\r\nFoo.footnote:[Bar]\r\n```\r\n\r\nThe link after Foo is underlined in active state (keeping the mouse button pressed down) but the link before Bar isn't underlined in active state.\r\n\r\nThe following could be added for consistency with `sup.footnote a:active` (and `#toc a:active`):\r\n\r\n```\r\n#footnotes .footnote a:first-of-type:active {\r\n  text-decoration: underline;\r\n}\r\n```\r\n\r\nThen the section anchors would be the only links without underline in active state, which looks fine to me.","reactions":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4530/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4530/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/comments/1874569822","html_url":"https://github.com/asciidoctor/asciidoctor/issues/4530#issuecomment-1874569822","issue_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4530","id":1874569822,"node_id":"IC_kwDOAEUE485vu6pe","user":{"login":"mojavelinux","id":79351,"node_id":"MDQ6VXNlcjc5MzUx","avatar_url":"https://avatars.githubusercontent.com/u/79351?v=4","gravatar_id":"","url":"https://api.github.com/users/mojavelinux","html_url":"https://github.com/mojavelinux","followers_url":"https://api.github.com/users/mojavelinux/followers","following_url":"https://api.github.com/users/mojavelinux/following{/other_user}","gists_url":"https://api.github.com/users/mojavelinux/gists{/gist_id}","starred_url":"https://api.github.com/users/mojavelinux/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mojavelinux/subscriptions","organizations_url":"https://api.github.com/users/mojavelinux/orgs","repos_url":"https://api.github.com/users/mojavelinux/repos","events_url":"https://api.github.com/users/mojavelinux/events{/privacy}","received_events_url":"https://api.github.com/users/mojavelinux/received_events","type":"User","site_admin":false},"created_at":"2024-01-02T21:07:00Z","updated_at":"2024-01-02T21:07:00Z","author_association":"MEMBER","body":"Thanks! I'll have a look at it asap.","reactions":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/comments/1874569822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2024-01-02T21:07:02Z","org":{"id":3137042,"login":"asciidoctor","gravatar_id":"","url":"https://api.github.com/orgs/asciidoctor","avatar_url":"https://avatars.githubusercontent.com/u/3137042?"}}
{"id":"34528350551","type":"IssueCommentEvent","actor":{"id":120408189,"login":"Larhzu","display_login":"Larhzu","gravatar_id":"","url":"https://api.github.com/users/Larhzu","avatar_url":"https://avatars.githubusercontent.com/u/120408189?"},"repo":{"id":4523235,"name":"asciidoctor/asciidoctor","url":"https://api.github.com/repos/asciidoctor/asciidoctor"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4532","repository_url":"https://api.github.com/repos/asciidoctor/asciidoctor","labels_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4532/labels{/name}","comments_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4532/comments","events_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4532/events","html_url":"https://github.com/asciidoctor/asciidoctor/issues/4532","id":2058666569,"node_id":"I_kwDOAEUE4856tMJJ","number":4532,"title":"Stylesheet: License should be included","user":{"login":"Larhzu","id":120408189,"node_id":"U_kgDOBy1IfQ","avatar_url":"https://avatars.githubusercontent.com/u/120408189?v=4","gravatar_id":"","url":"https://api.github.com/users/Larhzu","html_url":"https://github.com/Larhzu","followers_url":"https://api.github.com/users/Larhzu/followers","following_url":"https://api.github.com/users/Larhzu/following{/other_user}","gists_url":"https://api.github.com/users/Larhzu/gists{/gist_id}","starred_url":"https://api.github.com/users/Larhzu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Larhzu/subscriptions","organizations_url":"https://api.github.com/users/Larhzu/orgs","repos_url":"https://api.github.com/users/Larhzu/repos","events_url":"https://api.github.com/users/Larhzu/events{/privacy}","received_events_url":"https://api.github.com/users/Larhzu/received_events","type":"User","site_admin":false},"labels":[{"id":6197069,"node_id":"MDU6TGFiZWw2MTk3MDY5","url":"https://api.github.com/repos/asciidoctor/asciidoctor/labels/declined","name":"declined","color":"444444","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2023-12-28T17:24:58Z","updated_at":"2024-01-02T21:29:21Z","closed_at":"2023-12-30T01:37:00Z","author_association":"NONE","active_lock_reason":null,"body":"The default stylesheet, that gets embedded into the HTML output by default, only includes the following line that refers to the license or copyright info:\r\n\r\n```\r\n/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */\r\n```\r\n\r\nThe MIT license requires that the copyright notice and the license itself must be included in all substantial portions of the licensed work. The stylesheet is clearly a substantial portion of Asciidoctor (it's much more than a dozen simple lines of code).\r\n\r\nMy interpretation is that to legally distribute the HTML-with-the-default-stylesheet output of Asciidoctor one would need to include the copyright and license info manually. This obviously won't usually get done.\r\n\r\nIncluding the copyright notice and the license text in full would make the stylesheet slightly bigger but it seems the most practical option. Including only an URL to the license isn't enough:\r\n\r\n1. The document might be read offline.\r\n2. The document must stay redistributable in the future even if the license URL no longer worked for whatever reason.\r\n\r\nThe copyright notice should include the end year like \"2012-2023\" instead of \"2012-present\" as (at least in theory) copyright is meant to expire some day and \"present\" will become inaccurate when the document gets old.\r\n\r\nI understand this can feel annoying and also be somewhat annoying to implement in practice (keeping the notice up to date). So I sympathize but still think this is worth doing.\r\n","reactions":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4532/timeline","performed_via_github_app":null,"state_reason":"completed"},"comment":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/comments/1874590386","html_url":"https://github.com/asciidoctor/asciidoctor/issues/4532#issuecomment-1874590386","issue_url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/4532","id":1874590386,"node_id":"IC_kwDOAEUE485vu_qy","user":{"login":"Larhzu","id":120408189,"node_id":"U_kgDOBy1IfQ","avatar_url":"https://avatars.githubusercontent.com/u/120408189?v=4","gravatar_id":"","url":"https://api.github.com/users/Larhzu","html_url":"https://github.com/Larhzu","followers_url":"https://api.github.com/users/Larhzu/followers","following_url":"https://api.github.com/users/Larhzu/following{/other_user}","gists_url":"https://api.github.com/users/Larhzu/gists{/gist_id}","starred_url":"https://api.github.com/users/Larhzu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Larhzu/subscriptions","organizations_url":"https://api.github.com/users/Larhzu/orgs","repos_url":"https://api.github.com/users/Larhzu/repos","events_url":"https://api.github.com/users/Larhzu/events{/privacy}","received_events_url":"https://api.github.com/users/Larhzu/received_events","type":"User","site_admin":false},"created_at":"2024-01-02T21:29:20Z","updated_at":"2024-01-02T21:29:20Z","author_association":"NONE","body":"> It's a common misconception that a license has to be repeated in its entirety in every source file.\r\n\r\nMaybe it is common but I know it's not true. Having just one copy is indeed fine in the source tree.\r\n\r\n> If this presents a problem for you in your particular usage (which I understand), you're free to write a postprocessor extension (or similar) to inject it into the output.\r\n\r\nThe MIT license is the only thing that gives me and others a legal permission to distribute the stylesheet (or any other file from Asciidoctor), thus I will follow the requirements in the license carefully. Adding the copyright notice and license is indeed a trivial thing for me to do. I merely thought that it would have been convenient default for users in general as well.\r\n\r\nI apologize for the noise. Thanks for the great software!\r\n","reactions":{"url":"https://api.github.com/repos/asciidoctor/asciidoctor/issues/comments/1874590386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2024-01-02T21:29:21Z","org":{"id":3137042,"login":"asciidoctor","gravatar_id":"","url":"https://api.github.com/orgs/asciidoctor","avatar_url":"https://avatars.githubusercontent.com/u/3137042?"}}
