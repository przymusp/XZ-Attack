{"id":"25099726518","type":"PushEvent","actor":{"id":78042786,"login":"JiaT75","display_login":"JiaT75","gravatar_id":"","url":"https://api.github.com/users/JiaT75","avatar_url":"https://avatars.githubusercontent.com/u/78042786?"},"repo":{"id":453091377,"name":"JiaT75/XZ_Utils_Unofficial","url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial"},"payload":{"push_id":11591356237,"size":36,"distinct_size":2,"ref":"refs/heads/tuktest_index","head":"43ef29db4b0939ef2c597243835cf0839d28f931","before":"181818b3d20745c5f563f871943b5e9e140f1f83","commits":[{"sha":"508a44372c5b0dede8863fd0d358d4a9d8645c95","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"liblzma: Add API doc note about the .xz decoder LZMA_MEMLIMIT_ERROR bug.\n\nThe bug was fixed in 660739f99ab211edec4071de98889fb32ed04e98.","distinct":false,"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/commits/508a44372c5b0dede8863fd0d358d4a9d8645c95"},{"sha":"fae37ad2affd8fe8871f4ff93d5cab5ec14d5e58","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"tuklib_integer: Add 64-bit endianness-converting reads and writes.\n\nAlso update the comment in liblzma's memcmplen.h.\n\nThanks to Michał Górny for the original patch for the reads.","distinct":false,"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/commits/fae37ad2affd8fe8871f4ff93d5cab5ec14d5e58"},{"sha":"6ca5c354bd4620aa7f81da68870eef1b1f26288f","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"Tests: Fix compilation error when threading support has been disabled.\n\nNow tests that require threading are skipped when threading\nsupport has been disabled.\n\nThanks to Sebastian Andrzej Siewior.","distinct":false,"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/commits/6ca5c354bd4620aa7f81da68870eef1b1f26288f"},{"sha":"14af758a770c7781af18fb66d6d21ee5b1c27f04","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"liblzma: Fix a compilation issue when encoders are disabled.\n\nWhen encoders were disabled and threading enabled, outqueue.c and\noutqueue.h were not compiled. The multi threaded decoder required\nthese files, so compilation failed.","distinct":false,"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/commits/14af758a770c7781af18fb66d6d21ee5b1c27f04"},{"sha":"7dcabeec63d46b436fa5f043c3d1f09d0e15be16","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"Tests: Include mythread.h in the tests that use MYTHREAD_ENABLED.","distinct":false,"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/commits/7dcabeec63d46b436fa5f043c3d1f09d0e15be16"},{"sha":"84963318952064a93bfc52edd6b0ef70593384ee","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"Tests: Fix compilation issues.\n\ntest_bcj_exact_size, test_check, test_hardware, and test_index will\nall now compile and skip properly if encoders or decoders are disabled.\n\nAlso fixed a small typo (disabed -> disabled).\n\nThanks to Sebastian Andrzej Siewior.","distinct":false,"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/commits/84963318952064a93bfc52edd6b0ef70593384ee"},{"sha":"827ac5b4821491fd3afe0d0e1ddac326253aeb66","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"Tests: Refactor test_block_header.c.\n\ntest_block_header now achieves higher test coverage. Also the\ntest will now compile and skip properly if encoders or decoders\nare disabled.\n\nThanks to Sebastian Andrzej Siewior.","distinct":false,"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/commits/827ac5b4821491fd3afe0d0e1ddac326253aeb66"},{"sha":"6a86e81cab202d0a812a7b2e9efacaf70c58ba38","author":{"email":"jiat0218@gmail.com","name":"Jia Tan"},"message":"Tests: Refactor test_stream_flags.c.\n\nConverts test_stream_flags to tuktest. Also the test will now\ncompile and skip properly if encoders or decoders are disabled.\n\nThanks to Sebastian Andrzej Siewior.","distinct":false,"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/commits/6a86e81cab202d0a812a7b2e9efacaf70c58ba38"},{"sha":"b5f8271b45b9b0e59485ffba3640ca3418835ec4","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"Tests: Add test_memlimit to .gitignore.\n\nThanks to Jia Tan.","distinct":false,"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/commits/b5f8271b45b9b0e59485ffba3640ca3418835ec4"},{"sha":"82fcb7cfc17ce62f79ebc7ca2374e1daca5e4d5e","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"Tests: Fix a warning in test_memlimit.c when decoders are disabled.","distinct":false,"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/commits/82fcb7cfc17ce62f79ebc7ca2374e1daca5e4d5e"},{"sha":"ca8bf9d7c5a30be8ba1eeb106fd892f19e83ed09","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"Test: Remove the (exit 1) lines.\n\nI suspect that I used these in the original version because\nAutoconf's manual describes that such a trick is needed in\nsome specific situations for portability reasons. None of those\nsituations listed on Autoconf 2.71 manual apply to these test\nscripts though so this cleans them up.","distinct":false,"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/commits/ca8bf9d7c5a30be8ba1eeb106fd892f19e83ed09"},{"sha":"424ac91c7e0419393ff2bde4f62e21fa611c776d","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"Tests: Skip tests in test_*.sh if encoders and/or decoders are disabled.\n\nThis isn't perfect as the scripts can still fail if only\ncertain filters are disabled. This is still an improvement\nas now \"make check\" has better behavior when all encoders\nor decoders are disabled.\n\nGrepping ../config.h is simple and fairly clean but it only\nworks if config.h was created. CMake builds don't create\nconfig.h but they don't use these test scripts either.\n\nThanks to Sebastian Andrzej Siewior for reporting the problem.\nThanks to Jia Tan for the original patch which grepped xz\nerror messages instead of config.h.","distinct":false,"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/commits/424ac91c7e0419393ff2bde4f62e21fa611c776d"},{"sha":"2611c4d90535652d3eb7ef4a026a6691276fab43","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"tuklib_cpucores: Use HW_NCPUONLINE on OpenBSD.\n\nOn OpenBSD the number of cores online is often less\nthan what HW_NCPU would return because OpenBSD disables\nsimultaneous multi-threading (SMT) by default.\n\nThanks to Christian Weisgerber.","distinct":false,"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/commits/2611c4d90535652d3eb7ef4a026a6691276fab43"},{"sha":"fda9f85f52c546f7ca0313cf89481da4707fecb3","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"liblzma: Threaded decoder: Stop the worker threads on errors.\n\nIt's waste of CPU time and electricity to leave the unfinished\nworker threads running when it is known that their output will\nget ignored.","distinct":false,"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/commits/fda9f85f52c546f7ca0313cf89481da4707fecb3"},{"sha":"85624015978b0de294cff3df79006df987c552b1","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"xz: If input file cannot be removed, treat it as a warning, not error.\n\nTreating it as a warning (message + exit status 2) matches gzip\nand it seems more logical as at that point the output file has\nalready been successfully closed. When it's a warning it is\npossible to suppress it with --no-warn.","distinct":false,"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/commits/85624015978b0de294cff3df79006df987c552b1"},{"sha":"8b46ae8cdeddfd7dc01fec92971b8696e9a96c5d","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"xz: Refactor to remove is_empty_filename().\n\nLong ago it was used in list.c too but nowadays it's needed\nonly in io_open_src() so it's nicer to avoid a separate function.","distinct":false,"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/commits/8b46ae8cdeddfd7dc01fec92971b8696e9a96c5d"},{"sha":"aa4fe145b9486adc454f44fd3e09be9add808a0f","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"xz: Clarify the man page: input file isn't removed if an error occurs.","distinct":false,"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/commits/aa4fe145b9486adc454f44fd3e09be9add808a0f"},{"sha":"f9913e8ee2ba0b1e4ff4d0aa4c001aae305ed944","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"xz: Fix decompressor behavior if input uses an unsupported check type.\n\nNow files with unsupported check will make xz display\na warning, set the exit status to 2 (unless --no-warn is used),\nand then decompress the file normally. This is how it was\nsupposed to work since the beginning but this was broken by\nthe commit 231c3c7098f1099a56abb8afece76fc9b8699f05, that is,\na little before 5.0.0 was released. The buggy behavior displayed\na message, set exit status 1 (error), and xz didn't attempt to\nto decompress the file.\n\nThis doesn't matter today except for special builds that disable\nCRC64 or SHA-256 at build time (but such builds should be used\nin special situations only). The bug matters if new check type\nis added in the future and an old xz version is used to decompress\nsuch a file; however, it's likely that such files would use a new\nfilter too and an old xz wouldn't be able to decompress the file\nanyway.\n\nThe first hunk in the commit is the actual fix. The second hunk\nis a cleanup since LZMA_TELL_ANY_CHECK isn't used in xz.\n\nThere is a test file for unsupported check type but it wasn't\nused by test_files.sh, perhaps due to different behavior between\nxz and the simpler xzdec.","distinct":false,"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/commits/f9913e8ee2ba0b1e4ff4d0aa4c001aae305ed944"},{"sha":"563288ea705e83ff5cb292adf794650c263bca1d","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"xz: Add support for OpenBSD's pledge() sandbox.","distinct":false,"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/commits/563288ea705e83ff5cb292adf794650c263bca1d"},{"sha":"054ccd6d14b2cc6eddc56897af280d3221414150","author":{"email":"lasse.collin@tukaani.org","name":"Lasse Collin"},"message":"xz: Fix --single-stream with an empty .xz Stream.\n\nExample:\n\n    $ xz -dc --single-stream good-0-empty.xz\n    xz: good-0-empty.xz: Internal error (bug)\n\nThe code, that is tries to catch some input file issues early,\ndidn't anticipate LZMA_STREAM_END which is possible in that\ncode only when --single-stream is used.","distinct":false,"url":"https://api.github.com/repos/JiaT75/XZ_Utils_Unofficial/commits/054ccd6d14b2cc6eddc56897af280d3221414150"}]},"public":true,"created_at":"2022-11-08T12:49:44Z"}
